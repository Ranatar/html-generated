<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ê–°–¢–†–û–ù–û–ú–ò–ö–û–ù - –°–í–ï–¢ –ò–ú–ü–ï–†–ê–¢–û–†–ê</title>
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
<style>
/* ==================== –ì–õ–û–ë–ê–õ–¨–ù–´–ï –°–¢–ò–õ–ò ==================== */
* { 
    margin: 0; 
    padding: 0; 
    box-sizing: border-box; 
}

:root {
    /* –û—Å–Ω–æ–≤–Ω—ã–µ —Ü–≤–µ—Ç–∞ */
    --imperial-gold: #d4af37;
    --blood-red: #8B0000;
    --dark-bg: #0a0a0a;
    --panel-bg: #1a1a1a;
    --panel-border: #2a2a2a;
    
    /* –¶–≤–µ—Ç–∞ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ */
    --glow-gold: #ffd700;
    --chaos-purple: #6a0dad;
    --warning-orange: #ff6600;
    --tech-blue: #1e90ff;
    --success-green: #00ff00;
    --critical-red: #ff0000;
    
    /* –¶–≤–µ—Ç–∞ —Ñ—Ä–∞–∫—Ü–∏–π */
    --chaos-red: #8B0000;
    --tyranid-purple: #4B0082;
    --necron-green: #39FF14;
    --ork-green: #228B22;
    --tau-cyan: #00CED1;
    --eldar-blue: #4169E1;
    
    /* –†–∞–∑–º–µ—Ä—ã */
    --header-height: 120px;
    --panel-padding: 25px;
    --border-radius: 4px;
}

/* ==================== –û–°–ù–û–í–ù–û–ô –§–û–ù –ò BODY ==================== */
body {
    font-family: 'Orbitron', monospace;
    background: linear-gradient(180deg, var(--dark-bg) 0%, var(--panel-bg) 50%, var(--dark-bg) 100%);
    color: #ccc;
    min-height: 100vh;
    overflow-x: hidden;
    position: relative;
}

/* –≠—Ñ—Ñ–µ–∫—Ç —Å–∫–∞–Ω–∏—Ä—É—é—â–∏—Ö –ª–∏–Ω–∏–π */
body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: repeating-linear-gradient(
        0deg,
        transparent,
        transparent 2px,
        rgba(255,255,255,0.02) 2px,
        rgba(255,255,255,0.02) 4px
    );
    pointer-events: none;
    z-index: 1;
    animation: scanline 8s linear infinite;
}

@keyframes scanline {
    0% { transform: translateY(0); }
    100% { transform: translateY(4px); }
}

/* –≠—Ñ—Ñ–µ–∫—Ç –∑–≤—ë–∑–¥ –Ω–∞ —Ñ–æ–Ω–µ */
body::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: 
        radial-gradient(2px 2px at 20% 30%, white, transparent),
        radial-gradient(2px 2px at 60% 70%, white, transparent),
        radial-gradient(1px 1px at 50% 50%, white, transparent),
        radial-gradient(1px 1px at 80% 10%, white, transparent),
        radial-gradient(2px 2px at 90% 60%, white, transparent);
    background-size: 200% 200%;
    animation: stars 200s linear infinite;
    opacity: 0.3;
    pointer-events: none;
    z-index: 1;
}

@keyframes stars {
    0% { background-position: 0% 0%; }
    100% { background-position: -200% -200%; }
}

/* ==================== –ö–û–ù–¢–ï–ô–ù–ï–† ==================== */
.container {
    max-width: 1800px;
    margin: 0 auto;
    padding: 20px;
    position: relative;
    z-index: 2;
}

/* ==================== –ó–ê–ì–û–õ–û–í–û–ö ==================== */
header {
    text-align: center;
    padding: 40px 20px;
    background: linear-gradient(180deg, rgba(42, 42, 42, 0.8) 0%, transparent 100%);
    border-bottom: 3px solid var(--imperial-gold);
    margin-bottom: 30px;
    animation: fadeInDown 1s ease-out;
    position: relative;
}

header::before {
    content: '‚öú';
    position: absolute;
    top: 10px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 3em;
    color: var(--imperial-gold);
    opacity: 0.3;
}

h1 {
    font-family: 'Cinzel', serif;
    font-size: 3.8em;
    font-weight: 900;
    color: var(--imperial-gold);
    text-shadow: 
        0 0 20px rgba(212,175,55,0.8),
        0 0 40px rgba(212,175,55,0.4),
        2px 2px 4px #000;
    letter-spacing: 10px;
    margin-bottom: 15px;
    animation: titleGlow 3s ease-in-out infinite alternate;
}

@keyframes titleGlow {
    0% { 
        text-shadow: 
            0 0 20px rgba(212,175,55,0.6),
            0 0 40px rgba(212,175,55,0.3),
            2px 2px 4px #000;
    }
    100% { 
        text-shadow: 
            0 0 30px rgba(212,175,55,1),
            0 0 60px rgba(212,175,55,0.6),
            2px 2px 4px #000;
    }
}

.subtitle {
    font-size: 0.95em;
    color: #888;
    letter-spacing: 5px;
    text-transform: uppercase;
    margin-bottom: 10px;
}

.motto {
    font-family: 'Cinzel', serif;
    font-size: 1.1em;
    color: var(--imperial-gold);
    font-style: italic;
    letter-spacing: 2px;
    margin-top: 15px;
    opacity: 0.7;
}

/* ==================== –û–°–ù–û–í–ù–ê–Ø –°–ï–¢–ö–ê ==================== */
.main-layout {
    display: grid;
    grid-template-columns: 380px 1fr 380px;
    gap: 20px;
    margin-bottom: 20px;
}

@media (max-width: 1600px) {
    .main-layout {
        grid-template-columns: 1fr 1fr;
    }
    
    .right-panel {
        grid-column: 1 / -1;
    }
}

@media (max-width: 1000px) {
    .main-layout {
        grid-template-columns: 1fr;
    }
}

/* ==================== –ü–ê–ù–ï–õ–ò ==================== */
.panel {
    background: linear-gradient(135deg, var(--panel-border), var(--panel-bg));
    border: 2px solid #444;
    padding: var(--panel-padding);
    box-shadow: 
        inset 0 2px 5px rgba(0,0,0,0.8),
        0 0 20px rgba(0,0,0,0.5);
    position: relative;
    animation: fadeIn 0.8s ease-out;
    border-radius: var(--border-radius);
}

.panel::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, transparent, var(--imperial-gold), transparent);
    opacity: 0.3;
}

.panel-title {
    font-family: 'Cinzel', serif;
    font-size: 1.5em;
    color: var(--imperial-gold);
    text-transform: uppercase;
    margin-bottom: 20px;
    letter-spacing: 3px;
    border-bottom: 2px solid #444;
    padding-bottom: 12px;
    display: flex;
    align-items: center;
    gap: 10px;
}

.panel-title .icon {
    font-size: 1.2em;
}

.panel-subtitle {
    font-size: 0.75em;
    color: #888;
    font-family: 'Orbitron', monospace;
    letter-spacing: 1px;
    margin-left: auto;
}

/* ==================== –ü–ê–ù–ï–õ–¨ –†–ï–°–£–†–°–û–í ==================== */
.resource-bar {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 15px;
    padding: 20px;
    background: rgba(0,0,0,0.4);
    border: 2px solid #444;
    margin-bottom: 20px;
    border-radius: var(--border-radius);
}

.resource-item {
    text-align: center;
    padding: 10px;
    background: rgba(0,0,0,0.3);
    border: 1px solid #333;
    border-radius: var(--border-radius);
    transition: all 0.3s ease;
    position: relative;
}

.resource-item:hover {
    border-color: var(--imperial-gold);
    background: rgba(212,175,55,0.05);
}

.resource-icon {
    font-size: 2em;
    margin-bottom: 8px;
    display: block;
    filter: drop-shadow(0 0 5px rgba(212,175,55,0.5));
}

.resource-amount {
    font-size: 1.5em;
    color: var(--glow-gold);
    font-weight: 700;
    display: block;
    margin: 5px 0;
    text-shadow: 0 0 10px rgba(255,215,0,0.5);
}

.resource-label {
    font-size: 0.75em;
    color: #888;
    text-transform: uppercase;
    letter-spacing: 1px;
    display: block;
}

.resource-change {
    font-size: 0.7em;
    color: #666;
    margin-top: 5px;
}

.resource-change.positive {
    color: var(--success-green);
}

.resource-change.negative {
    color: var(--critical-red);
}

/* ==================== –ú–ï–¢–†–ò–ö–ò ==================== */
.metric {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin: 15px 0;
    padding: 12px;
    background: rgba(0,0,0,0.3);
    border-left: 3px solid var(--imperial-gold);
    border-radius: var(--border-radius);
    transition: all 0.3s ease;
}

.metric:hover {
    background: rgba(212,175,55,0.05);
    border-left-width: 5px;
}

.metric-label {
    color: #999;
    font-size: 0.9em;
    text-transform: uppercase;
    letter-spacing: 1px;
    display: flex;
    align-items: center;
    gap: 8px;
}

.metric-value {
    font-size: 1.4em;
    font-weight: 700;
    color: var(--glow-gold);
    text-shadow: 0 0 10px rgba(255,215,0,0.5);
}

.metric-value.critical {
    color: var(--critical-red);
    animation: pulse 0.5s infinite;
}

.metric-value.warning {
    color: var(--warning-orange);
}

.metric-value.success {
    color: var(--success-green);
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.4; }
}

/* ==================== –ü–†–û–ì–†–ï–°–°-–ë–ê–†–´ ==================== */
.progress-container {
    margin: 15px 0;
}

.progress-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 8px;
}

.progress-title {
    font-size: 0.9em;
    color: #999;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.progress-percentage {
    font-size: 0.9em;
    color: var(--glow-gold);
    font-weight: 700;
}

.progress-bar {
    width: 100%;
    height: 32px;
    background: rgba(0,0,0,0.6);
    border: 2px solid #444;
    position: relative;
    overflow: hidden;
    border-radius: var(--border-radius);
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--imperial-gold), var(--glow-gold), var(--imperial-gold));
    transition: width 0.5s ease;
    position: relative;
    box-shadow: 0 0 20px rgba(255,215,0,0.6);
}

.progress-fill.critical {
    background: linear-gradient(90deg, var(--blood-red), var(--critical-red), var(--blood-red));
    box-shadow: 0 0 20px rgba(255,0,0,0.6);
    animation: criticalPulse 1s infinite;
}

@keyframes criticalPulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
}

.progress-fill.warning {
    background: linear-gradient(90deg, #cc5500, var(--warning-orange), #cc5500);
    box-shadow: 0 0 20px rgba(255,102,0,0.6);
}

.progress-fill::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
    animation: shimmer 2s infinite;
}

@keyframes shimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
}

.progress-label {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: #000;
    font-weight: 700;
    font-size: 0.9em;
    text-shadow: 
        1px 1px 2px rgba(255,255,255,0.5),
        0 0 5px rgba(255,255,255,0.3);
    z-index: 1;
    mix-blend-mode: difference;
}

/* ==================== –ö–ù–û–ü–ö–ò ==================== */
.button {
    background: linear-gradient(180deg, #3a3a3a, #1a1a1a);
    color: var(--imperial-gold);
    border: 2px solid var(--imperial-gold);
    padding: 15px 30px;
    font-family: 'Cinzel', serif;
    font-size: 1em;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 2px;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
    margin: 10px 5px;
    border-radius: var(--border-radius);
}

.button::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    background: radial-gradient(circle, rgba(212,175,55,0.3), transparent);
    transform: translate(-50%, -50%);
    transition: width 0.5s ease, height 0.5s ease;
}

.button:hover::before {
    width: 400px;
    height: 400px;
}

.button:hover {
    background: linear-gradient(180deg, #4a4a4a, #2a2a2a);
    box-shadow: 0 0 20px rgba(212,175,55,0.5);
    transform: translateY(-2px);
}

.button:active {
    transform: translateY(0);
}

.button:disabled {
    opacity: 0.3;
    cursor: not-allowed;
    border-color: #555;
    color: #555;
}

.button.danger {
    border-color: var(--critical-red);
    color: var(--critical-red);
}

.button.danger:hover {
    box-shadow: 0 0 20px rgba(255,0,0,0.5);
}

.button.success {
    border-color: var(--success-green);
    color: var(--success-green);
}

.button-group {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    margin: 15px 0;
}

/* ==================== –í–ö–õ–ê–î–ö–ò ==================== */
.tabs {
    display: flex;
    gap: 5px;
    margin-bottom: 20px;
    border-bottom: 2px solid #444;
    flex-wrap: wrap;
}

.tab {
    flex: 1;
    min-width: 120px;
    background: rgba(0,0,0,0.3);
    color: #888;
    border: none;
    padding: 15px 10px;
    font-family: 'Cinzel', serif;
    font-size: 0.9em;
    text-transform: uppercase;
    letter-spacing: 2px;
    cursor: pointer;
    transition: all 0.3s ease;
    border-top: 3px solid transparent;
    position: relative;
}

.tab:hover {
    background: rgba(212,175,55,0.1);
    color: var(--imperial-gold);
}

.tab.active {
    background: rgba(212,175,55,0.2);
    color: var(--imperial-gold);
    border-top-color: var(--imperial-gold);
}

.tab-content {
    display: none;
    animation: fadeIn 0.5s ease-out;
}

.tab-content.active {
    display: block;
}

/* ==================== –ö–ê–†–¢–û–ß–ö–ò ==================== */
.grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 15px;
    margin: 15px 0;
}

.card {
    background: rgba(0,0,0,0.5);
    border: 2px solid #444;
    padding: 20px;
    position: relative;
    transition: all 0.3s ease;
    border-radius: var(--border-radius);
}

.card:hover {
    border-color: var(--imperial-gold);
    box-shadow: 0 0 15px rgba(212,175,55,0.3);
    transform: translateY(-2px);
}

.card.locked {
    opacity: 0.5;
    filter: grayscale(80%);
}

.card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 12px;
}

.card-title {
    font-family: 'Cinzel', serif;
    font-size: 1.2em;
    color: var(--imperial-gold);
}

.card-level {
    font-size: 0.9em;
    color: #666;
    background: rgba(0,0,0,0.5);
    padding: 4px 8px;
    border-radius: 3px;
}

.card-desc {
    font-size: 0.85em;
    color: #aaa;
    line-height: 1.6;
    margin: 12px 0;
}

.card-stats {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
    margin: 12px 0;
    padding: 10px;
    background: rgba(0,0,0,0.3);
    border-radius: var(--border-radius);
}

.card-stat {
    font-size: 0.8em;
    color: #888;
}

.card-stat-value {
    color: var(--imperial-gold);
    font-weight: 700;
}

.card-cost {
    color: var(--glow-gold);
    font-weight: 700;
    margin: 10px 0;
    font-size: 0.9em;
}

.card-footer {
    display: flex;
    gap: 10px;
    margin-top: 15px;
}

/* ==================== –í–ò–ó–£–ê–õ–ò–ó–ê–¶–ò–Ø –ê–°–¢–†–û–ù–û–ú–ò–ö–û–ù–ê ==================== */
.astronomican-display {
    width: 100%;
    height: 400px;
    background: radial-gradient(circle at center, rgba(212,175,55,0.1) 0%, transparent 70%);
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 2px solid #444;
    margin: 20px 0;
    overflow: hidden;
    border-radius: var(--border-radius);
}

.golden-throne {
    width: 100px;
    height: 100px;
    background: radial-gradient(circle, var(--imperial-gold), var(--blood-red));
    border-radius: 50%;
    position: relative;
    animation: throneGlow 2s ease-in-out infinite;
    box-shadow: 
        0 0 40px var(--glow-gold),
        0 0 80px rgba(212,175,55,0.5),
        inset 0 0 20px rgba(0,0,0,0.5);
}

@keyframes throneGlow {
    0%, 100% {
        box-shadow: 
            0 0 40px var(--glow-gold),
            0 0 80px rgba(212,175,55,0.5),
            inset 0 0 20px rgba(0,0,0,0.5);
    }
    50% {
        box-shadow: 
            0 0 60px var(--glow-gold),
            0 0 120px rgba(212,175,55,0.8),
            inset 0 0 20px rgba(0,0,0,0.5);
    }
}

.astronomican-beam {
    position: absolute;
    width: 4px;
    height: 200%;
    background: linear-gradient(180deg, 
        transparent 0%,
        var(--glow-gold) 50%,
        transparent 100%
    );
    box-shadow: 0 0 20px var(--glow-gold);
    animation: beamRotate 10s linear infinite;
    transform-origin: center center;
}

@keyframes beamRotate {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.particle {
    position: absolute;
    width: 4px;
    height: 4px;
    background: var(--glow-gold);
    border-radius: 50%;
    box-shadow: 0 0 10px var(--glow-gold);
    animation: particleFloat 3s linear infinite;
}

@keyframes particleFloat {
    0% {
        transform: translate(0, 0) scale(1);
        opacity: 0;
    }
    10% {
        opacity: 1;
    }
    90% {
        opacity: 1;
    }
    100% {
        transform: translate(var(--tx), var(--ty)) scale(0);
        opacity: 0;
    }
}

/* ==================== –õ–û–ì –°–û–ë–´–¢–ò–ô ==================== */
.event-log {
    background: rgba(0,0,0,0.6);
    border: 2px solid #444;
    padding: 15px;
    height: 450px;
    overflow-y: auto;
    font-size: 0.85em;
    line-height: 1.6;
    border-radius: var(--border-radius);
}

.event-log::-webkit-scrollbar {
    width: 10px;
}

.event-log::-webkit-scrollbar-track {
    background: rgba(0,0,0,0.5);
}

.event-log::-webkit-scrollbar-thumb {
    background: var(--imperial-gold);
    border-radius: 5px;
}

.event-log::-webkit-scrollbar-thumb:hover {
    background: var(--glow-gold);
}

.event-entry {
    margin: 10px 0;
    padding: 10px;
    border-left: 3px solid #555;
    background: rgba(0,0,0,0.3);
    border-radius: var(--border-radius);
    animation: slideIn 0.3s ease-out;
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateX(-20px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.event-entry.info {
    border-left-color: var(--tech-blue);
}

.event-entry.warning {
    border-left-color: var(--warning-orange);
    color: var(--warning-orange);
}

.event-entry.critical {
    border-left-color: var(--critical-red);
    color: var(--critical-red);
    background: rgba(139,0,0,0.2);
}

.event-entry.success {
    border-left-color: var(--imperial-gold);
    color: var(--imperial-gold);
}

.event-timestamp {
    color: #666;
    font-size: 0.85em;
    margin-right: 10px;
    font-family: 'Orbitron', monospace;
}

/* ==================== –ê–ù–ò–ú–ê–¶–ò–ò ==================== */
@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

@keyframes fadeInDown {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ==================== –ú–û–î–ê–õ–¨–ù–´–ï –û–ö–ù–ê –ò –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø ==================== */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.8);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    animation: fadeIn 0.3s ease-out;
}

.modal {
    background: linear-gradient(135deg, var(--panel-border), var(--panel-bg));
    border: 3px solid var(--imperial-gold);
    padding: 30px;
    max-width: 800px;
    max-height: 80vh;
    overflow-y: auto;
    border-radius: var(--border-radius);
    animation: fadeInUp 0.3s ease-out;
}

.modal-header {
    font-family: 'Cinzel', serif;
    font-size: 2em;
    color: var(--imperial-gold);
    text-align: center;
    margin-bottom: 20px;
    border-bottom: 2px solid #444;
    padding-bottom: 15px;
}

.notification-container {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 999;
    max-width: 400px;
}

.notification {
    background: rgba(26, 26, 26, 0.95);
    border: 2px solid var(--imperial-gold);
    padding: 15px;
    margin-bottom: 10px;
    border-radius: var(--border-radius);
    animation: slideInRight 0.3s ease-out;
    position: relative;
}

@keyframes slideInRight {
    from {
        opacity: 0;
        transform: translateX(100px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.notification.warning {
    border-color: var(--warning-orange);
}

.notification.critical {
    border-color: var(--critical-red);
    animation: pulse 0.5s infinite;
}

.notification.success {
    border-color: var(--success-green);
}

.notification-close {
    position: absolute;
    top: 5px;
    right: 10px;
    background: none;
    border: none;
    color: #888;
    font-size: 1.5em;
    cursor: pointer;
    transition: color 0.3s ease;
}

.notification-close:hover {
    color: var(--imperial-gold);
}

/* ==================== –°–¢–ê–¢–ò–°–¢–ò–ö–ê ==================== */
.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 15px;
    margin: 20px 0;
}

.stat-box {
    background: rgba(0,0,0,0.5);
    padding: 20px;
    text-align: center;
    border: 2px solid #444;
    border-top: 4px solid var(--imperial-gold);
    border-radius: var(--border-radius);
    transition: all 0.3s ease;
}

.stat-box:hover {
    border-color: var(--imperial-gold);
    box-shadow: 0 0 15px rgba(212,175,55,0.3);
}

.stat-number {
    font-size: 2.5em;
    color: var(--glow-gold);
    font-weight: 700;
    display: block;
    margin: 10px 0;
    text-shadow: 0 0 15px rgba(255,215,0,0.5);
}

.stat-label {
    font-size: 0.8em;
    color: #888;
    text-transform: uppercase;
    letter-spacing: 1px;
}

/* –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –≤ —Å–ª–µ–¥—É—é—â–µ–π —á–∞—Å—Ç–∏... */
</style>
</head>
<body>


<!-- –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –æ—Ç –ß–∞—Å—Ç–∏ 1 - –≤—Å—Ç–∞–≤–∏—Ç—å –ø–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è —Ç–µ–≥–∞ </style> -->

<!-- ==================== –ó–ê–ì–û–õ–û–í–û–ö ==================== -->
<header>
    <h1>‚ö° –ê–°–¢–†–û–ù–û–ú–ò–ö–û–ù ‚ö°</h1>
    <div class="subtitle">–°–≤–µ—Ç –ò–º–ø–µ—Ä–∞—Ç–æ—Ä–∞ –≤–æ –¢—å–º–µ</div>
    <div class="motto">"–¢–æ–ª—å–∫–æ –≤ —Å–º–µ—Ä—Ç–∏ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –¥–æ–ª–≥"</div>
</header>

<div class="container">
    
    <!-- ==================== –ü–ê–ù–ï–õ–¨ –†–ï–°–£–†–°–û–í ==================== -->
    <div class="resource-bar">
        <div class="resource-item" title="–ü—Å–∏—Ö–∏—á–µ—Å–∫–∞—è —ç–Ω–µ—Ä–≥–∏—è –ø—Å–∞–π–∫–µ—Ä–æ–≤">
            <span class="resource-icon">üîÆ</span>
            <span class="resource-amount" id="res-psychic">0</span>
            <span class="resource-label">–ü—Å–∞–π–∫–µ—Ä—ã</span>
            <span class="resource-change" id="res-psychic-change">+0/–¥–µ–Ω—å</span>
        </div>
        
        <div class="resource-item" title="–ò–º–ø–µ—Ä—Å–∫–∏–µ –∫—Ä–µ–¥–∏—Ç—ã">
            <span class="resource-icon">üí∞</span>
            <span class="resource-amount" id="res-credits">10000</span>
            <span class="resource-label">–ö—Ä–µ–¥–∏—Ç—ã</span>
            <span class="resource-change" id="res-credits-change">+0/–¥–µ–Ω—å</span>
        </div>
        
        <div class="resource-item" title="–ù–∞—Å–µ–ª–µ–Ω–∏–µ –ò–º–ø–µ—Ä–∏—É–º–∞">
            <span class="resource-icon">üë•</span>
            <span class="resource-amount" id="res-population">1000</span>
            <span class="resource-label">–ù–∞—Å–µ–ª–µ–Ω–∏–µ (–º–ª—Ä–¥)</span>
            <span class="resource-change" id="res-population-change">+0/–¥–µ–Ω—å</span>
        </div>
        
        <div class="resource-item" title="–ê–¥–µ–ø—Ç—É—Å –ê—Å—Ç—Ä–∞ –ú–∏–ª–∏—Ç–∞—Ä—É–º">
            <span class="resource-icon">‚öîÔ∏è</span>
            <span class="resource-amount" id="res-military">100</span>
            <span class="resource-label">–ê—Ä–º–∏—è (–º–ª–Ω)</span>
            <span class="resource-change" id="res-military-change">+0/–¥–µ–Ω—å</span>
        </div>
        
        <div class="resource-item" title="–ò–º–ø–µ—Ä—Å–∫–∏–π —Ñ–ª–æ—Ç">
            <span class="resource-icon">üöÄ</span>
            <span class="resource-amount" id="res-fleet">50</span>
            <span class="resource-label">–§–ª–æ—Ç</span>
            <span class="resource-change" id="res-fleet-change">+0/–¥–µ–Ω—å</span>
        </div>
        
        <div class="resource-item" title="–ê–¥–µ–ø—Ç—É—Å –ú–µ—Ö–∞–Ω–∏–∫—É—Å">
            <span class="resource-icon">‚öôÔ∏è</span>
            <span class="resource-amount" id="res-tech">10</span>
            <span class="resource-label">–¢–µ—Ö–Ω–æ–∂—Ä–µ—Ü—ã</span>
            <span class="resource-change" id="res-tech-change">+0/–¥–µ–Ω—å</span>
        </div>
    </div>

    <!-- ==================== –û–°–ù–û–í–ù–ê–Ø –°–ï–¢–ö–ê ==================== -->
    <div class="main-layout">
        
        <!-- ==================== –õ–ï–í–ê–Ø –ü–ê–ù–ï–õ–¨ ==================== -->
        <div class="left-panel">
            
            <!-- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ê—Å—Ç—Ä–æ–Ω–æ–º–∏–∫–æ–Ω–∞ -->
            <div class="panel">
                <div class="panel-title">
                    <span class="icon">‚ö°</span>
                    –ê–°–¢–†–û–ù–û–ú–ò–ö–û–ù
                    <span class="panel-subtitle" id="throne-status">–ê–ö–¢–ò–í–ï–ù</span>
                </div>
                
                <div class="astronomican-display" id="astro-display">
                    <div class="golden-throne" id="golden-throne"></div>
                    <div class="astronomican-beam"></div>
                </div>
                
                <!-- –°–æ—Å—Ç–æ—è–Ω–∏–µ –ó–æ–ª–æ—Ç–æ–≥–æ –¢—Ä–æ–Ω–∞ -->
                <div class="metric">
                    <span class="metric-label">
                        <span>üëë</span> –°–æ—Å—Ç–æ—è–Ω–∏–µ –¢—Ä–æ–Ω–∞
                    </span>
                    <span class="metric-value" id="throne-condition">100%</span>
                </div>
                
                <div class="progress-container">
                    <div class="progress-header">
                        <span class="progress-title">–ú–æ—â–Ω–æ—Å—Ç—å –ê—Å—Ç—Ä–æ–Ω–æ–º–∏–∫–æ–Ω–∞</span>
                        <span class="progress-percentage" id="astro-power-pct">100%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="astro-power-fill" style="width: 100%">
                            <div class="progress-label" id="astro-power-label">100%</div>
                        </div>
                    </div>
                </div>
                
                <div class="progress-container">
                    <div class="progress-header">
                        <span class="progress-title">–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å</span>
                        <span class="progress-percentage" id="stability-pct">100%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="stability-fill" style="width: 100%">
                            <div class="progress-label" id="stability-label">100%</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–µ—Ä—Ç–≤–æ–ø—Ä–∏–Ω–æ—à–µ–Ω–∏—è–º–∏ -->
            <div class="panel">
                <div class="panel-title">
                    <span class="icon">üî•</span>
                    –ñ–ï–†–¢–í–û–ü–†–ò–ù–û–®–ï–ù–ò–Ø
                </div>
                
                <div class="metric">
                    <span class="metric-label">
                        <span>üíÄ</span> –°–∫–æ—Ä–æ—Å—Ç—å —Ä–∞—Å—Ö–æ–¥–∞
                    </span>
                    <span class="metric-value" id="sacrifice-rate">1000/–¥–µ–Ω—å</span>
                </div>
                
                <div class="metric">
                    <span class="metric-label">
                        <span>‚ö°</span> –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
                    </span>
                    <span class="metric-value" id="sacrifice-efficiency">100%</span>
                </div>
                
                <div class="button-group">
                    <button class="button" id="btn-sacrifice-low" onclick="Game.setSacrificeRate('low')">
                        –ù–∏–∑–∫–∞—è<br><small>(500/–¥–µ–Ω—å)</small>
                    </button>
                    <button class="button" id="btn-sacrifice-normal" onclick="Game.setSacrificeRate('normal')">
                        –°—Ä–µ–¥–Ω—è—è<br><small>(1000/–¥–µ–Ω—å)</small>
                    </button>
                    <button class="button" id="btn-sacrifice-high" onclick="Game.setSacrificeRate('high')">
                        –í—ã—Å–æ–∫–∞—è<br><small>(2000/–¥–µ–Ω—å)</small>
                    </button>
                </div>
                
                <button class="button danger" id="btn-emergency" onclick="Game.emergencyPower()" style="width: 100%">
                    ‚ö†Ô∏è –ê–í–ê–†–ò–ô–ù–´–ô –†–ï–ñ–ò–ú ‚ö†Ô∏è<br>
                    <small>(—Ö3 —Ä–∞—Å—Ö–æ–¥, 500 –∫—Ä–µ–¥–∏—Ç–æ–≤)</small>
                </button>
            </div>
            
            <!-- –°–æ—Å—Ç–æ—è–Ω–∏–µ –≤–∞—Ä–ø–∞ -->
            <div class="panel">
                <div class="panel-title">
                    <span class="icon">üåÄ</span>
                    –í–ê–†–ü-–ê–ö–¢–ò–í–ù–û–°–¢–¨
                </div>
                
                <div class="progress-container">
                    <div class="progress-header">
                        <span class="progress-title">–£—Ä–æ–≤–µ–Ω—å –≤–∞—Ä–ø–∞</span>
                        <span class="progress-percentage" id="warp-level-pct">25%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill warning" id="warp-level-fill" style="width: 25%">
                            <div class="progress-label" id="warp-level-label">–£–º–µ—Ä–µ–Ω–Ω–æ</div>
                        </div>
                    </div>
                </div>
                
                <div class="metric">
                    <span class="metric-label">
                        <span>üëπ</span> –£–≥—Ä–æ–∑–∞ –¥–µ–º–æ–Ω–æ–≤
                    </span>
                    <span class="metric-value warning" id="demon-threat">–ù–∏–∑–∫–∞—è</span>
                </div>
                
                <div class="metric">
                    <span class="metric-label">
                        <span>üå™Ô∏è</span> –í–∞—Ä–ø-—à—Ç–æ—Ä–º—ã
                    </span>
                    <span class="metric-value" id="warp-storms">0</span>
                </div>
                
                <button class="button" onclick="Game.showWarpDetails()" style="width: 100%">
                    –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏
                </button>
            </div>
        </div>
        
        <!-- ==================== –¶–ï–ù–¢–†–ê–õ–¨–ù–ê–Ø –ü–ê–ù–ï–õ–¨ ==================== -->
        <div class="center-panel">
            <div class="panel">
                
                <!-- –í–∫–ª–∞–¥–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
                <div class="tabs">
                    <button class="tab active" onclick="Game.switchTab('overview')">
                        üìä –û–±–∑–æ—Ä
                    </button>
                    <button class="tab" onclick="Game.switchTab('sectors')">
                        üó∫Ô∏è –°–µ–∫—Ç–æ—Ä—ã
                    </button>
                    <button class="tab" onclick="Game.switchTab('personnel')">
                        üë§ –ü–µ—Ä—Å–æ–Ω–∞–ª
                    </button>
                    <button class="tab" onclick="Game.switchTab('research')">
                        üî¨ –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
                    </button>
                    <button class="tab" onclick="Game.switchTab('military')">
                        ‚öîÔ∏è –í–æ–µ–Ω–Ω—ã–µ
                    </button>
                    <button class="tab" onclick="Game.switchTab('enemies')">
                        ‚ò†Ô∏è –í—Ä–∞–≥–∏
                    </button>
                    <button class="tab" onclick="Game.switchTab('upgrades')">
                        ‚¨ÜÔ∏è –£–ª—É—á—à–µ–Ω–∏—è
                    </button>
                </div>
                
                <!-- ========== –í–ö–õ–ê–î–ö–ê: –û–ë–ó–û–† ========== -->
                <div class="tab-content active" id="tab-overview">
                    <div class="stats-grid">
                        <div class="stat-box">
                            <span class="stat-label">–î–µ–Ω—å</span>
                            <span class="stat-number" id="stat-day">1</span>
                        </div>
                        <div class="stat-box">
                            <span class="stat-label">–ñ–µ—Ä—Ç–≤ –ø—Ä–∏–Ω–µ—Å–µ–Ω–æ</span>
                            <span class="stat-number" id="stat-sacrifices">0</span>
                        </div>
                        <div class="stat-box">
                            <span class="stat-label">–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–µ —Å–µ–∫—Ç–æ—Ä—ã</span>
                            <span class="stat-number" id="stat-sectors">50</span>
                        </div>
                        <div class="stat-box">
                            <span class="stat-label">–ü–æ—Ç–µ—Ä—è–Ω–Ω—ã–µ –º–∏—Ä—ã</span>
                            <span class="stat-number" id="stat-lost-worlds">0</span>
                        </div>
                        <div class="stat-box">
                            <span class="stat-label">–í—Ä–∞–≥–∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω—ã</span>
                            <span class="stat-number" id="stat-enemies-killed">0</span>
                        </div>
                        <div class="stat-box">
                            <span class="stat-label">–ó–∞–≤–µ—Ä—à–µ–Ω–æ –º–∏—Å—Å–∏–π</span>
                            <span class="stat-number" id="stat-missions">0</span>
                        </div>
                    </div>
                    
                    <div class="panel-title" style="margin-top: 30px;">
                        <span class="icon">üìú</span>
                        –ê–ö–¢–ò–í–ù–´–ï –ú–ò–°–°–ò–ò
                    </div>
                    
                    <div id="active-missions-container">
                        <div style="text-align: center; padding: 40px; color: #666;">
                            –ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –º–∏—Å—Å–∏–π
                        </div>
                    </div>
                    
                    <div class="panel-title" style="margin-top: 30px;">
                        <span class="icon">üéØ</span>
                        –î–û–°–¢–ò–ñ–ï–ù–ò–Ø
                    </div>
                    
                    <div class="grid" id="achievements-grid">
                        <!-- –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>
                
                <!-- ========== –í–ö–õ–ê–î–ö–ê: –°–ï–ö–¢–û–†–´ ========== -->
                <div class="tab-content" id="tab-sectors">
                    <div class="panel-title">
                        <span class="icon">üó∫Ô∏è</span>
                        –ì–ê–õ–ê–ö–¢–ò–ß–ï–°–ö–ê–Ø –ö–ê–†–¢–ê
                    </div>
                    
                    <div style="background: rgba(0,0,0,0.5); padding: 20px; border: 2px solid #444; border-radius: 4px; margin-bottom: 20px;">
                        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px;">
                            <div class="metric">
                                <span class="metric-label">–ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ</span>
                                <span class="metric-value success" id="sectors-safe">40</span>
                            </div>
                            <div class="metric">
                                <span class="metric-label">–ü–æ–¥ —É–≥—Ä–æ–∑–æ–π</span>
                                <span class="metric-value warning" id="sectors-threatened">8</span>
                            </div>
                            <div class="metric">
                                <span class="metric-label">–í –≤–æ–π–Ω–µ</span>
                                <span class="metric-value critical" id="sectors-war">2</span>
                            </div>
                            <div class="metric">
                                <span class="metric-label">–ü–æ—Ç–µ—Ä—è–Ω—ã</span>
                                <span class="metric-value" id="sectors-lost">0</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="grid" id="sectors-grid">
                        <!-- –°–µ–∫—Ç–æ—Ä—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>
                
                <!-- ========== –í–ö–õ–ê–î–ö–ê: –ü–ï–†–°–û–ù–ê–õ ========== -->
                <div class="tab-content" id="tab-personnel">
                    <div class="panel-title">
                        <span class="icon">üë§</span>
                        –ö–õ–Æ–ß–ï–í–û–ô –ü–ï–†–°–û–ù–ê–õ
                    </div>
                    
                    <div class="button-group">
                        <button class="button" onclick="Game.showPersonnelCategory('inquisitors')">
                            üîç –ò–Ω–∫–≤–∏–∑–∏—Ç–æ—Ä—ã
                        </button>
                        <button class="button" onclick="Game.showPersonnelCategory('techpriests')">
                            ‚öôÔ∏è –¢–µ—Ö–Ω–æ–∂—Ä–µ—Ü—ã
                        </button>
                        <button class="button" onclick="Game.showPersonnelCategory('astropaths')">
                            üì° –ê—Å—Ç—Ä–æ–ø–∞—Ç—ã
                        </button>
                        <button class="button" onclick="Game.showPersonnelCategory('generals')">
                            ‚öîÔ∏è –ì–µ–Ω–µ—Ä–∞–ª—ã
                        </button>
                        <button class="button" onclick="Game.showPersonnelCategory('navigators')">
                            üß≠ –ù–∞–≤–∏–≥–∞—Ç–æ—Ä—ã
                        </button>
                        <button class="button" onclick="Game.showPersonnelCategory('administrators')">
                            üìã –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã
                        </button>
                    </div>
                    
                    <div class="grid" id="personnel-grid">
                        <!-- –ü–µ—Ä—Å–æ–Ω–∞–ª –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>
                
                <!-- ========== –í–ö–õ–ê–î–ö–ê: –ò–°–°–õ–ï–î–û–í–ê–ù–ò–Ø ========== -->
                <div class="tab-content" id="tab-research">
                    <div class="panel-title">
                        <span class="icon">üî¨</span>
                        –¢–ï–•–ù–û–õ–û–ì–ò–ß–ï–°–ö–ò–ï –ò–°–°–õ–ï–î–û–í–ê–ù–ò–Ø
                    </div>
                    
                    <div class="button-group">
                        <button class="button" onclick="Game.showResearchCategory('psychic')">
                            üîÆ –ü—Å–∞–π–∫–µ—Ä
                        </button>
                        <button class="button" onclick="Game.showResearchCategory('warp')">
                            üåÄ –í–∞—Ä–ø
                        </button>
                        <button class="button" onclick="Game.showResearchCategory('military')">
                            ‚öîÔ∏è –í–æ–µ–Ω–Ω—ã–µ
                        </button>
                        <button class="button" onclick="Game.showResearchCategory('archeoteh')">
                            üèõÔ∏è –ê—Ä—Ö–µ–æ—Ç–µ—Ö
                        </button>
                        <button class="button" onclick="Game.showResearchCategory('defense')">
                            üõ°Ô∏è –û–±–æ—Ä–æ–Ω–∞
                        </button>
                    </div>
                    
                    <div id="current-research" style="margin: 20px 0;">
                        <!-- –¢–µ–∫—É—â–µ–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ -->
                    </div>
                    
                    <div class="grid" id="research-grid">
                        <!-- –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>
                
                <!-- ========== –í–ö–õ–ê–î–ö–ê: –í–û–ï–ù–ù–´–ï ========== -->
                <div class="tab-content" id="tab-military">
                    <div class="panel-title">
                        <span class="icon">‚öîÔ∏è</span>
                        –í–û–ï–ù–ù–´–ï –°–ò–õ–´ –ò–ú–ü–ï–†–ò–£–ú–ê
                    </div>
                    
                    <div class="stats-grid">
                        <div class="stat-box">
                            <span class="stat-label">–ê—Å—Ç—Ä–∞ –ú–∏–ª–∏—Ç–∞—Ä—É–º</span>
                            <span class="stat-number" id="military-guardsmen">100M</span>
                        </div>
                        <div class="stat-box">
                            <span class="stat-label">–ö–æ—Å–º–æ–¥–µ—Å–∞–Ω—Ç</span>
                            <span class="stat-number" id="military-spacemarines">1000</span>
                        </div>
                        <div class="stat-box">
                            <span class="stat-label">–ò–º–ø–µ—Ä—Å–∫–∏–π —Ñ–ª–æ—Ç</span>
                            <span class="stat-number" id="military-fleet">50</span>
                        </div>
                        <div class="stat-box">
                            <span class="stat-label">–ê–¥–µ–ø—Ç—É—Å –°–æ—Ä–æ—Ä–∏—Ç–∞—Å</span>
                            <span class="stat-number" id="military-sororitas">500</span>
                        </div>
                        <div class="stat-box">
                            <span class="stat-label">–¢–∏—Ç–∞–Ω—ã</span>
                            <span class="stat-number" id="military-titans">10</span>
                        </div>
                        <div class="stat-box">
                            <span class="stat-label">–û—Ä–±–∏—Ç–∞–ª—å–Ω—ã–µ —Å—Ç–∞–Ω—Ü–∏–∏</span>
                            <span class="stat-number" id="military-stations">5</span>
                        </div>
                    </div>
                    
                    <div class="panel-title" style="margin-top: 30px;">
                        <span class="icon">üöÄ</span>
                        –ü–†–û–ò–ó–í–û–î–°–¢–í–û –ò –ù–ê–ô–ú
                    </div>
                    
                    <div class="grid" id="military-recruitment-grid">
                        <!-- –ù–∞–π–º –≤–æ–π—Å–∫ -->
                    </div>
                </div>
                
                <!-- ========== –í–ö–õ–ê–î–ö–ê: –í–†–ê–ì–ò ========== -->
                <div class="tab-content" id="tab-enemies">
                    <div class="panel-title">
                        <span class="icon">‚ò†Ô∏è</span>
                        –í–†–ê–ì–ò –ò–ú–ü–ï–†–ò–£–ú–ê
                    </div>
                    
                    <div class="grid" id="enemies-grid">
                        <!-- –í—Ä–∞–≥–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                    
                    <div class="panel-title" style="margin-top: 30px;">
                        <span class="icon">‚ö°</span>
                        –ê–ö–¢–ò–í–ù–´–ï –£–ì–†–û–ó–´
                    </div>
                    
                    <div id="active-threats-container">
                        <!-- –ê–∫—Ç–∏–≤–Ω—ã–µ —É–≥—Ä–æ–∑—ã -->
                    </div>
                </div>
                
                <!-- ========== –í–ö–õ–ê–î–ö–ê: –£–õ–£–ß–®–ï–ù–ò–Ø ========== -->
                <div class="tab-content" id="tab-upgrades">
                    <div class="panel-title">
                        <span class="icon">‚¨ÜÔ∏è</span>
                        –£–õ–£–ß–®–ï–ù–ò–Ø –°–ò–°–¢–ï–ú
                    </div>
                    
                    <div class="button-group">
                        <button class="button" onclick="Game.showUpgradeCategory('throne')">
                            üëë –ó–æ–ª–æ—Ç–æ–π –¢—Ä–æ–Ω
                        </button>
                        <button class="button" onclick="Game.showUpgradeCategory('astronomican')">
                            ‚ö° –ê—Å—Ç—Ä–æ–Ω–æ–º–∏–∫–æ–Ω
                        </button>
                        <button class="button" onclick="Game.showUpgradeCategory('defense')">
                            üõ°Ô∏è –û–±–æ—Ä–æ–Ω–∞ –¢–µ—Ä—Ä—ã
                        </button>
                        <button class="button" onclick="Game.showUpgradeCategory('infrastructure')">
                            üèóÔ∏è –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
                        </button>
                        <button class="button" onclick="Game.showUpgradeCategory('economy')">
                            üí∞ –≠–∫–æ–Ω–æ–º–∏–∫–∞
                        </button>
                    </div>
                    
                    <div class="grid" id="upgrades-grid">
                        <!-- –£–ª—É—á—à–µ–Ω–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>
                
            </div>
        </div>
        
        <!-- ==================== –ü–†–ê–í–ê–Ø –ü–ê–ù–ï–õ–¨ ==================== -->
        <div class="right-panel">
            
            <!-- –õ–æ–≥ —Å–æ–±—ã—Ç–∏–π -->
            <div class="panel">
                <div class="panel-title">
                    <span class="icon">üìú</span>
                    –õ–û–ì –°–û–ë–´–¢–ò–ô
                    <button class="button" style="margin-left: auto; padding: 5px 15px; font-size: 0.8em;" onclick="Game.clearLog()">
                        –û—á–∏—Å—Ç–∏—Ç—å
                    </button>
                </div>
                
                <div class="event-log" id="event-log">
                    <!-- –°–æ–±—ã—Ç–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>
            
            <!-- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
            <div class="panel">
                <div class="panel-title">
                    <span class="icon">‚ö°</span>
                    –ë–´–°–¢–†–´–ï –î–ï–ô–°–¢–í–ò–Ø
                </div>
                
                <button class="button success" onclick="Game.recruitPsykers()" style="width: 100%; margin: 5px 0;">
                    üîÆ –ù–∞–±—Ä–∞—Ç—å –ø—Å–∞–π–∫–µ—Ä–æ–≤<br>
                    <small>(1000 –∫—Ä–µ–¥–∏—Ç–æ–≤)</small>
                </button>
                
                <button class="button" onclick="Game.stabilizeSector()" style="width: 100%; margin: 5px 0;">
                    üõ°Ô∏è –°—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–µ–∫—Ç–æ—Ä<br>
                    <small>(500 –∫—Ä–µ–¥–∏—Ç–æ–≤)</small>
                </button>
                
                <button class="button" onclick="Game.sendInquisitor()" style="width: 100%; margin: 5px 0;">
                    üîç –ü–æ—Å–ª–∞—Ç—å –∏–Ω–∫–≤–∏–∑–∏—Ç–æ—Ä–∞<br>
                    <small>(300 –∫—Ä–µ–¥–∏—Ç–æ–≤)</small>
                </button>
                
                <button class="button" onclick="Game.reinforceFleet()" style="width: 100%; margin: 5px 0;">
                    üöÄ –£—Å–∏–ª–∏—Ç—å —Ñ–ª–æ—Ç<br>
                    <small>(2000 –∫—Ä–µ–¥–∏—Ç–æ–≤)</small>
                </button>
                
                <div style="border-top: 2px solid #444; margin: 15px 0; padding-top: 15px;">
                    <button class="button" onclick="Game.save()" style="width: 100%; margin: 5px 0;">
                        üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
                    </button>
                    
                    <button class="button" onclick="Game.load()" style="width: 100%; margin: 5px 0;">
                        üìÇ –ó–∞–≥—Ä—É–∑–∏—Ç—å
                    </button>
                    
                    <button class="button danger" onclick="Game.showSettings()" style="width: 100%; margin: 5px 0;">
                        ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏
                    </button>
                </div>
            </div>
            
        </div>
        
    </div>
</div>

<!-- ==================== –ú–û–î–ê–õ–¨–ù–´–ï –û–ö–ù–ê ==================== -->

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—ã–±–æ—Ä–∞ -->
<div id="modal-choice" class="modal-overlay" style="display: none;">
    <div class="modal">
        <div class="modal-header" id="choice-title">–í—ã–±–æ—Ä</div>
        <div id="choice-content" style="padding: 20px;">
            <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –≤—ã–±–æ—Ä–∞ -->
        </div>
        <div id="choice-options" style="display: flex; gap: 15px; margin-top: 20px; flex-wrap: wrap;">
            <!-- –û–ø—Ü–∏–∏ –≤—ã–±–æ—Ä–∞ -->
        </div>
    </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ -->
<div id="modal-info" class="modal-overlay" style="display: none;">
    <div class="modal">
        <button class="notification-close" onclick="Game.closeModal('info')" style="position: absolute; top: 20px; right: 20px;">√ó</button>
        <div class="modal-header" id="info-title">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</div>
        <div id="info-content" style="padding: 20px; max-height: 60vh; overflow-y: auto;">
            <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ -->
        </div>
        <button class="button" onclick="Game.closeModal('info')" style="width: 100%; margin-top: 20px;">
            –ó–∞–∫—Ä—ã—Ç—å
        </button>
    </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ Game Over -->
<div id="modal-gameover" class="modal-overlay" style="display: none;">
    <div class="modal">
        <div class="modal-header" style="color: var(--critical-red);">
            ‚ò†Ô∏è –ò–ú–ü–ï–†–ò–£–ú –ü–ê–õ ‚ò†Ô∏è
        </div>
        <div style="padding: 20px; text-align: center;">
            <p style="font-size: 1.2em; margin: 20px 0; line-height: 1.8;">
                –ê—Å—Ç—Ä–æ–Ω–æ–º–∏–∫–æ–Ω –ø–æ–≥–∞—Å. –ó–æ–ª–æ—Ç–æ–π –¢—Ä–æ–Ω —Ä–∞–∑—Ä—É—à–µ–Ω.<br>
                –¢—å–º–∞ –ø–æ–≥–ª–æ—Ç–∏–ª–∞ –≥–∞–ª–∞–∫—Ç–∏–∫—É.<br>
                –ò–º–ø–µ—Ä–∏—É–º –ß–µ–ª–æ–≤–µ—á–µ—Å—Ç–≤–∞ –ø–∞–ª.
            </p>
            <div id="gameover-stats" style="margin: 30px 0;">
                <!-- –§–∏–Ω–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
            </div>
            <button class="button" onclick="Game.restart()" style="margin: 10px;">
                üîÑ –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ
            </button>
        </div>
    </div>
</div>

<!-- ==================== –ö–û–ù–¢–ï–ô–ù–ï–† –£–í–ï–î–û–ú–õ–ï–ù–ò–ô ==================== -->
<div class="notification-container" id="notification-container">
    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
</div>

<!-- ==================== –ö–û–ù–¢–ï–ô–ù–ï–† –î–û–°–¢–ò–ñ–ï–ù–ò–ô ==================== -->
<div style="position: fixed; bottom: 20px; right: 20px; z-index: 998; max-width: 400px;" id="achievement-container">
    <!-- –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –±—É–¥—É—Ç –ø–æ–∫–∞–∑–∞–Ω—ã –∑–¥–µ—Å—å -->
</div>


<script>
'use strict';

'use strict';

// ==================== –ì–õ–ê–í–ù–´–ô –û–ë–™–ï–ö–¢ –ò–ì–†–´ ====================
const Game = {
    // ========== –ë–ê–ó–û–í–û–ï –°–û–°–¢–û–Ø–ù–ò–ï ==========
    version: '1.0.0',
    running: false,
    paused: false,
    gameOver: false,
    
    // ========== –í–†–ï–ú–Ø ==========
    day: 1,
    hour: 0,
    tickSpeed: 1000, // –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã –º–µ–∂–¥—É —Ç–∏–∫–∞–º–∏
    lastTick: Date.now(),
    
    // ========== –û–°–ù–û–í–ù–´–ï –†–ï–°–£–†–°–´ ==========
    resources: {
        psychic: 5000,      // –ü—Å–∞–π–∫–µ—Ä—ã (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ)
        credits: 10000,     // –ö—Ä–µ–¥–∏—Ç—ã
        population: 1000,   // –ù–∞—Å–µ–ª–µ–Ω–∏–µ –≤ –º–∏–ª–ª–∏–∞—Ä–¥–∞—Ö
        military: 100,      // –ê—Ä–º–∏—è –≤ –º–∏–ª–ª–∏–æ–Ω–∞—Ö
        fleet: 50,          // –ö–æ—Ä–∞–±–ª–µ–π —Ñ–ª–æ—Ç–∞
        techpriests: 10     // –¢–µ—Ö–Ω–æ–∂—Ä–µ—Ü–æ–≤
    },
    
    // –ò–∑–º–µ–Ω–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ –¥–µ–Ω—å
    resourceChanges: {
        psychic: -1000,     // –ë–∞–∑–æ–≤–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –Ω–∞ –¢—Ä–æ–Ω
        credits: 100,       // –ë–∞–∑–æ–≤—ã–π –¥–æ—Ö–æ–¥
        population: 1,      // –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –ø—Ä–∏—Ä–æ—Å—Ç
        military: 0.5,      // –ù–∞–±–æ—Ä –≤ –∞—Ä–º–∏—é
        fleet: 0,           // –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ –∫–æ—Ä–∞–±–ª–µ–π
        techpriests: 0      // –û–±—É—á–µ–Ω–∏–µ —Ç–µ—Ö–Ω–æ–∂—Ä–µ—Ü–æ–≤
    },
    
    // ========== –ê–°–¢–†–û–ù–û–ú–ò–ö–û–ù –ò –ó–û–õ–û–¢–û–ô –¢–†–û–ù ==========
    astronomican: {
        power: 100,             // –ú–æ—â–Ω–æ—Å—Ç—å (0-100%)
        stability: 100,         // –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å (0-100%)
        throneCondition: 100,   // –°–æ—Å—Ç–æ—è–Ω–∏–µ –¢—Ä–æ–Ω–∞ (0-100%)
        sacrificeRate: 1000,    // –ü—Å–∞–π–∫–µ—Ä–æ–≤ –≤ –¥–µ–Ω—å
        efficiency: 100,        // –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (0-100%)
        emergencyMode: false,   // –ê–≤–∞—Ä–∏–π–Ω—ã–π —Ä–µ–∂–∏–º
        emergencyTurns: 0       // –û—Å—Ç–∞–ª–æ—Å—å —Ö–æ–¥–æ–≤ –∞–≤–∞—Ä–∏–π–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
    },
    
    // ========== –í–ê–†–ü ==========
    warp: {
        level: 25,              // –£—Ä–æ–≤–µ–Ω—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤–∞—Ä–ø–∞ (0-100)
        storms: 0,              // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∞—Ä–ø-—à—Ç–æ—Ä–º–æ–≤
        rifts: [],              // –ê–∫—Ç–∏–≤–Ω—ã–µ —Ä–∞–∑–ª–æ–º—ã
        demonThreat: 10,        // –£–≥—Ä–æ–∑–∞ –¥–µ–º–æ–Ω–æ–≤ (0-100)
        chaosIncursions: 0      // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—Ç–æ—Ä–∂–µ–Ω–∏–π –•–∞–æ—Å–∞
    },
    
    // ========== –°–¢–ê–¢–ò–°–¢–ò–ö–ê ==========
    stats: {
        totalSacrifices: 0,     // –í—Å–µ–≥–æ –ø—Ä–∏–Ω–µ—Å–µ–Ω–æ –≤ –∂–µ—Ä—Ç–≤—É
        totalCreditsEarned: 0,  // –í—Å–µ–≥–æ –∑–∞—Ä–∞–±–æ—Ç–∞–Ω–æ –∫—Ä–µ–¥–∏—Ç–æ–≤
        enemiesKilled: 0,       // –í—Ä–∞–≥–æ–≤ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–æ
        missionsCompleted: 0,   // –ú–∏—Å—Å–∏–π –∑–∞–≤–µ—Ä—à–µ–Ω–æ
        sectorsLost: 0,         // –°–µ–∫—Ç–æ—Ä–æ–≤ –ø–æ—Ç–µ—Ä—è–Ω–æ
        projectsCompleted: 0,   // –ü—Ä–æ–µ–∫—Ç–æ–≤ –∑–∞–≤–µ—Ä—à–µ–Ω–æ
        researchCompleted: 0    // –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π –∑–∞–≤–µ—Ä—à–µ–Ω–æ
    },
    
    // ========== –ì–ê–õ–ê–ö–¢–ò–ß–ï–°–ö–ò–ï –°–ï–ö–¢–û–†–´ ==========
    sectors: [],
    
    // ========== –ü–ï–†–°–û–ù–ê–õ ==========
    personnel: {
        inquisitors: [],
        techpriests: [],
        astropaths: [],
        generals: [],
        navigators: [],
        administrators: []
    },
    
    // ========== –ò–°–°–õ–ï–î–û–í–ê–ù–ò–Ø ==========
    research: {
        current: null,          // –¢–µ–∫—É—â–µ–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ
        progress: 0,            // –ü—Ä–æ–≥—Ä–µ—Å—Å (0-100)
        completed: []           // –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
    },
    
    // ========== –£–õ–£–ß–®–ï–ù–ò–Ø ==========
    upgrades: {},
    
    // ========== –í–†–ê–ì–ò ==========
    enemies: {
        chaos: { strength: 30, activity: 20, sectors: [] },
        tyranids: { strength: 25, activity: 15, sectors: [] },
        necrons: { strength: 20, activity: 10, sectors: [] },
        orks: { strength: 35, activity: 30, sectors: [] },
        tau: { strength: 15, activity: 10, sectors: [] },
        eldar: { strength: 10, activity: 5, sectors: [] }
    },
    
    // ========== –ê–ö–¢–ò–í–ù–´–ï –ú–ò–°–°–ò–ò ==========
    missions: [],
    
    // ========== –°–û–ë–´–¢–ò–Ø ==========
    eventQueue: [],
    lastEventDay: 0,
    
    // ========== –î–û–°–¢–ò–ñ–ï–ù–ò–Ø ==========
    achievements: [],
    
    // ========== –ù–ê–°–¢–†–û–ô–ö–ò ==========
    settings: {
        autoSave: true,
        autoSaveInterval: 60000, // 1 –º–∏–Ω—É—Ç–∞
        soundEnabled: true,
        particlesEnabled: true,
        difficulty: 'normal' // easy, normal, hard, nightmare
    },
    
    // ==================== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ====================
    init() {
        console.log('üéÆ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ê—Å—Ç—Ä–æ–Ω–æ–º–∏–∫–æ–Ω–∞...');
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
        this.initializeSectors();
        this.initializePersonnel();
        this.initializeResearch();
        this.initializeUpgrades();
        this.initializeAchievements();
        
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        this.setupUI();
        
        // –ü–µ—Ä–≤–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
        this.updateUI();
        
        // –ó–∞–ø—É—Å–∫ –∏–≥—Ä–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞
        this.running = true;
        this.gameLoop();
        
        // –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
        if (this.settings.autoSave) {
            setInterval(() => this.autoSave(), this.settings.autoSaveInterval);
        }
        
        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —á–∞—Å—Ç–∏—Ü –≤ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –ê—Å—Ç—Ä–æ–Ω–æ–º–∏–∫–æ–Ω–∞
        if (this.settings.particlesEnabled) {
            this.createParticles();
        }
        
        // –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
        this.log('–ê—Å—Ç—Ä–æ–Ω–æ–º–∏–∫–æ–Ω –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω. –ù–∞—á–∞—Ç–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤–µ—Ç–æ–º –ò–º–ø–µ—Ä–∞—Ç–æ—Ä–∞.', 'success');
        this.log('–ó–æ–ª–æ—Ç–æ–π –¢—Ä–æ–Ω —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –Ω–æ—Ä–º—ã.', 'info');
        
        console.log('‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞');
    },
    
    // ==================== –ò–ì–†–û–í–û–ô –¶–ò–ö–õ ====================
    gameLoop() {
        if (!this.running || this.gameOver) return;
        
        const now = Date.now();
        const delta = now - this.lastTick;
        
        if (delta >= this.tickSpeed && !this.paused) {
            this.tick();
            this.lastTick = now;
        }
        
        requestAnimationFrame(() => this.gameLoop());
    },
    
    // –û–¥–∏–Ω –∏–≥—Ä–æ–≤–æ–π —Ç–∏–∫ (—á–∞—Å)
    tick() {
        this.hour++;
        
        // –ù–æ–≤—ã–π –¥–µ–Ω—å –∫–∞–∂–¥—ã–µ 24 —á–∞—Å–∞
        if (this.hour >= 24) {
            this.hour = 0;
            this.day++;
            this.onNewDay();
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–∞–∂–¥—ã–π —á–∞—Å
        this.updateAstronomican();
        this.updateWarp();
        this.updateResources();
        this.updateSectors();
        this.updateMissions();
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        this.updateUI();
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ª–æ–≤–∏–π –ø—Ä–æ–∏–≥—Ä—ã—à–∞
        this.checkGameOver();
    },
    
    // –ù–æ–≤—ã–π –¥–µ–Ω—å
    onNewDay() {
        // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ä–µ—Å—É—Ä—Å–æ–≤
        this.applyDailyResourceChanges();
        
        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π
        if (this.day - this.lastEventDay >= 3) {
            this.generateRandomEvent();
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π
        this.updateResearch();
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
        this.checkAchievements();
        
        this.log(`–î–µ–Ω—å ${this.day}. –ò–º–ø–µ—Ä–∏—É–º –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å.`, 'info');
    },
    
    // ==================== –û–ë–ù–û–í–õ–ï–ù–ò–ï –ê–°–¢–†–û–ù–û–ú–ò–ö–û–ù–ê ====================
    updateAstronomican() {
        const astro = this.astronomican;
        
        // –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø—Å–∞–π–∫–µ—Ä–æ–≤
        const hourlyConsumption = astro.sacrificeRate / 24;
        this.resources.psychic -= hourlyConsumption;
        
        // –ï—Å–ª–∏ –ø—Å–∞–π–∫–µ—Ä—ã –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å
        if (this.resources.psychic < 0) {
            this.resources.psychic = 0;
            astro.power -= 2; // –†–µ–∑–∫–æ–µ –ø–∞–¥–µ–Ω–∏–µ –º–æ—â–Ω–æ—Å—Ç–∏
            astro.stability -= 3;
            
            if (this.day % 5 === 0) {
                this.log('–ö–†–ò–¢–ò–ß–ù–û: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Å–∞–π–∫–µ—Ä–æ–≤! –ê—Å—Ç—Ä–æ–Ω–æ–º–∏–∫–æ–Ω —Å–ª–∞–±–µ–µ—Ç!', 'critical');
            }
        } else {
            // –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º–æ—â–Ω–æ—Å—Ç–∏
            if (astro.power < 100) {
                astro.power += 0.1 * astro.efficiency / 100;
            }
        }
        
        // –ê–≤–∞—Ä–∏–π–Ω—ã–π —Ä–µ–∂–∏–º
        if (astro.emergencyMode) {
            astro.emergencyTurns--;
            if (astro.emergencyTurns <= 0) {
                astro.emergencyMode = false;
                astro.sacrificeRate /= 3;
                this.log('–ê–≤–∞—Ä–∏–π–Ω—ã–π —Ä–µ–∂–∏–º –∑–∞–≤–µ—Ä—à—ë–Ω.', 'warning');
            }
        }
        
        // –î–µ–≥—Ä–∞–¥–∞—Ü–∏—è –ó–æ–ª–æ—Ç–æ–≥–æ –¢—Ä–æ–Ω–∞
        astro.throneCondition -= 0.001 * (1 + this.warp.level / 100);
        
        // –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è –¢—Ä–æ–Ω–∞ –∏ –≤–∞—Ä–ø–∞
        const targetStability = astro.throneCondition - this.warp.level / 2;
        if (astro.stability > targetStability) {
            astro.stability -= 0.05;
        } else if (astro.stability < targetStability) {
            astro.stability += 0.05;
        }
        
        // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
        astro.power = Math.max(0, Math.min(100, astro.power));
        astro.stability = Math.max(0, Math.min(100, astro.stability));
        astro.throneCondition = Math.max(0, Math.min(100, astro.throneCondition));
    },
    
    // ==================== –û–ë–ù–û–í–õ–ï–ù–ò–ï –í–ê–†–ü–ê ====================
    updateWarp() {
        const warp = this.warp;
        
        // –ë–∞–∑–æ–≤–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤–∞—Ä–ø–∞
        let warpChange = (Math.random() - 0.5) * 0.5;
        
        // –í–ª–∏—è–Ω–∏–µ –ê—Å—Ç—Ä–æ–Ω–æ–º–∏–∫–æ–Ω–∞ (—Å–∏–ª—å–Ω—ã–π –ê—Å—Ç—Ä–æ–Ω–æ–º–∏–∫–æ–Ω –ø–æ–¥–∞–≤–ª—è–µ—Ç –≤–∞—Ä–ø)
        warpChange -= (this.astronomican.power / 100) * 0.2;
        
        // –í–ª–∏—è–Ω–∏–µ –•–∞–æ—Å–∞
        warpChange += (this.enemies.chaos.activity / 100) * 0.3;
        
        // –í–ª–∏—è–Ω–∏–µ –∂–µ—Ä—Ç–≤–æ–ø—Ä–∏–Ω–æ—à–µ–Ω–∏–π
        if (this.astronomican.sacrificeRate > 1500) {
            warpChange += 0.1; // –ú–Ω–æ–≥–æ –∂–µ—Ä—Ç–≤ = –±–æ–ª—å—à–µ –≤–∞—Ä–ø-–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
        }
        
        warp.level += warpChange;
        warp.level = Math.max(0, Math.min(100, warp.level));
        
        // –í–∞—Ä–ø-—à—Ç–æ—Ä–º—ã
        if (warp.level > 60 && Math.random() < 0.01) {
            this.createWarpStorm();
        }
        
        // –£–≥—Ä–æ–∑–∞ –¥–µ–º–æ–Ω–æ–≤
        warp.demonThreat = Math.min(100, warp.level * 0.8 + warp.storms * 5);
        
        // –í—Ç–æ—Ä–∂–µ–Ω–∏—è –¥–µ–º–æ–Ω–æ–≤
        if (warp.demonThreat > 70 && Math.random() < 0.005) {
            this.triggerDemonIncursion();
        }
    },
    
    // ==================== –û–ë–ù–û–í–õ–ï–ù–ò–ï –†–ï–°–£–†–°–û–í ====================
    updateResources() {
        // –ü–æ—á–∞—Å–æ–≤–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ, –æ—Å–Ω–æ–≤–Ω–æ–µ –≤ onNewDay
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É—Ä–æ–≤–Ω–∏
        if (this.resources.psychic < 1000 && this.day % 10 === 0) {
            this.log('–ó–∞–ø–∞—Å—ã –ø—Å–∞–π–∫–µ—Ä–æ–≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –Ω–∏–∑–∫–∏!', 'warning');
        }
        
        if (this.resources.credits < 1000 && this.day % 10 === 0) {
            this.log('–ö–∞–∑–Ω–∞ –ò–º–ø–µ—Ä–∏—É–º–∞ –∏—Å—Ç–æ—â–∞–µ—Ç—Å—è!', 'warning');
        }
    },
    
    // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ä–µ—Å—É—Ä—Å–æ–≤
    applyDailyResourceChanges() {
        for (const [resource, change] of Object.entries(this.resourceChanges)) {
            this.resources[resource] += change;
            
            // –ù–µ –¥–æ–ø—É—Å–∫–∞–µ–º –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π (–∫—Ä–æ–º–µ –ø—Å–∏—Ö–∏—á–µ—Å–∫–æ–π —ç–Ω–µ—Ä–≥–∏–∏)
            if (resource !== 'psychic') {
                this.resources[resource] = Math.max(0, this.resources[resource]);
            }
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        this.stats.totalSacrifices += this.astronomican.sacrificeRate;
        if (this.resourceChanges.credits > 0) {
            this.stats.totalCreditsEarned += this.resourceChanges.credits;
        }
    },
    
    // ==================== –û–ë–ù–û–í–õ–ï–ù–ò–ï –°–ï–ö–¢–û–†–û–í ====================
    updateSectors() {
        // –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Ä–∞–∑ –≤ –¥–µ–Ω—å, –¥–µ—Ç–∞–ª–∏ –≤ onNewDay
        if (this.hour !== 0) return;
        
        this.sectors.forEach(sector => {
            // –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –≤ –º–∏—Ä–Ω—ã—Ö —Å–µ–∫—Ç–æ—Ä–∞—Ö
            if (sector.status === 'safe' && sector.stability < 100) {
                sector.stability += 1;
            }
            
            // –î–µ–≥—Ä–∞–¥–∞—Ü–∏—è –≤ –æ–ø–∞—Å–Ω—ã—Ö —Å–µ–∫—Ç–æ—Ä–∞—Ö
            if (sector.status === 'threatened') {
                sector.stability -= 0.5;
            }
            
            if (sector.status === 'war') {
                sector.stability -= 2;
                
                // –í–æ–∑–º–æ–∂–Ω–∞ –ø–æ—Ç–µ—Ä—è —Å–µ–∫—Ç–æ—Ä–∞
                if (sector.stability <= 0) {
                    sector.status = 'lost';
                    this.stats.sectorsLost++;
                    this.log(`–°–µ–∫—Ç–æ—Ä ${sector.name} –ø–æ—Ç–µ—Ä—è–Ω!`, 'critical');
                    this.triggerSectorLostEvent(sector);
                }
            }
        });
    },
    
    // ==================== –û–ë–ù–û–í–õ–ï–ù–ò–ï –ú–ò–°–°–ò–ô ====================
    updateMissions() {
        this.missions.forEach((mission, index) => {
            if (!mission.active) return;
            
            mission.progress += mission.progressRate || 1;
            
            if (mission.progress >= 100) {
                this.completeMission(mission, index);
            }
        });
    },
    
    // ==================== –û–ë–ù–û–í–õ–ï–ù–ò–ï –ò–°–°–õ–ï–î–û–í–ê–ù–ò–ô ====================
    updateResearch() {
        if (!this.research.current) return;
        
        const research = this.research.current;
        const bonus = 1 + (this.resources.techpriests / 100);
        
        this.research.progress += bonus;
        
        if (this.research.progress >= 100) {
            this.completeResearch(research);
        }
    },
    
    // ==================== –£–°–¢–ê–ù–û–í–ö–ê –°–ö–û–†–û–°–¢–ò –ñ–ï–†–¢–í–û–ü–†–ò–ù–û–®–ï–ù–ò–ô ====================
    setSacrificeRate(rate) {
        const astro = this.astronomican;
        
        switch(rate) {
            case 'low':
                astro.sacrificeRate = 500;
                astro.efficiency = 80;
                this.log('–°–∫–æ—Ä–æ—Å—Ç—å –∂–µ—Ä—Ç–≤–æ–ø—Ä–∏–Ω–æ—à–µ–Ω–∏–π —Å–Ω–∏–∂–µ–Ω–∞. –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: 80%', 'info');
                break;
            case 'normal':
                astro.sacrificeRate = 1000;
                astro.efficiency = 100;
                this.log('–°–∫–æ—Ä–æ—Å—Ç—å –∂–µ—Ä—Ç–≤–æ–ø—Ä–∏–Ω–æ—à–µ–Ω–∏–π –≤ –Ω–æ—Ä–º–µ. –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: 100%', 'info');
                break;
            case 'high':
                astro.sacrificeRate = 2000;
                astro.efficiency = 120;
                this.log('–°–∫–æ—Ä–æ—Å—Ç—å –∂–µ—Ä—Ç–≤–æ–ø—Ä–∏–Ω–æ—à–µ–Ω–∏–π –ø–æ–≤—ã—à–µ–Ω–∞. –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: 120%', 'warning');
                break;
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫
        document.querySelectorAll('[id^="btn-sacrifice-"]').forEach(btn => {
            btn.classList.remove('active');
        });
        document.getElementById(`btn-sacrifice-${rate}`).classList.add('active');
        
        this.updateUI();
    },
    
    // ==================== –ê–í–ê–†–ò–ô–ù–´–ô –†–ï–ñ–ò–ú ====================
    emergencyPower() {
        if (this.resources.credits < 500) {
            this.notify('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫—Ä–µ–¥–∏—Ç–æ–≤!', 'warning');
            return;
        }
        
        if (this.astronomican.emergencyMode) {
            this.notify('–ê–≤–∞—Ä–∏–π–Ω—ã–π —Ä–µ–∂–∏–º —É–∂–µ –∞–∫—Ç–∏–≤–µ–Ω!', 'warning');
            return;
        }
        
        this.resources.credits -= 500;
        this.astronomican.emergencyMode = true;
        this.astronomican.emergencyTurns = 24; // 1 –¥–µ–Ω—å
        this.astronomican.sacrificeRate *= 3;
        this.astronomican.power = Math.min(100, this.astronomican.power + 20);
        
        this.log('‚ö†Ô∏è –ê–í–ê–†–ò–ô–ù–´–ô –†–ï–ñ–ò–ú –ê–ö–¢–ò–í–ò–†–û–í–ê–ù! –£—Ç—Ä–æ–µ–Ω–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø—Å–∞–π–∫–µ—Ä–æ–≤!', 'critical');
        this.notify('–ê–≤–∞—Ä–∏–π–Ω—ã–π —Ä–µ–∂–∏–º –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω!', 'critical');
    },
    
    // ==================== –ù–ê–ë–û–† –ü–°–ê–ô–ö–ï–†–û–í ====================
    recruitPsykers() {
        const cost = 1000;
        const amount = 500;
        
        if (this.resources.credits < cost) {
            this.notify('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫—Ä–µ–¥–∏—Ç–æ–≤!', 'warning');
            return;
        }
        
        this.resources.credits -= cost;
        this.resources.psychic += amount;
        
        this.log(`–ù–∞–±—Ä–∞–Ω–æ ${amount} –ø—Å–∞–π–∫–µ—Ä–æ–≤. –ó–∞—Ç—Ä–∞—á–µ–Ω–æ ${cost} –∫—Ä–µ–¥–∏—Ç–æ–≤.`, 'success');
        this.notify(`+${amount} –ø—Å–∞–π–∫–µ—Ä–æ–≤`, 'success');
        this.updateUI();
    },
    
    // ==================== –°–¢–ê–ë–ò–õ–ò–ó–ê–¶–ò–Ø –°–ï–ö–¢–û–†–ê ====================
    stabilizeSector() {
        const cost = 500;
        
        if (this.resources.credits < cost) {
            this.notify('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫—Ä–µ–¥–∏—Ç–æ–≤!', 'warning');
            return;
        }
        
        // –ù–∞–π—Ç–∏ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–π —Å–µ–∫—Ç–æ—Ä
        const unstableSector = this.sectors.find(s => 
            s.status === 'threatened' || s.status === 'war'
        );
        
        if (!unstableSector) {
            this.notify('–ù–µ—Ç —Å–µ–∫—Ç–æ—Ä–æ–≤, —Ç—Ä–µ–±—É—é—â–∏—Ö —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏', 'info');
            return;
        }
        
        this.resources.credits -= cost;
        unstableSector.stability += 20;
        
        if (unstableSector.stability > 70 && unstableSector.status === 'threatened') {
            unstableSector.status = 'safe';
        }
        
        this.log(`–°–µ–∫—Ç–æ—Ä ${unstableSector.name} —Å—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞–Ω. –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å: ${Math.round(unstableSector.stability)}%`, 'success');
        this.notify('–°–µ–∫—Ç–æ—Ä —Å—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞–Ω!', 'success');
        this.updateUI();
    },
    
    // ==================== –û–¢–ü–†–ê–í–ö–ê –ò–ù–ö–í–ò–ó–ò–¢–û–†–ê ====================
    sendInquisitor() {
        const cost = 300;
        
        if (this.resources.credits < cost) {
            this.notify('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫—Ä–µ–¥–∏—Ç–æ–≤!', 'warning');
            return;
        }
        
        if (this.personnel.inquisitors.length === 0) {
            this.notify('–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∏–Ω–∫–≤–∏–∑–∏—Ç–æ—Ä–æ–≤!', 'warning');
            return;
        }
        
        this.resources.credits -= cost;
        
        // –°–ª—É—á–∞–π–Ω—ã–π –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç
        const effects = [
            () => {
                this.warp.level = Math.max(0, this.warp.level - 5);
                this.log('–ò–Ω–∫–≤–∏–∑–∏—Ç–æ—Ä –ø–æ–¥–∞–≤–∏–ª –∫—É–ª—å—Ç –•–∞–æ—Å–∞. –í–∞—Ä–ø-–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å–Ω–∏–∂–µ–Ω–∞.', 'success');
            },
            () => {
                const sector = this.sectors.find(s => s.status === 'threatened');
                if (sector) {
                    sector.stability += 15;
                    this.log(`–ò–Ω–∫–≤–∏–∑–∏—Ç–æ—Ä —É—Å—Ç—Ä–∞–Ω–∏–ª —É–≥—Ä–æ–∑—É –≤ —Å–µ–∫—Ç–æ—Ä–µ ${sector.name}.`, 'success');
                }
            },
            () => {
                this.resources.credits += 200;
                this.log('–ò–Ω–∫–≤–∏–∑–∏—Ç–æ—Ä –∫–æ–Ω—Ñ–∏—Å–∫–æ–≤–∞–ª –µ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã. –ü–æ–ª—É—á–µ–Ω–æ 200 –∫—Ä–µ–¥–∏—Ç–æ–≤.', 'success');
            }
        ];
        
        const effect = effects[Math.floor(Math.random() * effects.length)];
        effect();
        
        this.notify('–ò–Ω–∫–≤–∏–∑–∏—Ç–æ—Ä –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω!', 'success');
        this.updateUI();
    },
    
    // ==================== –£–°–ò–õ–ï–ù–ò–ï –§–õ–û–¢–ê ====================
    reinforceFleet() {
        const cost = 2000;
        const amount = 5;
        
        if (this.resources.credits < cost) {
            this.notify('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫—Ä–µ–¥–∏—Ç–æ–≤!', 'warning');
            return;
        }
        
        this.resources.credits -= cost;
        this.resources.fleet += amount;
        
        this.log(`–ü—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–æ ${amount} –Ω–æ–≤—ã—Ö –∫–æ—Ä–∞–±–ª–µ–π —Ñ–ª–æ—Ç–∞.`, 'success');
        this.notify(`+${amount} –∫–æ—Ä–∞–±–ª–µ–π`, 'success');
        this.updateUI();
    },
    
    // ==================== –ü–ï–†–ï–ö–õ–Æ–ß–ï–ù–ò–ï –í–ö–õ–ê–î–û–ö ====================
    switchTab(tabName) {
        // –°–∫—Ä—ã—Ç—å –≤—Å–µ –≤–∫–ª–∞–¥–∫–∏
        document.querySelectorAll('.tab-content').forEach(tab => {
            tab.classList.remove('active');
        });
        
        // –£–±—Ä–∞—Ç—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å –∫–Ω–æ–ø–æ–∫
        document.querySelectorAll('.tab').forEach(btn => {
            btn.classList.remove('active');
        });
        
        // –ü–æ–∫–∞–∑–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—É—é –≤–∫–ª–∞–¥–∫—É
        document.getElementById(`tab-${tabName}`).classList.add('active');
        event.target.classList.add('active');
        
        // –û–±–Ω–æ–≤–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤–∫–ª–∞–¥–∫–∏
        this.updateTabContent(tabName);
    },
    
    // ==================== –û–ë–ù–û–í–õ–ï–ù–ò–ï –°–û–î–ï–†–ñ–ò–ú–û–ì–û –í–ö–õ–ê–î–ö–ò ====================
    updateTabContent(tabName) {
        switch(tabName) {
            case 'sectors':
                this.renderSectors();
                break;
            case 'personnel':
                this.renderPersonnel('inquisitors');
                break;
            case 'research':
                this.renderResearch('psychic');
                break;
            case 'military':
                this.renderMilitary();
                break;
            case 'enemies':
                this.renderEnemies();
                break;
            case 'upgrades':
                this.renderUpgrades('throne');
                break;
        }
    },
    
    // –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –≤ —Å–ª–µ–¥—É—é—â–µ–º –±–ª–æ–∫–µ...
    
}; // –ö–æ–Ω–µ—Ü –æ–±—ä–µ–∫—Ç–∞ Game

// –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ Game

// ==================== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –°–ï–ö–¢–û–†–û–í ====================
Game.initializeSectors = function() {
    const sectorNames = [
        '–°–µ–≥–º–µ–Ω—Ç—É–º –°–æ–ª–∞—Ä', '–°–µ–≥–º–µ–Ω—Ç—É–º –û–±—Å–∫—É—Ä—É—Å', '–°–µ–≥–º–µ–Ω—Ç—É–º –ü–∞—Ü–∏—Ñ–∏–∫—É—Å', '–°–µ–≥–º–µ–Ω—Ç—É–º –£–ª—å—Ç–∏–º–∞', '–°–µ–≥–º–µ–Ω—Ç—É–º –¢–µ–º–ø–µ—Å—Ç—É—Å',
        '–°–µ–∫—Ç–æ—Ä –ì–æ—Ç–∏–∫–∞', '–°–µ–∫—Ç–æ—Ä –ö–∞–ª–∏–∫—Å–∏–¥–∞', '–°–µ–∫—Ç–æ—Ä –ö–æ—Ä–æ–Ω–∞', '–°–µ–∫—Ç–æ—Ä –î–∞–º–æ–∫–ª–æ–≤', '–°–µ–∫—Ç–æ—Ä –ô–æ–≤–∏–∞–Ω',
        '–°–µ–∫—Ç–æ—Ä –ú–∞—Ä–µ–ª–ª–∏—É—Å', '–°–µ–∫—Ç–æ—Ä –°–∫–∞—Ä—É—Å', '–°–µ–∫—Ç–æ—Ä –¶–∏–∫–ª–æ–ø—Å', '–°–µ–∫—Ç–æ—Ä –ê—Ä–º', '–°–µ–∫—Ç–æ—Ä –í–∞—Ä–∞–Ω–∏—É—Å',
        '–°–µ–∫—Ç–æ—Ä –ì–æ–ª–≥–æ—Ñ–∞', '–°–µ–∫—Ç–æ—Ä –ü–µ—Ä—Å–µ—Ñ–æ–Ω', '–°–µ–∫—Ç–æ—Ä –¢–∞–ª–ª–∞—Å–∞—Ä', '–°–µ–∫—Ç–æ—Ä –í–µ–Ω—É—Å', '–°–µ–∫—Ç–æ—Ä –ó–∞—Ñ–∏—Ä',
        '–°–µ–∫—Ç–æ—Ä –ú–∞–ª—Ñ–∏', '–°–µ–∫—Ç–æ—Ä –¢—Ä–∏—Ñ–∏–¥', '–°–µ–∫—Ç–æ—Ä –ê—Ç—Ç–∏–ª–∞', '–°–µ–∫—Ç–æ—Ä –≠–∫—Å–æ–¥—É—Å', '–°–µ–∫—Ç–æ—Ä –§–µ–Ω–∏–∫—Å'
    ];
    
    const statuses = ['safe', 'safe', 'safe', 'safe', 'safe', 'threatened', 'threatened', 'war'];
    
    this.sectors = [];
    
    for (let i = 0; i < 50; i++) {
        const status = i < 40 ? 'safe' : (i < 48 ? 'threatened' : 'war');
        
        this.sectors.push({
            id: i,
            name: sectorNames[i % sectorNames.length] + (i >= sectorNames.length ? ` ${Math.floor(i / sectorNames.length) + 1}` : ''),
            status: status, // safe, threatened, war, lost
            stability: status === 'safe' ? 80 + Math.random() * 20 : 
                      (status === 'threatened' ? 40 + Math.random() * 30 : 20 + Math.random() * 20),
            population: Math.floor(Math.random() * 50 + 10), // –º–ª—Ä–¥
            production: Math.floor(Math.random() * 100 + 50), // —É—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞
            military: Math.floor(Math.random() * 20 + 5), // –º–ª–Ω —Å–æ–ª–¥–∞—Ç
            threat: null, // –∫–∞–∫–æ–π –≤—Ä–∞–≥ —É–≥—Ä–æ–∂–∞–µ—Ç
            governor: this.generateGovernorName()
        });
    }
    
    // –ü—Ä–∏—Å–≤–æ–∏—Ç—å —É–≥—Ä–æ–∑—ã –æ–ø–∞—Å–Ω—ã–º —Å–µ–∫—Ç–æ—Ä–∞–º
    this.sectors.filter(s => s.status === 'threatened' || s.status === 'war').forEach(sector => {
        const enemyTypes = ['chaos', 'tyranids', 'necrons', 'orks', 'tau', 'eldar'];
        sector.threat = enemyTypes[Math.floor(Math.random() * enemyTypes.length)];
        
        // –î–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ç–æ—Ä –≤ —Å–ø–∏—Å–æ–∫ –≤—Ä–∞–≥–∞
        if (this.enemies[sector.threat]) {
            this.enemies[sector.threat].sectors.push(sector.id);
        }
    });
};

Game.generateGovernorName = function() {
    const firstNames = ['–ú–∞—Ä–∫—É—Å', '–õ—É—Ü–∏–π', '–í–∏–∫—Ç–æ—Ä', '–ú–∞–∫—Å–∏–º–∏–ª–∏–∞–Ω', '–°–µ–±–∞—Å—Ç—å—è–Ω', '–ê–ª–µ–∫—Å–∞–Ω–¥—Ä', '–ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏–Ω', '–î–º–∏—Ç—Ä–∏–π'];
    const lastNames = ['–í–∞–Ω–¥–∏—Ä', '–ö–∞—Å—Ç–µ–ª—è–Ω', '–ò–º–ø–µ—Ä–∞–Ω', '—Ñ–æ–Ω –ö—Ä–µ–π–≥', '–¢–æ—Ä–≤–∞–ª—å–¥', '–ú–∞–≥–Ω—É—Å', '–ñ–µ–ª–µ–∑–Ω—ã–π', '–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤—ã–π'];
    return `${firstNames[Math.floor(Math.random() * firstNames.length)]} ${lastNames[Math.floor(Math.random() * lastNames.length)]}`;
};

// ==================== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –ü–ï–†–°–û–ù–ê–õ–ê ====================
Game.initializePersonnel = function() {
    // –ò–Ω–∫–≤–∏–∑–∏—Ç–æ—Ä—ã
    this.personnel.inquisitors = [
        {
            id: 1,
            name: '–ò–Ω–∫–≤–∏–∑–∏—Ç–æ—Ä –≠–π–∑–µ–Ω—Ö–æ—Ä–Ω',
            ordo: '–ö—Å–µ–Ω–æ—Å',
            level: 10,
            experience: 100,
            specialty: '–ö—Å–µ–Ω–æ—Å—ã',
            status: 'available', // available, deployed, injured, deceased
            missions: 0,
            kills: 0,
            traits: ['–•–∞—Ä–∏–∑–º–∞—Ç–∏—á–Ω—ã–π', '–≠–∫—Å–ø–µ—Ä—Ç–∏–∑–∞ –∫—Å–µ–Ω–æ—Å–æ–≤']
        },
        {
            id: 2,
            name: '–ò–Ω–∫–≤–∏–∑–∏—Ç–æ—Ä –ö–∞—Ä–∞–º–∞–∑–æ–≤',
            ordo: '–ï—Ä–µ—Ç–∏–∫—É—Å',
            level: 12,
            experience: 150,
            specialty: '–ï—Ä–µ—Ç–∏–∫–∏',
            status: 'available',
            missions: 0,
            kills: 0,
            traits: ['–ë–µ–∑–∂–∞–ª–æ—Å—Ç–Ω—ã–π', '–ú–∞—Å—Ç–µ—Ä –¥–æ–ø—Ä–æ—Å–∞']
        },
        {
            id: 3,
            name: '–ò–Ω–∫–≤–∏–∑–∏—Ç–æ—Ä –ö–∞–π–∞—Ñ–∞—Å –ö–∞–∏–Ω',
            ordo: '–ú–∞–ª–ª–µ—É—Å',
            level: 15,
            experience: 200,
            specialty: '–î–µ–º–æ–Ω—ã',
            status: 'available',
            missions: 0,
            kills: 0,
            traits: ['–û—Ö–æ—Ç–Ω–∏–∫ –Ω–∞ –¥–µ–º–æ–Ω–æ–≤', '–í–∞—Ä–ø-—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å']
        }
    ];
    
    // –¢–µ—Ö–Ω–æ–∂—Ä–µ—Ü—ã
    this.personnel.techpriests = [
        {
            id: 1,
            name: '–ê—Ä—Ö–∏–º–∞–≥–æ—Å –ë–µ–ª–∏–∑–∞—Ä–∏—É—Å –ö–æ—É–ª',
            rank: '–ê—Ä—Ö–∏–º–∞–≥–æ—Å',
            level: 8,
            specialty: '–ê—Ä—Ö–µ–æ—Ç–µ—Ö',
            status: 'available',
            augmentations: ['–ú–µ—Ö–∞–¥–µ–Ω–¥—Ä–∏—Ç—ã', '–£—Å–∏–ª–µ–Ω–Ω—ã–π –∫–æ–≥–∏—Ç–∞—Ç–æ—Ä'],
            bonus: { research: 15, production: 10 }
        },
        {
            id: 2,
            name: '–ú–∞–≥–æ—Å –î–æ–º–∏–Ω—É—Å –†–µ–¥—É–∫—Ü–∏—è',
            rank: '–ú–∞–≥–æ—Å',
            level: 6,
            specialty: '–í–æ–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏',
            status: 'available',
            augmentations: ['–ë–∞–ª–ª–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –∏–º–ø–ª–∞–Ω—Ç–∞—Ç—ã', '–¢–∞—Ä–≥–µ—Ç–∏–Ω–≥–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã'],
            bonus: { military: 10, production: 5 }
        }
    ];
    
    // –ê—Å—Ç—Ä–æ–ø–∞—Ç—ã
    this.personnel.astropaths = [
        {
            id: 1,
            name: '–°—Ç–∞—Ä—à–∏–π –ê—Å—Ç—Ä–æ–ø–∞—Ç –ö–æ—Ä–≤—É—Å',
            level: 9,
            power: 85,
            status: 'available',
            specialty: '–î–∞–ª—å–Ω—è—è —Å–≤—è–∑—å',
            bonus: { communication: 20, warpStability: 5 }
        },
        {
            id: 2,
            name: '–ê—Å—Ç—Ä–æ–ø–∞—Ç –ü—Ä–∏–º–∞ –°–µ–ª–µ–Ω–∞',
            level: 7,
            power: 70,
            status: 'available',
            specialty: '–í–∞—Ä–ø-–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è',
            bonus: { communication: 15, eventWarning: 10 }
        }
    ];
    
    // –ì–µ–Ω–µ—Ä–∞–ª—ã
    this.personnel.generals = [
        {
            id: 1,
            name: '–õ–æ—Ä–¥-–ö–æ–º–∞–Ω–¥–æ—Ä –°–æ–ª–∞—Ä –ú–∞—Ö–∞—Ä–∏—É—Å',
            rank: '–õ–æ—Ä–¥-–ö–æ–º–∞–Ω–¥–æ—Ä',
            level: 10,
            campaigns: 50,
            status: 'available',
            specialty: '–ö—Ä—É–ø–Ω–æ–º–∞—Å—à—Ç–∞–±–Ω—ã–µ –≤–æ–π–Ω—ã',
            bonus: { militaryPower: 25, morale: 15 }
        },
        {
            id: 2,
            name: '–ì–µ–Ω–µ—Ä–∞–ª –ö—Ä–æ–π—Ü',
            rank: '–õ–æ—Ä–¥-–ì–µ–Ω–µ—Ä–∞–ª',
            level: 8,
            campaigns: 30,
            status: 'available',
            specialty: '–û–±–æ—Ä–æ–Ω–∞',
            bonus: { defense: 20, fortification: 10 }
        }
    ];
    
    // –ù–∞–≤–∏–≥–∞—Ç–æ—Ä—ã
    this.personnel.navigators = [
        {
            id: 1,
            name: '–ù–∞–≤–∏–≥–∞—Ç–æ—Ä –ü—Ä–∞–π–º –û–∫—Ç–∞–≤–∏–π',
            house: '–î–æ–º –ë–µ–ª–ª–∏—Å–∞—Ä–∏—É—Å',
            level: 12,
            mutations: 2,
            status: 'available',
            specialty: '–û–ø–∞—Å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã',
            bonus: { warpTravel: 30, safety: 15 }
        }
    ];
    
    // –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã
    this.personnel.administrators = [
        {
            id: 1,
            name: '–õ–æ—Ä–¥-–ê–¥–º–∏—Ä–∞–ª –õ–∞–Ω–µ—Å—Ç–µ—Ä',
            department: '–ê–¥–º–∏—Å—Ç—Ä–∞—Ç—É–º',
            level: 7,
            status: 'available',
            specialty: '–õ–æ–≥–∏—Å—Ç–∏–∫–∞',
            bonus: { income: 10, efficiency: 15 }
        },
        {
            id: 2,
            name: '–ö–∞–∑–Ω–∞—á–µ–π –í–∞—Ä–≥–∞—Å',
            department: '–ö–∞–∑–Ω–∞—á–µ–π—Å—Ç–≤–æ',
            level: 6,
            status: 'available',
            specialty: '–§–∏–Ω–∞–Ω—Å—ã',
            bonus: { income: 20, taxCollection: 10 }
        }
    ];
};

// ==================== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –ò–°–°–õ–ï–î–û–í–ê–ù–ò–ô ====================
Game.initializeResearch = function() {
    this.researchDatabase = {
        // –ü—Å–∞–π–∫–µ—Ä —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
        psychic: [
            {
                id: 'psy_efficiency',
                name: '–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∂–µ—Ä—Ç–≤–æ–ø—Ä–∏–Ω–æ—à–µ–Ω–∏–π',
                category: 'psychic',
                cost: 5000,
                time: 30, // –¥–Ω–µ–π
                requirements: [],
                description: '–£–ª—É—á—à–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –∂–µ—Ä—Ç–≤–æ–ø—Ä–∏–Ω–æ—à–µ–Ω–∏—è –ø—Å–∞–π–∫–µ—Ä–æ–≤ –ø–æ–≤—ã—à–∞—é—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ê—Å—Ç—Ä–æ–Ω–æ–º–∏–∫–æ–Ω–∞ –Ω–∞ 10%',
                effects: { sacrificeEfficiency: 10 },
                unlocked: true
            },
            {
                id: 'psy_training',
                name: '–£–ª—É—á—à–µ–Ω–Ω–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Å–∞–π–∫–µ—Ä–æ–≤',
                category: 'psychic',
                cost: 8000,
                time: 45,
                requirements: ['psy_efficiency'],
                description: '–ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã –æ–±—É—á–µ–Ω–∏—è —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç –≤—ã–∂–∏–≤–∞–µ–º–æ—Å—Ç—å –ø—Å–∞–π–∫–µ—Ä–æ–≤ –Ω–∞ 15%',
                effects: { psychicSurvival: 15 },
                unlocked: false
            },
            {
                id: 'psy_sanctuaries',
                name: '–ü—Å–∞–π–∫–µ—Ä-—Å–≤—è—Ç–∏–ª–∏—â–∞',
                category: 'psychic',
                cost: 12000,
                time: 60,
                requirements: ['psy_training'],
                description: '–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–≤—è—Ç–∏–ª–∏—â–∞ –¥–ª—è –ø—Å–∞–π–∫–µ—Ä–æ–≤ —Å–Ω–∏–∂–∞—é—Ç —Ä–∞—Å—Ö–æ–¥ –Ω–∞ 10%',
                effects: { sacrificeReduction: 10 },
                unlocked: false
            }
        ],
        
        // –í–∞—Ä–ø —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
        warp: [
            {
                id: 'warp_shields',
                name: '–£–ª—É—á—à–µ–Ω–Ω—ã–µ –≤–∞—Ä–ø-—â–∏—Ç—ã',
                category: 'warp',
                cost: 7000,
                time: 40,
                requirements: [],
                description: '–£—Å–∏–ª–µ–Ω–Ω—ã–µ —â–∏—Ç—ã –ì–µ–ª–ª–µ—Ä–∞ —Å–Ω–∏–∂–∞—é—Ç –≤–∞—Ä–ø-–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –Ω–∞ 5%',
                effects: { warpReduction: 5 },
                unlocked: true
            },
            {
                id: 'warp_stabilizers',
                name: '–í–∞—Ä–ø-—Å—Ç–∞–±–∏–ª–∏–∑–∞—Ç–æ—Ä—ã',
                category: 'warp',
                cost: 10000,
                time: 50,
                requirements: ['warp_shields'],
                description: '–°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø–æ–ª—è –ø–æ–¥–∞–≤–ª—è—é—Ç –≤–∞—Ä–ø-—Ä–∞–∑–ª–æ–º—ã',
                effects: { riftSuppression: 20 },
                unlocked: false
            },
            {
                id: 'anti_demon',
                name: '–ê–Ω—Ç–∏-–¥–µ–º–æ–Ω–∏—á–µ—Å–∫–∏–µ –ø–µ—á–∞—Ç–∏',
                category: 'warp',
                cost: 15000,
                time: 70,
                requirements: ['warp_stabilizers'],
                description: '–°–≤—è—â–µ–Ω–Ω—ã–µ –ø–µ—á–∞—Ç–∏ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤—É—é—Ç –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–µ–º–æ–Ω–æ–≤',
                effects: { demonReduction: 25 },
                unlocked: false
            }
        ],
        
        // –í–æ–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
        military: [
            {
                id: 'mil_training',
                name: '–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –≤–æ–µ–Ω–Ω–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞',
                category: 'military',
                cost: 6000,
                time: 35,
                requirements: [],
                description: '–£–ª—É—á—à–µ–Ω–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –ø–æ–≤—ã—à–∞—é—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤–æ–π—Å–∫ –Ω–∞ 15%',
                effects: { militaryEfficiency: 15 },
                unlocked: true
            },
            {
                id: 'mil_weapons',
                name: '–£—Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ–≤–∞–Ω–Ω–æ–µ –≤–æ–æ—Ä—É–∂–µ–Ω–∏–µ',
                category: 'military',
                cost: 9000,
                time: 45,
                requirements: ['mil_training'],
                description: '–ù–æ–≤—ã–µ –æ–±—Ä–∞–∑—Ü—ã –æ—Ä—É–∂–∏—è —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç –æ–≥–Ω–µ–≤—É—é –º–æ—â—å –Ω–∞ 20%',
                effects: { firepower: 20 },
                unlocked: false
            },
            {
                id: 'mil_armor',
                name: '–£—Å–∏–ª–µ–Ω–Ω–∞—è –±—Ä–æ–Ω—è',
                category: 'military',
                cost: 11000,
                time: 50,
                requirements: ['mil_weapons'],
                description: '–£–ª—É—á—à–µ–Ω–Ω–∞—è –±—Ä–æ–Ω—è —Å–Ω–∏–∂–∞–µ—Ç –ø–æ—Ç–µ—Ä–∏ –≤–æ–π—Å–∫ –Ω–∞ 25%',
                effects: { armorBonus: 25 },
                unlocked: false
            }
        ],
        
        // –ê—Ä—Ö–µ–æ—Ç–µ—Ö
        archeoteh: [
            {
                id: 'arch_excavation',
                name: '–ê—Ä—Ö–µ–æ—Ç–µ—Ö —Ä–∞—Å–∫–æ–ø–∫–∏',
                category: 'archeoteh',
                cost: 10000,
                time: 60,
                requirements: [],
                description: '–ü–æ–∏—Å–∫ –¥—Ä–µ–≤–Ω–∏—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –¢—ë–º–Ω–æ–π —ç—Ä—ã',
                effects: { techBonus: 10 },
                unlocked: true
            },
            {
                id: 'arch_stc',
                name: '–§—Ä–∞–≥–º–µ–Ω—Ç –®–¢–ö',
                category: 'archeoteh',
                cost: 20000,
                time: 90,
                requirements: ['arch_excavation'],
                description: '–û–±–Ω–∞—Ä—É–∂–µ–Ω —Ñ—Ä–∞–≥–º–µ–Ω—Ç –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –®–∞–±–ª–æ–Ω–∞ –ö–æ–Ω—Å—Ç—Ä—É–∏—Ä–æ–≤–∞–Ω–∏—è',
                effects: { production: 30, techBonus: 20 },
                unlocked: false
            },
            {
                id: 'arch_weapons',
                name: '–î—Ä–µ–≤–Ω–µ–µ –æ—Ä—É–∂–∏–µ',
                category: 'archeoteh',
                cost: 25000,
                time: 100,
                requirements: ['arch_stc'],
                description: '–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –¢—ë–º–Ω–æ–π —ç—Ä—ã –ø–æ–≤—ã—à–∞—é—Ç –≤–æ–µ–Ω–Ω—É—é –º–æ—â—å –Ω–∞ 50%',
                effects: { militaryPower: 50 },
                unlocked: false
            }
        ],
        
        // –û–±–æ—Ä–æ–Ω–∞
        defense: [
            {
                id: 'def_orbital',
                name: '–û—Ä–±–∏—Ç–∞–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞',
                category: 'defense',
                cost: 8000,
                time: 45,
                requirements: [],
                description: '–£–ª—É—á—à–µ–Ω–Ω—ã–µ –æ—Ä–±–∏—Ç–∞–ª—å–Ω—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã',
                effects: { orbitalDefense: 20 },
                unlocked: true
            },
            {
                id: 'def_planetary',
                name: '–ü–ª–∞–Ω–µ—Ç–∞—Ä–Ω—ã–µ —â–∏—Ç—ã',
                category: 'defense',
                cost: 12000,
                time: 55,
                requirements: ['def_orbital'],
                description: '–ó–∞—â–∏—Ç–Ω—ã–µ –ø–æ–ª—è –ø–ª–∞–Ω–µ—Ç–∞—Ä–Ω–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∞',
                effects: { planetaryDefense: 30 },
                unlocked: false
            },
            {
                id: 'def_fortress',
                name: '–ö—Ä–µ–ø–æ—Å—Ç—å-–º–∏—Ä',
                category: 'defense',
                cost: 18000,
                time: 80,
                requirements: ['def_planetary'],
                description: '–ü—Ä–µ–≤—Ä–∞—â–µ–Ω–∏–µ –º–∏—Ä–æ–≤ –≤ –Ω–µ–ø—Ä–∏—Å—Ç—É–ø–Ω—ã–µ –∫—Ä–µ–ø–æ—Å—Ç–∏',
                effects: { fortification: 50 },
                unlocked: false
            }
        ]
    };
};

// ==================== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –£–õ–£–ß–®–ï–ù–ò–ô ====================
Game.initializeUpgrades = function() {
    this.upgradesDatabase = {
        // –ó–æ–ª–æ—Ç–æ–π –¢—Ä–æ–Ω
        throne: [
            {
                id: 'throne_repair',
                name: '–ú–∞–ª—ã–π —Ä–µ–º–æ–Ω—Ç –¢—Ä–æ–Ω–∞',
                category: 'throne',
                cost: 5000,
                level: 0,
                maxLevel: 10,
                description: '–ß–∞—Å—Ç–∏—á–Ω—ã–π —Ä–µ–º–æ–Ω—Ç –ó–æ–ª–æ—Ç–æ–≥–æ –¢—Ä–æ–Ω–∞ –∑–∞–º–µ–¥–ª—è–µ—Ç –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—é',
                effect: { throneDegradation: -0.0005 }
            },
            {
                id: 'throne_stasis',
                name: '–°—Ç–∞–∑–∏—Å-–ø–æ–ª—è',
                category: 'throne',
                cost: 10000,
                level: 0,
                maxLevel: 5,
                description: '–°—Ç–∞–∑–∏—Å-–ø–æ–ª—è —Å—Ç–∞–±–∏–ª–∏–∑–∏—Ä—É—é—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ò–º–ø–µ—Ä–∞—Ç–æ—Ä–∞',
                effect: { throneStability: 5 }
            },
            {
                id: 'throne_life_support',
                name: '–£–ª—É—á—à–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∂–∏–∑–Ω–µ–æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è',
                category: 'throne',
                cost: 8000,
                level: 0,
                maxLevel: 5,
                description: '–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Å–∏—Å—Ç–µ–º—ã –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è –∂–∏–∑–Ω–∏ –ò–º–ø–µ—Ä–∞—Ç–æ—Ä–∞',
                effect: { throneEfficiency: 3 }
            }
        ],
        
        // –ê—Å—Ç—Ä–æ–Ω–æ–º–∏–∫–æ–Ω
        astronomican: [
            {
                id: 'astro_amplifiers',
                name: '–ü—Å–∏—Ö–æ-—É—Å–∏–ª–∏—Ç–µ–ª–∏',
                category: 'astronomican',
                cost: 6000,
                level: 0,
                maxLevel: 10,
                description: '–£—Å–∏–ª–µ–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–∞ –ê—Å—Ç—Ä–æ–Ω–æ–º–∏–∫–æ–Ω–∞',
                effect: { astronomicPower: 2 }
            },
            {
                id: 'astro_efficiency',
                name: '–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∂–µ—Ä—Ç–≤–æ–ø—Ä–∏–Ω–æ—à–µ–Ω–∏–µ',
                category: 'astronomican',
                cost: 7000,
                level: 0,
                maxLevel: 5,
                description: '–°–Ω–∏–∂–µ–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–∞ –ø—Å–∞–π–∫–µ—Ä–æ–≤ –Ω–∞ 5%',
                effect: { sacrificeEfficiency: 5 }
            },
            {
                id: 'astro_choir',
                name: '–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Ö–æ—Ä',
                category: 'astronomican',
                cost: 9000,
                level: 0,
                maxLevel: 3,
                description: '–ë–æ–ª—å—à–µ –ø—Å–∞–π–∫–µ—Ä–æ–≤ –≤ —Ö–æ—Ä–µ —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å',
                effect: { stability: 5 }
            }
        ],
        
        // –û–±–æ—Ä–æ–Ω–∞ –¢–µ—Ä—Ä—ã
        defense: [
            {
                id: 'def_walls',
                name: '–ò–º–ø–µ—Ä—Å–∫–∏–π –î–≤–æ—Ä–µ—Ü - —É–∫—Ä–µ–ø–ª–µ–Ω–∏—è',
                category: 'defense',
                cost: 5000,
                level: 0,
                maxLevel: 5,
                description: '–£–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Å—Ç–µ–Ω –ò–º–ø–µ—Ä—Å–∫–æ–≥–æ –î–≤–æ—Ä—Ü–∞',
                effect: { defense: 10 }
            },
            {
                id: 'def_fleet',
                name: '–¢–µ—Ä—Ä–∞–Ω—Å–∫–∏–π —Ñ–ª–æ—Ç',
                category: 'defense',
                cost: 10000,
                level: 0,
                maxLevel: 10,
                description: '–£—Å–∏–ª–µ–Ω–∏–µ –æ—Ä–±–∏—Ç–∞–ª—å–Ω–æ–≥–æ —Ñ–ª–æ—Ç–∞ –¢–µ—Ä—Ä—ã',
                effect: { orbitalDefense: 15 }
            },
            {
                id: 'def_custodes',
                name: '–ê–¥–µ–ø—Ç—É—Å –ö—É—Å—Ç–æ–¥–µ—Å',
                category: 'defense',
                cost: 15000,
                level: 0,
                maxLevel: 3,
                description: '–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —ç–ª–∏—Ç–Ω—ã—Ö –≤–æ–π—Å–∫ –ö—É—Å—Ç–æ–¥–µ—Å',
                effect: { eliteForce: 20 }
            }
        ],
        
        // –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
        infrastructure: [
            {
                id: 'infra_production',
                name: '–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–æ—â–Ω–æ—Å—Ç–∏',
                category: 'infrastructure',
                cost: 4000,
                level: 0,
                maxLevel: 15,
                description: '–£–≤–µ–ª–∏—á–µ–Ω–∏–µ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞',
                effect: { production: 5 }
            },
            {
                id: 'infra_transport',
                name: '–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–µ —Å–µ—Ç–∏',
                category: 'infrastructure',
                cost: 5000,
                level: 0,
                maxLevel: 10,
                description: '–£–ª—É—á—à–µ–Ω–∏–µ –ª–æ–≥–∏—Å—Ç–∏–∫–∏ –∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞',
                effect: { logistics: 10 }
            },
            {
                id: 'infra_mining',
                name: '–ì–æ—Ä–Ω–æ–¥–æ–±—ã–≤–∞—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏',
                category: 'infrastructure',
                cost: 6000,
                level: 0,
                maxLevel: 10,
                description: '–î–æ–±—ã—á–∞ —Ä–µ—Å—É—Ä—Å–æ–≤ –Ω–∞ –∏–º–ø–µ—Ä—Å–∫–∏—Ö –º–∏—Ä–∞—Ö',
                effect: { resourceGain: 8 }
            }
        ],
        
        // –≠–∫–æ–Ω–æ–º–∏–∫–∞
        economy: [
            {
                id: 'eco_tax',
                name: '–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π —Å–±–æ—Ä –Ω–∞–ª–æ–≥–æ–≤',
                category: 'economy',
                cost: 3000,
                level: 0,
                maxLevel: 10,
                description: '–£–ª—É—á—à–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –Ω–∞–ª–æ–≥–æ–æ–±–ª–æ–∂–µ–Ω–∏—è',
                effect: { income: 100 }
            },
            {
                id: 'eco_trade',
                name: '–¢–æ—Ä–≥–æ–≤—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã',
                category: 'economy',
                cost: 5000,
                level: 0,
                maxLevel: 8,
                description: '–†–∞–∑–≤–∏—Ç–∏–µ –º–µ–∂–∑–≤—ë–∑–¥–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏',
                effect: { income: 150 }
            },
            {
                id: 'eco_tithe',
                name: '–ò–º–ø–µ—Ä—Å–∫–∞—è –¥–µ—Å—è—Ç–∏–Ω–∞',
                category: 'economy',
                cost: 7000,
                level: 0,
                maxLevel: 5,
                description: '–£–≤–µ–ª–∏—á–µ–Ω–∏–µ –Ω–∞–ª–æ–≥–æ–≤—ã—Ö —Å–±–æ—Ä–æ–≤ —Å –ø–ª–∞–Ω–µ—Ç',
                effect: { income: 200 }
            }
        ]
    };
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è —É–ª—É—á—à–µ–Ω–∏–π
    this.upgrades = {};
    Object.values(this.upgradesDatabase).forEach(category => {
        category.forEach(upgrade => {
            this.upgrades[upgrade.id] = {
                level: upgrade.level,
                active: false
            };
        });
    });
};

// ==================== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –î–û–°–¢–ò–ñ–ï–ù–ò–ô ====================
Game.initializeAchievements = function() {
    this.achievements = [
        {
            id: 'first_day',
            name: '–ü–µ—Ä–≤—ã–π –¥–µ–Ω—å',
            description: '–ü—Ä–æ—Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –æ–¥–∏–Ω –¥–µ–Ω—å',
            condition: () => this.day >= 1,
            unlocked: false,
            icon: 'üìÖ'
        },
        {
            id: 'hundred_days',
            name: '–°—Ç–æ–ª–µ—Ç–∏–µ',
            description: '–ü—Ä–æ—Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å 100 –¥–Ω–µ–π',
            condition: () => this.day >= 100,
            unlocked: false,
            icon: 'üíØ'
        },
        {
            id: 'thousand_sacrifices',
            name: '–î–µ—Å—è—Ç—å —Ç—ã—Å—è—á –∂–µ—Ä—Ç–≤',
            description: '–ü—Ä–∏–Ω–µ—Å—Ç–∏ –≤ –∂–µ—Ä—Ç–≤—É 10000 –ø—Å–∞–π–∫–µ—Ä–æ–≤',
            condition: () => this.stats.totalSacrifices >= 10000,
            unlocked: false,
            icon: 'üíÄ'
        },
        {
            id: 'wealthy',
            name: '–ë–æ–≥–∞—á –ò–º–ø–µ—Ä–∏—É–º–∞',
            description: '–ù–∞–∫–æ–ø–∏—Ç—å 50000 –∫—Ä–µ–¥–∏—Ç–æ–≤',
            condition: () => this.resources.credits >= 50000,
            unlocked: false,
            icon: 'üí∞'
        },
        {
            id: 'admiral',
            name: '–õ–æ—Ä–¥-–ê–¥–º–∏—Ä–∞–ª',
            description: '–ò–º–µ—Ç—å —Ñ–ª–æ—Ç –∏–∑ 100 –∫–æ—Ä–∞–±–ª–µ–π',
            condition: () => this.resources.fleet >= 100,
            unlocked: false,
            icon: 'üöÄ'
        },
        {
            id: 'researcher',
            name: '–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å',
            description: '–ó–∞–≤–µ—Ä—à–∏—Ç—å 5 –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π',
            condition: () => this.stats.researchCompleted >= 5,
            unlocked: false,
            icon: 'üî¨'
        },
        {
            id: 'enemy_hunter',
            name: '–û—Ö–æ—Ç–Ω–∏–∫ –∑–∞ –∫—Å–µ–Ω–æ—Å–∞–º–∏',
            description: '–£–Ω–∏—á—Ç–æ–∂–∏—Ç—å 1000 –≤—Ä–∞–≥–æ–≤',
            condition: () => this.stats.enemiesKilled >= 1000,
            unlocked: false,
            icon: '‚öîÔ∏è'
        },
        {
            id: 'savior',
            name: '–°–ø–∞—Å–∏—Ç–µ–ª—å —Å–µ–∫—Ç–æ—Ä–æ–≤',
            description: '–°—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å 10 —Å–µ–∫—Ç–æ—Ä–æ–≤',
            condition: () => this.stats.missionsCompleted >= 10,
            unlocked: false,
            icon: 'üõ°Ô∏è'
        },
        {
            id: 'throne_guardian',
            name: '–•—Ä–∞–Ω–∏—Ç–µ–ª—å –¢—Ä–æ–Ω–∞',
            description: '–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –¢—Ä–æ–Ω –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ 100% –≤ —Ç–µ—á–µ–Ω–∏–µ 50 –¥–Ω–µ–π',
            condition: () => this.astronomican.throneCondition >= 100 && this.day >= 50,
            unlocked: false,
            icon: 'üëë'
        },
        {
            id: 'warp_suppressor',
            name: '–ü–æ–¥–∞–≤–∏—Ç–µ–ª—å –≤–∞—Ä–ø–∞',
            description: '–°–Ω–∏–∑–∏—Ç—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤–∞—Ä–ø–∞ –¥–æ 10%',
            condition: () => this.warp.level <= 10,
            unlocked: false,
            icon: 'üåÄ'
        }
    ];
};

// ==================== –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò ====================

// –°–æ–∑–¥–∞–Ω–∏–µ –≤–∞—Ä–ø-—à—Ç–æ—Ä–º–∞
Game.createWarpStorm = function() {
    this.warp.storms++;
    
    const affectedSector = this.sectors[Math.floor(Math.random() * this.sectors.length)];
    affectedSector.stability -= 15;
    
    this.log(`‚ö†Ô∏è –í–∞—Ä–ø-—à—Ç–æ—Ä–º –æ–±—Ä—É—à–∏–ª—Å—è –Ω–∞ ${affectedSector.name}! –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Å–Ω–∏–∂–µ–Ω–∞.`, 'critical');
    this.notify('–í–∞—Ä–ø-—à—Ç–æ—Ä–º!', 'critical');
    
    // –®—Ç–æ—Ä–º —Ä–∞—Å—Å–µ–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è
    setTimeout(() => {
        this.warp.storms = Math.max(0, this.warp.storms - 1);
    }, 50000); // 50 —Å–µ–∫—É–Ω–¥
};

// –í—Ç–æ—Ä–∂–µ–Ω–∏–µ –¥–µ–º–æ–Ω–æ–≤
Game.triggerDemonIncursion = function() {
    this.warp.chaosIncursions++;
    
    const targetSector = this.sectors.find(s => s.status !== 'lost') || this.sectors[0];
    targetSector.status = 'war';
    targetSector.stability -= 25;
    targetSector.threat = 'chaos';
    
    this.enemies.chaos.sectors.push(targetSector.id);
    
    this.log(`‚ò†Ô∏è –î–ï–ú–û–ù–ò–ß–ï–°–ö–û–ï –í–¢–û–†–ñ–ï–ù–ò–ï –≤ ${targetSector.name}! –°–µ–∫—Ç–æ—Ä –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –≤–æ–π–Ω—ã!`, 'critical');
    this.notify('–î–µ–º–æ–Ω–∏—á–µ—Å–∫–æ–µ –≤—Ç–æ—Ä–∂–µ–Ω–∏–µ!', 'critical');
    
    // –ü–æ–∫–∞–∑–∞—Ç—å –≤—ã–±–æ—Ä –¥–µ–π—Å—Ç–≤–∏–π
    this.showChoiceEvent({
        title: '–î–µ–º–æ–Ω–∏—á–µ—Å–∫–æ–µ –≤—Ç–æ—Ä–∂–µ–Ω–∏–µ!',
        description: `–†–∞–∑–ª–æ–º –≤ –≤–∞—Ä–ø–µ –æ—Ç–∫—Ä—ã–ª—Å—è –Ω–∞–¥ ${targetSector.name}. –õ–µ–≥–∏–æ–Ω—ã –¥–µ–º–æ–Ω–æ–≤ —Ö–ª—ã–Ω—É–ª–∏ –Ω–∞ –ø–ª–∞–Ω–µ—Ç—ã —Å–µ–∫—Ç–æ—Ä–∞. –¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è!`,
        choices: [
            {
                text: '–ü–æ—Å–ª–∞—Ç—å –°–µ—Ä—ã—Ö –†—ã—Ü–∞—Ä–µ–π (3000 –∫—Ä–µ–¥–∏—Ç–æ–≤)',
                action: () => {
                    if (this.resources.credits >= 3000) {
                        this.resources.credits -= 3000;
                        targetSector.stability += 30;
                        this.stats.enemiesKilled += 500;
                        this.log('–°–µ—Ä—ã–µ –†—ã—Ü–∞—Ä–∏ –∏–∑–≥–Ω–∞–ª–∏ –¥–µ–º–æ–Ω–æ–≤!', 'success');
                    } else {
                        this.notify('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫—Ä–µ–¥–∏—Ç–æ–≤!', 'warning');
                    }
                }
            },
            {
                text: '–û—Ä–±–∏—Ç–∞–ª—å–Ω–∞—è –±–æ–º–±–∞—Ä–¥–∏—Ä–æ–≤–∫–∞ (1000 –∫—Ä–µ–¥–∏—Ç–æ–≤, -10 –Ω–∞—Å–µ–ª–µ–Ω–∏–µ)',
                action: () => {
                    if (this.resources.credits >= 1000) {
                        this.resources.credits -= 1000;
                        targetSector.population -= 10;
                        targetSector.stability += 20;
                        this.log('–≠–∫—Å—Ç–µ—Ä–º–∏–Ω–∞—Ç—É—Å —á–∞—Å—Ç–∏—á–Ω–æ –æ—á–∏—Å—Ç–∏–ª —Å–µ–∫—Ç–æ—Ä.', 'warning');
                    } else {
                        this.notify('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫—Ä–µ–¥–∏—Ç–æ–≤!', 'warning');
                    }
                }
            },
            {
                text: '–ú–æ–±–∏–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Å—Ç–Ω—ã–µ —Å–∏–ª—ã (–±–µ—Å–ø–ª–∞—Ç–Ω–æ, –º–µ–Ω—å—à–µ —ç—Ñ—Ñ–µ–∫—Ç)',
                action: () => {
                    targetSector.stability += 10;
                    targetSector.military -= 2;
                    this.log('–ú–µ—Å—Ç–Ω—ã–µ —Å–∏–ª—ã —Å–¥–µ—Ä–∂–∏–≤–∞—é—Ç –¥–µ–º–æ–Ω–æ–≤.', 'info');
                }
            }
        ]
    });
};

// –ü–æ—Ç–µ—Ä—è —Å–µ–∫—Ç–æ—Ä–∞
Game.triggerSectorLostEvent = function(sector) {
    // –ü–æ—Ç–µ—Ä—è —Ä–µ—Å—É—Ä—Å–æ–≤
    const lostCredits = sector.production * 10;
    const lostPop = sector.population;
    
    this.resources.credits -= lostCredits;
    this.resources.population -= lostPop;
    
    // –í–ª–∏—è–Ω–∏–µ –Ω–∞ –≤–∞—Ä–ø
    this.warp.level += 5;
    
    this.notify(`–°–µ–∫—Ç–æ—Ä ${sector.name} –ø–æ—Ç–µ—Ä—è–Ω!`, 'critical');
};

// –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –º–∏—Å—Å–∏–∏
Game.completeMission = function(mission, index) {
    this.stats.missionsCompleted++;
    
    // –ù–∞–≥—Ä–∞–¥—ã
    if (mission.rewards) {
        Object.entries(mission.rewards).forEach(([resource, amount]) => {
            this.resources[resource] += amount;
        });
    }
    
    this.log(`–ú–∏—Å—Å–∏—è "${mission.name}" –∑–∞–≤–µ—Ä—à–µ–Ω–∞!`, 'success');
    this.notify('–ú–∏—Å—Å–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!', 'success');
    
    // –£–¥–∞–ª–∏—Ç—å –º–∏—Å—Å–∏—é
    this.missions.splice(index, 1);
    
    this.updateUI();
};

// –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
Game.completeResearch = function(research) {
    this.research.completed.push(research.id);
    this.stats.researchCompleted++;
    
    // –ü—Ä–∏–º–µ–Ω–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç—ã
    if (research.effects) {
        Object.entries(research.effects).forEach(([effect, value]) => {
            // –ü—Ä–∏–º–µ–Ω–∏—Ç—å –±–æ–Ω—É—Å—ã –∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º —Å–∏—Å—Ç–µ–º–∞–º
            switch(effect) {
                case 'sacrificeEfficiency':
                    this.astronomican.efficiency += value;
                    break;
                case 'warpReduction':
                    this.warp.level -= value;
                    break;
                case 'income':
                    this.resourceChanges.credits += value;
                    break;
                // ... –¥—Ä—É–≥–∏–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
            }
        });
    }
    
    // –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
    Object.values(this.researchDatabase).forEach(category => {
        category.forEach(r => {
            if (r.requirements.includes(research.id)) {
                r.unlocked = true;
            }
        });
    });
    
    this.log(`–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ "${research.name}" –∑–∞–≤–µ—Ä—à–µ–Ω–æ!`, 'success');
    this.notify('–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!', 'success');
    
    this.research.current = null;
    this.research.progress = 0;
    
    this.updateUI();
};

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
Game.checkAchievements = function() {
    this.achievements.forEach(achievement => {
        if (!achievement.unlocked && achievement.condition()) {
            achievement.unlocked = true;
            this.showAchievement(achievement);
        }
    });
};

// –ü–æ–∫–∞–∑–∞—Ç—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ
Game.showAchievement = function(achievement) {
    const container = document.getElementById('achievement-container');
    const div = document.createElement('div');
    div.className = 'notification success';
    div.innerHTML = `
        <div style="font-size: 2em; margin-bottom: 10px;">${achievement.icon}</div>
        <div style="font-family: 'Cinzel', serif; font-size: 1.2em; margin-bottom: 5px;">–î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ!</div>
        <div style="font-weight: 700;">${achievement.name}</div>
        <div style="font-size: 0.9em; color: #aaa; margin-top: 5px;">${achievement.description}</div>
    `;
    
    container.appendChild(div);
    
    setTimeout(() => {
        if (div.parentNode) div.remove();
    }, 5000);
};

// –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ Game

// ==================== –ì–ï–ù–ï–†–ê–¶–ò–Ø –°–õ–£–ß–ê–ô–ù–´–• –°–û–ë–´–¢–ò–ô ====================
Game.generateRandomEvent = function() {
    const eventTypes = [
        'sector_crisis',
        'warp_anomaly',
        'enemy_attack',
        'discovery',
        'personnel_event',
        'economic_event',
        'political_event',
        'heresy',
        'xenos_contact'
    ];
    
    const eventType = eventTypes[Math.floor(Math.random() * eventTypes.length)];
    
    switch(eventType) {
        case 'sector_crisis':
            this.generateSectorCrisis();
            break;
        case 'warp_anomaly':
            this.generateWarpAnomaly();
            break;
        case 'enemy_attack':
            this.generateEnemyAttack();
            break;
        case 'discovery':
            this.generateDiscovery();
            break;
        case 'personnel_event':
            this.generatePersonnelEvent();
            break;
        case 'economic_event':
            this.generateEconomicEvent();
            break;
        case 'political_event':
            this.generatePoliticalEvent();
            break;
        case 'heresy':
            this.generateHeresyEvent();
            break;
        case 'xenos_contact':
            this.generateXenosContact();
            break;
    }
    
    this.lastEventDay = this.day;
};

// ==================== –ö–†–ò–ó–ò–° –í –°–ï–ö–¢–û–†–ï ====================
Game.generateSectorCrisis = function() {
    const sector = this.sectors.find(s => s.status === 'safe' || s.status === 'threatened');
    if (!sector) return;
    
    const crisisTypes = [
        {
            title: `–í–æ—Å—Å—Ç–∞–Ω–∏–µ –Ω–∞ ${sector.name}`,
            description: `–ü–ª–∞–Ω–µ—Ç—ã —Å–µ–∫—Ç–æ—Ä–∞ ${sector.name} –æ—Ö–≤–∞—á–µ–Ω—ã –≤–æ—Å—Å—Ç–∞–Ω–∏–µ–º –ø—Ä–æ—Ç–∏–≤ –≤–ª–∞—Å—Ç–∏ –ò–º–ø–µ—Ä–∏—É–º–∞. –ì—É–±–µ—Ä–Ω–∞—Ç–æ—Ä ${sector.governor} –ø—Ä–æ—Å–∏—Ç –≤–æ–µ–Ω–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏.`,
            choices: [
                {
                    text: '–ü–æ–¥–∞–≤–∏—Ç—å —Å–∏–ª–æ–π (2000 –∫—Ä–µ–¥–∏—Ç–æ–≤, -10 –º–ª—Ä–¥ –Ω–∞—Å–µ–ª–µ–Ω–∏—è)',
                    action: () => {
                        if (this.resources.credits >= 2000) {
                            this.resources.credits -= 2000;
                            sector.population -= 10;
                            sector.stability += 30;
                            this.log(`–í–æ—Å—Å—Ç–∞–Ω–∏–µ –≤ ${sector.name} –ø–æ–¥–∞–≤–ª–µ–Ω–æ —Å–∏–ª–æ–π.`, 'success');
                        } else {
                            this.notify('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫—Ä–µ–¥–∏—Ç–æ–≤!', 'warning');
                        }
                    }
                },
                {
                    text: '–ü–µ—Ä–µ–≥–æ–≤–æ—Ä—ã (1000 –∫—Ä–µ–¥–∏—Ç–æ–≤, –º–µ–¥–ª–µ–Ω–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ)',
                    action: () => {
                        if (this.resources.credits >= 1000) {
                            this.resources.credits -= 1000;
                            sector.stability += 15;
                            this.log(`–ü–µ—Ä–µ–≥–æ–≤–æ—Ä—ã –≤ ${sector.name} –ø—Ä–∏–Ω–µ—Å–ª–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ.`, 'info');
                        } else {
                            this.notify('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫—Ä–µ–¥–∏—Ç–æ–≤!', 'warning');
                        }
                    }
                },
                {
                    text: '–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å (—Å–µ–∫—Ç–æ—Ä –¥–µ—Å—Ç–∞–±–∏–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è)',
                    action: () => {
                        sector.stability -= 20;
                        sector.status = 'threatened';
                        this.log(`${sector.name} –ø–æ–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ —Ö–∞–æ—Å.`, 'warning');
                    }
                }
            ]
        },
        {
            title: `–ì–æ–ª–æ–¥ –≤ ${sector.name}`,
            description: `–ù–µ—É—Ä–æ–∂–∞–π –∏ —Ä–∞–∑—Ä—ã–≤ —Ç–æ—Ä–≥–æ–≤—ã—Ö –ø—É—Ç–µ–π –ø—Ä–∏–≤–µ–ª–∏ –∫ –º–∞—Å—Å–æ–≤–æ–º—É –≥–æ–ª–æ–¥—É –≤ ${sector.name}. –ú–∏–ª–ª–∏–∞—Ä–¥—ã –∂–∏–∑–Ω–µ–π –ø–æ–¥ —É–≥—Ä–æ–∑–æ–π.`,
            choices: [
                {
                    text: '–ì—É–º–∞–Ω–∏—Ç–∞—Ä–Ω–∞—è –ø–æ–º–æ—â—å (3000 –∫—Ä–µ–¥–∏—Ç–æ–≤)',
                    action: () => {
                        if (this.resources.credits >= 3000) {
                            this.resources.credits -= 3000;
                            sector.stability += 25;
                            this.log(`–ü–æ–º–æ—â—å —Å–ø–∞—Å–ª–∞ –º–∏–ª–ª–∏–æ–Ω—ã –∂–∏–∑–Ω–µ–π –≤ ${sector.name}.`, 'success');
                        } else {
                            this.notify('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫—Ä–µ–¥–∏—Ç–æ–≤!', 'warning');
                        }
                    }
                },
                {
                    text: '–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –ø–æ–º–æ—â—å (1000 –∫—Ä–µ–¥–∏—Ç–æ–≤)',
                    action: () => {
                        if (this.resources.credits >= 1000) {
                            this.resources.credits -= 1000;
                            sector.population -= 15;
                            sector.stability += 10;
                            this.log(`–ß–∞—Å—Ç–∏—á–Ω–∞—è –ø–æ–º–æ—â—å ${sector.name}. –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –∂–µ—Ä—Ç–≤.`, 'warning');
                        } else {
                            this.notify('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫—Ä–µ–¥–∏—Ç–æ–≤!', 'warning');
                        }
                    }
                },
                {
                    text: '–ù–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞—Ç—å (–æ–≥—Ä–æ–º–Ω—ã–µ –ø–æ—Ç–µ—Ä–∏)',
                    action: () => {
                        sector.population -= 30;
                        sector.stability -= 30;
                        this.log(`–ì–æ–ª–æ–¥ –æ–ø—É—Å—Ç–æ—à–∏–ª ${sector.name}.`, 'critical');
                    }
                }
            ]
        },
        {
            title: `–ß—É–º–∞ –≤ ${sector.name}`,
            description: `–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –±–æ–ª–µ–∑–Ω—å —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ –º–∏—Ä–∞–º ${sector.name}. –ï—Å—Ç—å –ø–æ–¥–æ–∑—Ä–µ–Ω–∏–µ –Ω–∞ –≤–∞—Ä–ø-–ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ –∑–∞—Ä–∞–∑—ã.`,
            choices: [
                {
                    text: '–ö–∞—Ä–∞–Ω—Ç–∏–Ω –∏ –ª–µ—á–µ–Ω–∏–µ (2500 –∫—Ä–µ–¥–∏—Ç–æ–≤)',
                    action: () => {
                        if (this.resources.credits >= 2500) {
                            this.resources.credits -= 2500;
                            sector.population -= 5;
                            sector.stability += 20;
                            this.log(`–ö–∞—Ä–∞–Ω—Ç–∏–Ω –æ—Å—Ç–∞–Ω–æ–≤–∏–ª —á—É–º—É –≤ ${sector.name}.`, 'success');
                        } else {
                            this.notify('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫—Ä–µ–¥–∏—Ç–æ–≤!', 'warning');
                        }
                    }
                },
                {
                    text: '–≠–∫—Å—Ç–µ—Ä–º–∏–Ω–∞—Ç—É—Å –∑–∞—Ä–∞–∂—ë–Ω–Ω—ã—Ö –º–∏—Ä–æ–≤ (1000 –∫—Ä–µ–¥–∏—Ç–æ–≤, –æ–≥—Ä–æ–º–Ω—ã–µ –ø–æ—Ç–µ—Ä–∏)',
                    action: () => {
                        if (this.resources.credits >= 1000) {
                            this.resources.credits -= 1000;
                            sector.population -= 25;
                            sector.stability += 15;
                            this.log(`–ó–∞—Ä–∞–∂—ë–Ω–Ω—ã–µ –º–∏—Ä—ã ${sector.name} —É–Ω–∏—á—Ç–æ–∂–µ–Ω—ã.`, 'critical');
                        } else {
                            this.notify('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫—Ä–µ–¥–∏—Ç–æ–≤!', 'warning');
                        }
                    }
                },
                {
                    text: '–ü–æ–∑–≤–æ–ª–∏—Ç—å —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–∏—Ç—å—Å—è (–∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∞)',
                    action: () => {
                        sector.population -= 40;
                        sector.stability -= 40;
                        this.warp.level += 5;
                        this.log(`${sector.name} –æ–ø—É—Å—Ç–æ—à—ë–Ω —á—É–º–æ–π.`, 'critical');
                    }
                }
            ]
        }
    ];
    
    const crisis = crisisTypes[Math.floor(Math.random() * crisisTypes.length)];
    this.showChoiceEvent(crisis);
};

// ==================== –í–ê–†–ü-–ê–ù–û–ú–ê–õ–ò–Ø ====================
Game.generateWarpAnomaly = function() {
    const anomalies = [
        {
            title: '–í–∞—Ä–ø-—Ä–∞–∑–ª–æ–º',
            description: '–û–±–Ω–∞—Ä—É–∂–µ–Ω —Ä–∞—Å—Ç—É—â–∏–π —Ä–∞–∑–ª–æ–º –≤ –≤–∞—Ä–ø–µ. –û–Ω —É–≥—Ä–æ–∂–∞–µ—Ç —Å—Ç–∞—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º –ø—Ä–æ—Ö–æ–¥–æ–º –¥–ª—è –¥–µ–º–æ–Ω–æ–≤.',
            choices: [
                {
                    text: '–°–µ—Ä—ã–µ –†—ã—Ü–∞—Ä–∏ (5000 –∫—Ä–µ–¥–∏—Ç–æ–≤)',
                    action: () => {
                        if (this.resources.credits >= 5000) {
                            this.resources.credits -= 5000;
                            this.warp.level -= 10;
                            this.log('–°–µ—Ä—ã–µ –†—ã—Ü–∞—Ä–∏ –∑–∞–ø–µ—á–∞—Ç–∞–ª–∏ —Ä–∞–∑–ª–æ–º.', 'success');
                        } else {
                            this.notify('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫—Ä–µ–¥–∏—Ç–æ–≤!', 'warning');
                        }
                    }
                },
                {
                    text: '–ê—Å—Ç—Ä–æ–ø–∞—Ç—ã (2000 –∫—Ä–µ–¥–∏—Ç–æ–≤, 100 –ø—Å–∞–π–∫–µ—Ä–æ–≤)',
                    action: () => {
                        if (this.resources.credits >= 2000 && this.resources.psychic >= 100) {
                            this.resources.credits -= 2000;
                            this.resources.psychic -= 100;
                            this.warp.level -= 5;
                            this.log('–ê—Å—Ç—Ä–æ–ø–∞—Ç—ã —Å—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞–ª–∏ —Ä–∞–∑–ª–æ–º.', 'success');
                        } else {
                            this.notify('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ä–µ—Å—É—Ä—Å–æ–≤!', 'warning');
                        }
                    }
                },
                {
                    text: '–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å (–≤–∞—Ä–ø —É—Å–∏–ª–∏–≤–∞–µ—Ç—Å—è)',
                    action: () => {
                        this.warp.level += 10;
                        this.log('–í–∞—Ä–ø-—Ä–∞–∑–ª–æ–º —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è!', 'critical');
                    }
                }
            ]
        },
        {
            title: '–ü—Å–∏—Ö–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–±—É–∂–¥–µ–Ω–∏–µ',
            description: '–ù–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–ª–∞–Ω–µ—Ç–∞—Ö –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –ø—Ä–æ–±—É–¥–∏–ª–∏—Å—å —Ç—ã—Å—è—á–∏ –ø—Å–∞–π–∫–µ—Ä–æ–≤. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–∏–∑–Ω–∞–∫–æ–º –Ω–∞–¥–≤–∏–≥–∞—é—â–µ–π—Å—è –±–µ–¥—ã.',
            choices: [
                {
                    text: '–°–æ–±—Ä–∞—Ç—å –∏—Ö –¥–ª—è –ê—Å—Ç—Ä–æ–Ω–æ–º–∏–∫–æ–Ω–∞ (+2000 –ø—Å–∞–π–∫–µ—Ä–æ–≤)',
                    action: () => {
                        this.resources.psychic += 2000;
                        this.warp.level += 3;
                        this.log('–ù–æ–≤—ã–µ –ø—Å–∞–π–∫–µ—Ä—ã —Å–æ–±—Ä–∞–Ω—ã.', 'success');
                    }
                },
                {
                    text: '–ó–∞—á–∏—Å—Ç–∫–∞ –ò–Ω–∫–≤–∏–∑–∏—Ü–∏–∏ (–±–µ–∑–æ–ø–∞—Å–Ω–æ, –Ω–æ –ø–æ—Ç–µ—Ä—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)',
                    action: () => {
                        this.warp.level -= 2;
                        this.log('–ò–Ω–∫–≤–∏–∑–∏—Ü–∏—è —É–Ω–∏—á—Ç–æ–∂–∏–ª–∞ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –æ–ø–∞—Å–Ω—ã—Ö –ø—Å–∞–π–∫–µ—Ä–æ–≤.', 'info');
                    }
                }
            ]
        },
        {
            title: '–ö–æ—Ä–∞–±–ª—å-–ø—Ä–∏–∑—Ä–∞–∫',
            description: '–ò–∑ –≤–∞—Ä–ø–∞ –ø–æ—è–≤–∏–ª—Å—è –¥—Ä–µ–≤–Ω–∏–π –∫–æ—Ä–∞–±–ª—å –ò–º–ø–µ—Ä–∏—É–º–∞, –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã–π —Ç—ã—Å—è—á–µ–ª–µ—Ç–∏—è –Ω–∞–∑–∞–¥. –ï–≥–æ —ç–∫–∏–ø–∞–∂ –ø—Ä–µ–≤—Ä–∞—Ç–∏–ª—Å—è –≤ –Ω–µ–∂–∏—Ç—å.',
            choices: [
                {
                    text: '–£–Ω–∏—á—Ç–æ–∂–∏—Ç—å (500 –∫—Ä–µ–¥–∏—Ç–æ–≤)',
                    action: () => {
                        if (this.resources.credits >= 500) {
                            this.resources.credits -= 500;
                            this.log('–ö–æ—Ä–∞–±–ª—å-–ø—Ä–∏–∑—Ä–∞–∫ —É–Ω–∏—á—Ç–æ–∂–µ–Ω.', 'info');
                        } else {
                            this.notify('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫—Ä–µ–¥–∏—Ç–æ–≤!', 'warning');
                        }
                    }
                },
                {
                    text: '–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å (—Ä–∏—Å–∫, –Ω–æ –≤–æ–∑–º–æ–∂–Ω—ã –Ω–∞—Ö–æ–¥–∫–∏)',
                    action: () => {
                        if (Math.random() > 0.5) {
                            this.resources.credits += 2000;
                            this.log('–û–±–Ω–∞—Ä—É–∂–µ–Ω –¥—Ä–µ–≤–Ω–∏–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç!', 'success');
                        } else {
                            this.resources.military -= 1;
                            this.warp.level += 5;
                            this.log('–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–¥–≤–µ—Ä–≥–ª–∏—Å—å –≤–∞—Ä–ø-–∑–∞—Ä–∞–∂–µ–Ω–∏—é!', 'critical');
                        }
                    }
                }
            ]
        }
    ];
    
    const anomaly = anomalies[Math.floor(Math.random() * anomalies.length)];
    this.showChoiceEvent(anomaly);
};

// ==================== –ê–¢–ê–ö–ê –í–†–ê–ì–û–í ====================
Game.generateEnemyAttack = function() {
    const enemyNames = {
        chaos: '–°–∏–ª—ã –•–∞–æ—Å–∞',
        tyranids: '–§–ª–æ—Ç-—É–ª–µ–π —Ç–∏—Ä–∞–Ω–∏–¥–æ–≤',
        necrons: '–õ–µ–≥–∏–æ–Ω—ã –Ω–µ–∫—Ä–æ–Ω–æ–≤',
        orks: '–û—Ä–æ—á–∏–π –í–∞–∞–∞–≥—Ö!',
        tau: '–≠–∫—Å–ø–µ–¥–∏—Ü–∏–æ–Ω–Ω—ã–µ —Å–∏–ª—ã –¢–∞—É',
        eldar: '–ù–∞–ª—ë—Ç—á–∏–∫–∏ —ç–ª—å–¥–∞—Ä'
    };
    
    const enemyType = Object.keys(this.enemies)[Math.floor(Math.random() * Object.keys(this.enemies).length)];
    const enemy = this.enemies[enemyType];
    const sector = this.sectors.find(s => s.status !== 'lost');
    
    if (!sector) return;
    
    this.showChoiceEvent({
        title: `–ê—Ç–∞–∫–∞: ${enemyNames[enemyType]}`,
        description: `${enemyNames[enemyType]} –∞—Ç–∞–∫—É–µ—Ç ${sector.name}! –¢—Ä–µ–±—É–µ—Ç—Å—è —Å—Ä–æ—á–Ω–∞—è –≤–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞.`,
        choices: [
            {
                text: '–ü–æ–ª–Ω–æ–µ –≤–æ–µ–Ω–Ω–æ–µ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–æ (5000 –∫—Ä–µ–¥–∏—Ç–æ–≤, 10 –º–ª–Ω –∞—Ä–º–∏–∏)',
                action: () => {
                    if (this.resources.credits >= 5000 && this.resources.military >= 10) {
                        this.resources.credits -= 5000;
                        this.resources.military -= 10;
                        enemy.strength -= 5;
                        sector.stability += 20;
                        this.stats.enemiesKilled += 300;
                        this.log(`${enemyNames[enemyType]} —Ä–∞–∑–≥—Ä–æ–º–ª–µ–Ω—ã –≤ ${sector.name}!`, 'success');
                    } else {
                        this.notify('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ä–µ—Å—É—Ä—Å–æ–≤!', 'warning');
                    }
                }
            },
            {
                text: '–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ (2000 –∫—Ä–µ–¥–∏—Ç–æ–≤, 5 –º–ª–Ω –∞—Ä–º–∏–∏)',
                action: () => {
                    if (this.resources.credits >= 2000 && this.resources.military >= 5) {
                        this.resources.credits -= 2000;
                        this.resources.military -= 5;
                        sector.stability += 10;
                        this.stats.enemiesKilled += 100;
                        this.log(`–ê—Ç–∞–∫–∞ –≤ ${sector.name} –æ—Ç–±–∏—Ç–∞ —Å –ø–æ—Ç–µ—Ä—è–º–∏.`, 'warning');
                    } else {
                        this.notify('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ä–µ—Å—É—Ä—Å–æ–≤!', 'warning');
                    }
                }
            },
            {
                text: '–ú–µ—Å—Ç–Ω–∞—è –æ–±–æ—Ä–æ–Ω–∞ (–±–µ—Å–ø–ª–∞—Ç–Ω–æ, –±–æ–ª—å—à–∏–µ –ø–æ—Ç–µ—Ä–∏)',
                action: () => {
                    sector.stability -= 15;
                    sector.population -= 10;
                    sector.military -= 3;
                    this.log(`${sector.name} —Å–∏–ª—å–Ω–æ –ø–æ—Å—Ç—Ä–∞–¥–∞–ª –æ—Ç –∞—Ç–∞–∫–∏.`, 'critical');
                }
            }
        ]
    });
};

// ==================== –û–¢–ö–†–´–¢–ò–Ø ====================
Game.generateDiscovery = function() {
    const discoveries = [
        {
            title: '–§—Ä–∞–≥–º–µ–Ω—Ç –®–¢–ö',
            description: '–ê—Ä—Ö–µ–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è —ç–∫—Å–ø–µ–¥–∏—Ü–∏—è –æ–±–Ω–∞—Ä—É–∂–∏–ª–∞ —Ñ—Ä–∞–≥–º–µ–Ω—Ç –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –®–∞–±–ª–æ–Ω–∞ –ö–æ–Ω—Å—Ç—Ä—É–∏—Ä–æ–≤–∞–Ω–∏—è!',
            choices: [
                {
                    text: '–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ',
                    action: () => {
                        this.resources.credits += 5000;
                        this.resourceChanges.credits += 50;
                        this.log('–û–±–Ω–∞—Ä—É–∂–µ–Ω—ã —á–µ—Ä—Ç–µ–∂–∏ —É–ª—É—á—à–µ–Ω–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π!', 'success');
                    }
                }
            ]
        },
        {
            title: '–ú–∏—Ä-—Ç–∞–π–Ω–∏–∫',
            description: '–û–±–Ω–∞—Ä—É–∂–µ–Ω –∑–∞–±—ã—Ç—ã–π –∏–º–ø–µ—Ä—Å–∫–∏–π –º–∏—Ä-—Ç–∞–π–Ω–∏–∫ —Å –æ–≥—Ä–æ–º–Ω—ã–º–∏ –∑–∞–ø–∞—Å–∞–º–∏.',
            choices: [
                {
                    text: '–ó–∞–±—Ä–∞—Ç—å —Ä–µ—Å—É—Ä—Å—ã (+10000 –∫—Ä–µ–¥–∏—Ç–æ–≤)',
                    action: () => {
                        this.resources.credits += 10000;
                        this.log('–†–µ—Å—É—Ä—Å—ã –º–∏—Ä–∞-—Ç–∞–π–Ω–∏–∫–∞ –∏–∑—ä—è—Ç—ã!', 'success');
                    }
                }
            ]
        },
        {
            title: '–î—Ä–µ–≤–Ω–∏–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç',
            description: '–ù–∞–π–¥–µ–Ω –∑–∞–≥–∞–¥–æ—á–Ω—ã–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–≥–æ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏—è.',
            choices: [
                {
                    text: '–ò–∑—É—á–∏—Ç—å (–≤–æ–∑–º–æ–∂–Ω—ã –±–æ–Ω—É—Å—ã)',
                    action: () => {
                        const outcomes = [
                            () => {
                                this.astronomican.efficiency += 10;
                                this.log('–ê—Ä—Ç–µ—Ñ–∞–∫—Ç —É—Å–∏–ª–∏–ª –ê—Å—Ç—Ä–æ–Ω–æ–º–∏–∫–æ–Ω!', 'success');
                            },
                            () => {
                                this.warp.level += 10;
                                this.log('–ê—Ä—Ç–µ—Ñ–∞–∫—Ç –æ–∫–∞–∑–∞–ª—Å—è –≤–∞—Ä–ø-–∑–∞—Ä–∞–∂—ë–Ω–Ω—ã–º!', 'critical');
                            },
                            () => {
                                this.resources.credits += 3000;
                                this.log('–ê—Ä—Ç–µ—Ñ–∞–∫—Ç –ø—Ä–æ–¥–∞–Ω –∫–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–µ—Ä–∞–º.', 'info');
                            }
                        ];
                        outcomes[Math.floor(Math.random() * outcomes.length)]();
                    }
                },
                {
                    text: '–£–Ω–∏—á—Ç–æ–∂–∏—Ç—å (–±–µ–∑–æ–ø–∞—Å–Ω–æ)',
                    action: () => {
                        this.log('–ê—Ä—Ç–µ—Ñ–∞–∫—Ç —É–Ω–∏—á—Ç–æ–∂–µ–Ω –∏–∑ –ø—Ä–µ–¥–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç–∏.', 'info');
                    }
                }
            ]
        }
    ];
    
    const discovery = discoveries[Math.floor(Math.random() * discoveries.length)];
    this.showChoiceEvent(discovery);
};

// ==================== –°–û–ë–´–¢–ò–Ø –ü–ï–†–°–û–ù–ê–õ–ê ====================
Game.generatePersonnelEvent = function() {
    const events = [
        {
            title: '–ù–æ–≤—ã–π —Ç–∞–ª–∞–Ω—Ç–ª–∏–≤—ã–π –∏–Ω–∫–≤–∏–∑–∏—Ç–æ—Ä',
            description: '–ú–æ–ª–æ–¥–æ–π –∏–Ω–∫–≤–∏–∑–∏—Ç–æ—Ä –ø—Ä–æ—Å–∏—Ç –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –≤–∞—à–µ–π —Å–ª—É–∂–±–µ. –û–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –±–æ–ª—å—à–æ–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª.',
            choices: [
                {
                    text: '–ü—Ä–∏–Ω—è—Ç—å (1500 –∫—Ä–µ–¥–∏—Ç–æ–≤)',
                    action: () => {
                        if (this.resources.credits >= 1500) {
                            this.resources.credits -= 1500;
                            this.personnel.inquisitors.push({
                                id: this.personnel.inquisitors.length + 1,
                                name: '–ò–Ω–∫–≤–∏–∑–∏—Ç–æ—Ä ' + this.generateGovernorName(),
                                ordo: ['–ö—Å–µ–Ω–æ—Å', '–ï—Ä–µ—Ç–∏–∫—É—Å', '–ú–∞–ª–ª–µ—É—Å'][Math.floor(Math.random() * 3)],
                                level: 5,
                                experience: 0,
                                status: 'available',
                                missions: 0,
                                kills: 0
                            });
                            this.log('–ù–æ–≤—ã–π –∏–Ω–∫–≤–∏–∑–∏—Ç–æ—Ä –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏–ª—Å—è!', 'success');
                        } else {
                            this.notify('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫—Ä–µ–¥–∏—Ç–æ–≤!', 'warning');
                        }
                    }
                },
                {
                    text: '–û—Ç–∫–∞–∑–∞—Ç—å',
                    action: () => {
                        this.log('–ò–Ω–∫–≤–∏–∑–∏—Ç–æ—Ä –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ –¥—Ä—É–≥–æ–π —Å–µ–∫—Ç–æ—Ä.', 'info');
                    }
                }
            ]
        },
        {
            title: '–¢–µ—Ö–Ω–æ–∂—Ä–µ—Ü –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —É—Å–ª—É–≥–∏',
            description: '–û–ø—ã—Ç–Ω—ã–π –º–∞–≥–æ—Å –ê–¥–µ–ø—Ç—É—Å –ú–µ—Ö–∞–Ω–∏–∫—É—Å –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Å–≤–æ–∏ —É—Å–ª—É–≥–∏.',
            choices: [
                {
                    text: '–ù–∞–Ω—è—Ç—å (2000 –∫—Ä–µ–¥–∏—Ç–æ–≤)',
                    action: () => {
                        if (this.resources.credits >= 2000) {
                            this.resources.credits -= 2000;
                            this.resources.techpriests += 1;
                            this.resourceChanges.credits += 20;
                            this.log('–ù–æ–≤—ã–π —Ç–µ—Ö–Ω–æ–∂—Ä–µ—Ü —É–ª—É—á—à–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ!', 'success');
                        } else {
                            this.notify('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫—Ä–µ–¥–∏—Ç–æ–≤!', 'warning');
                        }
                    }
                },
                {
                    text: '–û—Ç–∫–∞–∑–∞—Ç—å',
                    action: () => {
                        this.log('–ú–∞–≥–æ—Å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ –∫—É–∑–Ω–∏ –ú–∞—Ä—Å–∞.', 'info');
                    }
                }
            ]
        },
        {
            title: '–ì–µ—Ä–æ–π –≤–µ—Ä–Ω—É–ª—Å—è –∏–∑ –∫—Ä–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ—Ö–æ–¥–∞',
            description: '–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π –≥–µ–Ω–µ—Ä–∞–ª –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –¥–æ–ª–≥–æ–≥–æ –∫—Ä–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ—Ö–æ–¥–∞ –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Å–≤–æ–∏ —É—Å–ª—É–≥–∏.',
            choices: [
                {
                    text: '–ü—Ä–∏–Ω—è—Ç—å –≤ –∫–æ–º–∞–Ω–¥–æ–≤–∞–Ω–∏–µ (3000 –∫—Ä–µ–¥–∏—Ç–æ–≤)',
                    action: () => {
                        if (this.resources.credits >= 3000) {
                            this.resources.credits -= 3000;
                            this.resourceChanges.military += 1;
                            this.log('–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π –≥–µ–Ω–µ—Ä–∞–ª –ø–æ–≤—ã—à–∞–µ—Ç –±–æ–µ–≤–æ–π –¥—É—Ö!', 'success');
                        } else {
                            this.notify('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫—Ä–µ–¥–∏—Ç–æ–≤!', 'warning');
                        }
                    }
                },
                {
                    text: '–û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –¥—Ä—É–≥–æ–π —Ñ—Ä–æ–Ω—Ç',
                    action: () => {
                        this.log('–ì–µ–Ω–µ—Ä–∞–ª –Ω–∞–∑–Ω–∞—á–µ–Ω –≤ –¥—Ä—É–≥–æ–π —Å–µ–∫—Ç–æ—Ä.', 'info');
                    }
                }
            ]
        }
    ];
    
    const event = events[Math.floor(Math.random() * events.length)];
    this.showChoiceEvent(event);
};

// ==================== –≠–ö–û–ù–û–ú–ò–ß–ï–°–ö–ò–ï –°–û–ë–´–¢–ò–Ø ====================
Game.generateEconomicEvent = function() {
    const events = [
        {
            title: '–¢–æ—Ä–≥–æ–≤—ã–π –±—É–º',
            description: '–ù–æ–≤—ã–µ —Ç–æ—Ä–≥–æ–≤—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –æ—Ç–∫—Ä—ã—Ç—ã! –≠–∫–æ–Ω–æ–º–∏–∫–∞ –ø—Ä–æ—Ü–≤–µ—Ç–∞–µ—Ç.',
            choices: [
                {
                    text: '–í–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é',
                    action: () => {
                        this.resourceChanges.credits += 100;
                        this.log('–î–æ—Ö–æ–¥ –ò–º–ø–µ—Ä–∏—É–º–∞ —É–≤–µ–ª–∏—á–µ–Ω!', 'success');
                    }
                }
            ]
        },
        {
            title: '–≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–π –∫—Ä–∏–∑–∏—Å',
            description: '–ù–µ—Å–∫–æ–ª—å–∫–æ –∫–ª—é—á–µ–≤—ã—Ö —Ç–æ—Ä–≥–æ–≤—ã—Ö –º–∏—Ä–æ–≤ —Å—Ç–æ–ª–∫–Ω—É–ª–∏—Å—å —Å —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–º –∫–æ–ª–ª–∞–ø—Å–æ–º.',
            choices: [
                {
                    text: '–§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –ø–æ–º–æ—â—å (5000 –∫—Ä–µ–¥–∏—Ç–æ–≤)',
                    action: () => {
                        if (this.resources.credits >= 5000) {
                            this.resources.credits -= 5000;
                            this.resourceChanges.credits += 50;
                            this.log('–≠–∫–æ–Ω–æ–º–∏–∫–∞ —Å—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞.', 'success');
                        } else {
                            this.notify('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫—Ä–µ–¥–∏—Ç–æ–≤!', 'warning');
                        }
                    }
                },
                {
                    text: '–ü–æ–∑–≤–æ–ª–∏—Ç—å —Ä—ã–Ω–∫—É —Å–∞–º–æ–º—É —Å–ø—Ä–∞–≤–∏—Ç—å—Å—è',
                    action: () => {
                        this.resourceChanges.credits -= 30;
                        this.log('–î–æ—Ö–æ–¥ —Å–Ω–∏–∂–µ–Ω –∏–∑-–∑–∞ –∫—Ä–∏–∑–∏—Å–∞.', 'warning');
                    }
                }
            ]
        },
        {
            title: '–ö—Ä—É–ø–Ω–æ–µ –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏–µ',
            description: '–ë–æ–≥–∞—Ç—ã–π –º–∏—Ä-–∫—É–∑–Ω–∏—Ü–∞ –¥–µ–ª–∞–µ—Ç —â–µ–¥—Ä–æ–µ –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏–µ –ò–º–ø–µ—Ä–∏—É–º—É.',
            choices: [
                {
                    text: '–ü—Ä–∏–Ω—è—Ç—å (+8000 –∫—Ä–µ–¥–∏—Ç–æ–≤)',
                    action: () => {
                        this.resources.credits += 8000;
                        this.log('–ö–∞–∑–Ω–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∞!', 'success');
                    }
                }
            ]
        }
    ];
    
    const event = events[Math.floor(Math.random() * events.length)];
    this.showChoiceEvent(event);
};

// ==================== –ü–û–õ–ò–¢–ò–ß–ï–°–ö–ò–ï –°–û–ë–´–¢–ò–Ø ====================
Game.generatePoliticalEvent = function() {
    const events = [
        {
            title: '–†–∞—Å–∫–æ–ª –≤ –°–µ–Ω–∞—Ç—É–º –ò–º–ø–µ—Ä–∏–∞–ª–∏—Å',
            description: '–í—ã—Å—à–∏–µ –ª–æ—Ä–¥—ã –¢–µ—Ä—Ä—ã —Ä–∞–∑–¥–µ–ª–∏–ª–∏—Å—å –ø–æ –∫–ª—é—á–µ–≤–æ–º—É –≤–æ–ø—Ä–æ—Å—É. –¢—Ä–µ–±—É–µ—Ç—Å—è –≤–∞—à–µ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–æ.',
            choices: [
                {
                    text: '–ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–æ—Ä–æ–≤',
                    action: () => {
                        this.astronomican.efficiency -= 5;
                        this.resourceChanges.credits += 30;
                        this.log('–ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–æ—Ä—ã —É—Å–∏–ª–∏–ª–∏ —Å–≤–æ–∏ –ø–æ–∑–∏—Ü–∏–∏.', 'info');
                    }
                },
                {
                    text: '–ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å —Ä–µ—Ñ–æ—Ä–º–∞—Ç–æ—Ä–æ–≤',
                    action: () => {
                        this.astronomican.efficiency += 5;
                        this.warp.level += 5;
                        this.log('–†–µ—Ñ–æ—Ä–º—ã –º–æ–≥—É—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø–µ—Ä–µ–º–µ–Ω–∞–º.', 'warning');
                    }
                },
                {
                    text: '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–µ–π—Ç—Ä–∞–ª–∏—Ç–µ—Ç',
                    action: () => {
                        this.log('–†–∞—Å–∫–æ–ª –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è –±–µ–∑ –≤–∞—à–µ–≥–æ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞.', 'info');
                    }
                }
            ]
        },
        {
            title: '–ó–∞–ø—Ä–æ—Å –Ω–∞ –∞–≤—Ç–æ–Ω–æ–º–∏—é',
            description: '–ë–æ–≥–∞—Ç—ã–π –∏ –º–æ–≥—É—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–µ–∫—Ç–æ—Ä —Ç—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ–π –∞–≤—Ç–æ–Ω–æ–º–∏–∏ –æ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–π –≤–ª–∞—Å—Ç–∏.',
            choices: [
                {
                    text: '–û—Ç–∫–∞–∑–∞—Ç—å (—Ä–∏—Å–∫ –≤–æ—Å—Å—Ç–∞–Ω–∏—è)',
                    action: () => {
                        const sector = this.sectors.find(s => s.status === 'safe');
                        if (sector) sector.stability -= 10;
                        this.log('–ó–∞–ø—Ä–æ—Å –Ω–∞ –∞–≤—Ç–æ–Ω–æ–º–∏—é –æ—Ç–∫–ª–æ–Ω—ë–Ω.', 'warning');
                    }
                },
                {
                    text: '–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—É—é –∞–≤—Ç–æ–Ω–æ–º–∏—é',
                    action: () => {
                        this.resourceChanges.credits -= 20;
                        this.log('–ö–æ–º–ø—Ä–æ–º–∏—Å—Å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç.', 'info');
                    }
                }
            ]
        }
    ];
    
    const event = events[Math.floor(Math.random() * events.length)];
    this.showChoiceEvent(event);
};

// ==================== –°–û–ë–´–¢–ò–Ø –ï–†–ï–°–ò ====================
Game.generateHeresyEvent = function() {
    const events = [
        {
            title: '–ö—É–ª—å—Ç –•–∞–æ—Å–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω',
            description: '–ò–Ω–∫–≤–∏–∑–∏—Ü–∏—è —Ä–∞—Å–∫—Ä—ã–ª–∞ –∫—Ä—É–ø–Ω—ã–π –∫—É–ª—å—Ç –•–∞–æ—Å–∞ –Ω–∞ –æ–¥–Ω–æ–º –∏–∑ —É–ª—å–µ–≤—ã—Ö –º–∏—Ä–æ–≤.',
            choices: [
                {
                    text: '–ú–∞—Å—Å–æ–≤–∞—è –∑–∞—á–∏—Å—Ç–∫–∞ (1500 –∫—Ä–µ–¥–∏—Ç–æ–≤, -5 –º–ª—Ä–¥ –Ω–∞—Å–µ–ª–µ–Ω–∏—è)',
                    action: () => {
                        if (this.resources.credits >= 1500) {
                            this.resources.credits -= 1500;
                            this.resources.population -= 5;
                            this.warp.level -= 8;
                            this.log('–ö—É–ª—å—Ç –•–∞–æ—Å–∞ –∏—Å–∫–æ—Ä–µ–Ω—ë–Ω.', 'success');
                        } else {
                            this.notify('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫—Ä–µ–¥–∏—Ç–æ–≤!', 'warning');
                        }
                    }
                },
                {
                    text: '–¢–æ—á–µ—á–Ω—ã–µ —É–¥–∞—Ä—ã –ò–Ω–∫–≤–∏–∑–∏—Ü–∏–∏ (500 –∫—Ä–µ–¥–∏—Ç–æ–≤)',
                    action: () => {
                        if (this.resources.credits >= 500) {
                            this.resources.credits -= 500;
                            this.warp.level -= 3;
                            this.log('–õ–∏–¥–µ—Ä—ã –∫—É–ª—å—Ç–∞ —É–Ω–∏—á—Ç–æ–∂–µ–Ω—ã.', 'info');
                        } else {
                            this.notify('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫—Ä–µ–¥–∏—Ç–æ–≤!', 'warning');
                        }
                    }
                },
                {
                    text: '–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å (–∫—É–ª—å—Ç —Ä–∞—Å—Ç—ë—Ç)',
                    action: () => {
                        this.warp.level += 10;
                        this.log('–ö—É–ª—å—Ç –•–∞–æ—Å–∞ –Ω–∞–±–∏—Ä–∞–µ—Ç —Å–∏–ª—É!', 'critical');
                    }
                }
            ]
        },
        {
            title: '–ì—É–±–µ—Ä–Ω–∞—Ç–æ—Ä –æ–±–≤–∏–Ω—ë–Ω –≤ –µ—Ä–µ—Å–∏',
            description: '–ò–Ω–∫–≤–∏–∑–∏—Ü–∏—è –ø—Ä–µ–¥—ä—è–≤–∏–ª–∞ –æ–±–≤–∏–Ω–µ–Ω–∏—è –≤ –µ—Ä–µ—Å–∏ –ø–ª–∞–Ω–µ—Ç–∞—Ä–Ω–æ–º—É –≥—É–±–µ—Ä–Ω–∞—Ç–æ—Ä—É.',
            choices: [
                {
                    text: '–ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –ò–Ω–∫–≤–∏–∑–∏—Ü–∏—é',
                    action: () => {
                        const sector = this.sectors.find(s => s.status !== 'lost');
                        if (sector) {
                            sector.governor = this.generateGovernorName();
                            sector.stability -= 5;
                        }
                        this.warp.level -= 5;
                        this.log('–ï—Ä–µ—Ç–∏–∫-–≥—É–±–µ—Ä–Ω–∞—Ç–æ—Ä –∫–∞–∑–Ω—ë–Ω.', 'success');
                    }
                },
                {
                    text: '–ü–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤',
                    action: () => {
                        if (Math.random() > 0.5) {
                            this.log('–û–±–≤–∏–Ω–µ–Ω–∏—è –æ–∫–∞–∑–∞–ª–∏—Å—å –ª–æ–∂–Ω—ã–º–∏.', 'info');
                        } else {
                            this.warp.level += 5;
                            this.log('–ï—Ä–µ—Å—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞!', 'critical');
                        }
                    }
                }
            ]
        }
    ];
    
    const event = events[Math.floor(Math.random() * events.length)];
    this.showChoiceEvent(event);
};

// ==================== –ö–û–ù–¢–ê–ö–¢ –° –ö–°–ï–ù–û–°–ê–ú–ò ====================
Game.generateXenosContact = function() {
    const events = [
        {
            title: '–ü–æ—Å–ª–∞–Ω–Ω–∏–∫ –≠–ª—å–¥–∞—Ä',
            description: '–¢–∞–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Ñ–∞—Ä—Å–∏—Ä —ç–ª—å–¥–∞—Ä –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–µ—Ç –æ –Ω–∞–¥–≤–∏–≥–∞—é—â–µ–π—Å—è –æ–ø–∞—Å–Ω–æ—Å—Ç–∏.',
            choices: [
                {
                    text: '–í—ã—Å–ª—É—à–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ',
                    action: () => {
                        this.warp.level -= 5;
                        this.log('–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ —ç–ª—å–¥–∞—Ä –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω—ã–º.', 'info');
                    }
                },
                {
                    text: '–ê—Ä–µ—Å—Ç–æ–≤–∞—Ç—å –∫—Å–µ–Ω–æ—Å–∞',
                    action: () => {
                        this.log('–≠–ª—å–¥–∞—Ä –∏—Å—á–µ–∑ –ø—Ä–µ–∂–¥–µ —á–µ–º –µ–≥–æ —Å—Ö–≤–∞—Ç–∏–ª–∏.', 'warning');
                    }
                }
            ]
        },
        {
            title: '–¢–æ—Ä–≥–æ–≤–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –¢–∞—É',
            description: '–ò–º–ø–µ—Ä–∏—è –¢–∞—É –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Ç–æ—Ä–≥–æ–≤–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ.',
            choices: [
                {
                    text: '–û—Ç–∫–∞–∑–∞—Ç—å (–≤–µ—Ä–Ω–æ—Å—Ç—å –ò–º–ø–µ—Ä–∞—Ç–æ—Ä—É)',
                    action: () => {
                        this.log('–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –∫—Å–µ–Ω–æ—Å–æ–≤ –æ—Ç–≤–µ—Ä–≥–Ω—É—Ç–æ.', 'info');
                    }
                },
                {
                    text: '–¢–∞–π–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è (—Ä–∏—Å–∫, –Ω–æ –ø—Ä–∏–±—ã–ª—å)',
                    action: () => {
                        if (Math.random() > 0.3) {
                            this.resources.credits += 3000;
                            this.log('–¢–∞–π–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è —Å –¢–∞—É –ø—Ä–∏–Ω–æ—Å–∏—Ç –ø—Ä–∏–±—ã–ª—å.', 'success');
                        } else {
                            this.warp.level += 5;
                            this.log('–ò–Ω–∫–≤–∏–∑–∏—Ü–∏—è –æ–±–Ω–∞—Ä—É–∂–∏–ª–∞ —Å–¥–µ–ª–∫—É —Å –∫—Å–µ–Ω–æ—Å–∞–º–∏!', 'critical');
                        }
                    }
                }
            ]
        }
    ];
    
    const event = events[Math.floor(Math.random() * events.length)];
    this.showChoiceEvent(event);
};

// ==================== –ü–û–ö–ê–ó–ê–¢–¨ –°–û–ë–´–¢–ò–ï –° –í–´–ë–û–†–û–ú ====================
Game.showChoiceEvent = function(event) {
    this.currentEvent = event;
    
    // –ü–æ–∫–∞–∑–∞—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
    const modal = document.getElementById('modal-choice');
    const title = document.getElementById('choice-title');
    const content = document.getElementById('choice-content');
    const options = document.getElementById('choice-options');
    
    title.textContent = event.title;
    content.innerHTML = `<p style="line-height: 1.8; color: #ccc;">${event.description}</p>`;
    
    options.innerHTML = '';
    event.choices.forEach((choice, index) => {
        const button = document.createElement('button');
        button.className = 'button';
        button.style.flex = '1';
        button.style.minWidth = '200px';
        button.innerHTML = choice.text;
        button.onclick = () => {
            choice.action();
            this.closeModal('choice');
            this.updateUI();
        };
        options.appendChild(button);
    });
    
    modal.style.display = 'flex';
    
    // –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ
    this.log(`‚ö° –°–û–ë–´–¢–ò–ï: ${event.title}`, 'warning');
};

// ==================== –ó–ê–ö–†–´–¢–¨ –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û ====================
Game.closeModal = function(modalType) {
    const modal = document.getElementById(`modal-${modalType}`);
    if (modal) {
        modal.style.display = 'none';
    }
};

// ==================== –ü–û–ö–ê–ó–ê–¢–¨ –î–ï–¢–ê–õ–ò –í–ê–†–ü–ê ====================
Game.showWarpDetails = function() {
    const modal = document.getElementById('modal-info');
    const title = document.getElementById('info-title');
    const content = document.getElementById('info-content');
    
    title.textContent = '–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–∞—Ä–ø–µ';
    
    const warpStatus = this.warp.level < 20 ? '–°–ø–æ–∫–æ–π–Ω–æ' :
                       this.warp.level < 40 ? '–£–º–µ—Ä–µ–Ω–Ω–æ' :
                       this.warp.level < 60 ? '–ü–æ–≤—ã—à–µ–Ω–Ω–æ' :
                       this.warp.level < 80 ? '–í—ã—Å–æ–∫–æ' : '–ö–†–ò–¢–ò–ß–ù–û';
    
    const threatLevel = this.warp.demonThreat < 30 ? '–ù–∏–∑–∫–∞—è' :
                       this.warp.demonThreat < 60 ? '–°—Ä–µ–¥–Ω—è—è' :
                       this.warp.demonThreat < 80 ? '–í—ã—Å–æ–∫–∞—è' : '–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø';
    
    content.innerHTML = `
        <div style="margin-bottom: 20px;">
            <h3 style="color: var(--gold); margin-bottom: 10px;">–°–æ—Å—Ç–æ—è–Ω–∏–µ –≤–∞—Ä–ø–∞</h3>
            <div class="metric">
                <span>–£—Ä–æ–≤–µ–Ω—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:</span>
                <span style="color: ${this.warp.level > 60 ? 'var(--critical-red)' : 'var(--warning-orange)'}">${Math.round(this.warp.level)}% - ${warpStatus}</span>
            </div>
            <div class="metric">
                <span>–í–∞—Ä–ø-—à—Ç–æ—Ä–º–æ–≤:</span>
                <span>${this.warp.storms}</span>
            </div>
            <div class="metric">
                <span>–£–≥—Ä–æ–∑–∞ –¥–µ–º–æ–Ω–æ–≤:</span>
                <span style="color: ${this.warp.demonThreat > 60 ? 'var(--critical-red)' : 'var(--warning-orange)'}">${threatLevel}</span>
            </div>
            <div class="metric">
                <span>–í—Ç–æ—Ä–∂–µ–Ω–∏–π –•–∞–æ—Å–∞:</span>
                <span>${this.warp.chaosIncursions}</span>
            </div>
        </div>
        
        <div style="margin-bottom: 20px;">
            <h3 style="color: var(--gold); margin-bottom: 10px;">–í–ª–∏—è—é—â–∏–µ —Ñ–∞–∫—Ç–æ—Ä—ã</h3>
            <p style="line-height: 1.8; color: #aaa;">
                ‚Ä¢ –°–∏–ª—å–Ω—ã–π –ê—Å—Ç—Ä–æ–Ω–æ–º–∏–∫–æ–Ω –ø–æ–¥–∞–≤–ª—è–µ—Ç –≤–∞—Ä–ø<br>
                ‚Ä¢ –ú–∞—Å—Å–æ–≤—ã–µ –∂–µ—Ä—Ç–≤–æ–ø—Ä–∏–Ω–æ—à–µ–Ω–∏—è —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç –≤–∞—Ä–ø-–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å<br>
                ‚Ä¢ –î–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å –•–∞–æ—Å–∞ —É—Å–∏–ª–∏–≤–∞–µ—Ç –≤–∞—Ä–ø<br>
                ‚Ä¢ –í–∞—Ä–ø-—à—Ç–æ—Ä–º—ã –ø–æ–≤—ã—à–∞—é—Ç —É–≥—Ä–æ–∑—É –¥–µ–º–æ–Ω–æ–≤<br>
                ‚Ä¢ –ü—Ä–∏ –≤—ã—Å–æ–∫–æ–º —É—Ä–æ–≤–Ω–µ –≤–∞—Ä–ø–∞ –≤–æ–∑–º–æ–∂–Ω—ã —Ä–∞–∑–ª–æ–º—ã –∏ –≤—Ç–æ—Ä–∂–µ–Ω–∏—è
            </p>
        </div>
        
        <div>
            <h3 style="color: var(--gold); margin-bottom: 10px;">–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è</h3>
            <p style="line-height: 1.8; color: #aaa;">
                ${this.warp.level < 40 ? '‚Ä¢ –í–∞—Ä–ø —Å–ø–æ–∫–æ–µ–Ω, –Ω–∞–≤–∏–≥–∞—Ü–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–∞' :
                  this.warp.level < 60 ? '‚Ä¢ –í–æ–∑–º–æ–∂–Ω—ã –ø—Å–∏—Ö–∏—á–µ—Å–∫–∏–µ –∞–Ω–æ–º–∞–ª–∏–∏<br>‚Ä¢ –ü—Å–∞–π–∫–µ—Ä—ã –±–æ–ª–µ–µ —É—è–∑–≤–∏–º—ã' :
                  this.warp.level < 80 ? '‚Ä¢ –í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫ –º—É—Ç–∞—Ü–∏–π –ø—Å–∞–π–∫–µ—Ä–æ–≤<br>‚Ä¢ –í–æ–∑–º–æ–∂–Ω—ã –≤–∞—Ä–ø-—à—Ç–æ—Ä–º—ã<br>‚Ä¢ –î–µ–º–æ–Ω—ã –∞–∫—Ç–∏–≤–∏–∑–∏—Ä—É—é—Ç—Å—è' :
                  '‚Ä¢ –ö–†–ò–¢–ò–ß–ù–û! –ú–∞—Å—Å–æ–≤—ã–µ –≤–∞—Ä–ø-—Ä–∞–∑–ª–æ–º—ã!<br>‚Ä¢ –í—Ç–æ—Ä–∂–µ–Ω–∏—è –¥–µ–º–æ–Ω–æ–≤!<br>‚Ä¢ –î–µ–≥—Ä–∞–¥–∞—Ü–∏—è –ó–æ–ª–æ—Ç–æ–≥–æ –¢—Ä–æ–Ω–∞ —É—Å–∫–æ—Ä–µ–Ω–∞!'}
            </p>
        </div>
    `;
    
    modal.style.display = 'flex';
};

// –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ Game

// ==================== –û–°–ù–û–í–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø –û–ë–ù–û–í–õ–ï–ù–ò–Ø UI ====================
Game.updateUI = function() {
    if (!this.running) return;
    
    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
    this.updateResourceDisplay();
    
    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ê—Å—Ç—Ä–æ–Ω–æ–º–∏–∫–æ–Ω–∞
    this.updateAstronomicanDisplay();
    
    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–∞—Ä–ø–∞
    this.updateWarpDisplay();
    
    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
    this.updateStatistics();
    
    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–π –≤–∫–ª–∞–¥–∫–∏
    this.updateActiveTab();
};

// ==================== –û–ë–ù–û–í–õ–ï–ù–ò–ï –†–ï–°–£–†–°–û–í ====================
Game.updateResourceDisplay = function() {
    // –ü—Å–∏—Ö–∏—á–µ—Å–∫–∞—è —ç–Ω–µ—Ä–≥–∏—è
    document.getElementById('res-psychic').textContent = Math.floor(this.resources.psychic);
    const psychicChange = document.getElementById('res-psychic-change');
    psychicChange.textContent = (this.resourceChanges.psychic >= 0 ? '+' : '') + 
                                Math.floor(this.resourceChanges.psychic) + '/–¥–µ–Ω—å';
    psychicChange.className = 'resource-change ' + 
                             (this.resourceChanges.psychic >= 0 ? 'positive' : 'negative');
    
    // –ö—Ä–µ–¥–∏—Ç—ã
    document.getElementById('res-credits').textContent = Math.floor(this.resources.credits);
    const creditsChange = document.getElementById('res-credits-change');
    creditsChange.textContent = (this.resourceChanges.credits >= 0 ? '+' : '') + 
                                Math.floor(this.resourceChanges.credits) + '/–¥–µ–Ω—å';
    creditsChange.className = 'resource-change ' + 
                             (this.resourceChanges.credits >= 0 ? 'positive' : 'negative');
    
    // –ù–∞—Å–µ–ª–µ–Ω–∏–µ
    document.getElementById('res-population').textContent = Math.floor(this.resources.population);
    const popChange = document.getElementById('res-population-change');
    popChange.textContent = (this.resourceChanges.population >= 0 ? '+' : '') + 
                           this.resourceChanges.population.toFixed(1) + '/–¥–µ–Ω—å';
    popChange.className = 'resource-change ' + 
                         (this.resourceChanges.population >= 0 ? 'positive' : 'negative');
    
    // –ê—Ä–º–∏—è
    document.getElementById('res-military').textContent = Math.floor(this.resources.military);
    const milChange = document.getElementById('res-military-change');
    milChange.textContent = (this.resourceChanges.military >= 0 ? '+' : '') + 
                           this.resourceChanges.military.toFixed(1) + '/–¥–µ–Ω—å';
    milChange.className = 'resource-change ' + 
                         (this.resourceChanges.military >= 0 ? 'positive' : 'negative');
    
    // –§–ª–æ—Ç
    document.getElementById('res-fleet').textContent = Math.floor(this.resources.fleet);
    
    // –¢–µ—Ö–Ω–æ–∂—Ä–µ—Ü—ã
    document.getElementById('res-tech').textContent = Math.floor(this.resources.techpriests);
};

// ==================== –û–ë–ù–û–í–õ–ï–ù–ò–ï –ê–°–¢–†–û–ù–û–ú–ò–ö–û–ù–ê ====================
Game.updateAstronomicanDisplay = function() {
    const astro = this.astronomican;
    
    // –°—Ç–∞—Ç—É—Å –¢—Ä–æ–Ω–∞
    const status = document.getElementById('throne-status');
    if (astro.throneCondition > 80) {
        status.textContent = '–°–¢–ê–ë–ò–õ–¨–ù–û';
        status.style.color = 'var(--success-green)';
    } else if (astro.throneCondition > 50) {
        status.textContent = '–£–•–£–î–®–ê–ï–¢–°–Ø';
        status.style.color = 'var(--warning-orange)';
    } else {
        status.textContent = '–ö–†–ò–¢–ò–ß–ù–û';
        status.style.color = 'var(--critical-red)';
    }
    
    // –°–æ—Å—Ç–æ—è–Ω–∏–µ –¢—Ä–æ–Ω–∞
    document.getElementById('throne-condition').textContent = Math.floor(astro.throneCondition) + '%';
    document.getElementById('throne-condition').className = 'metric-value ' + 
        (astro.throneCondition < 50 ? 'critical' : astro.throneCondition < 80 ? 'warning' : '');
    
    // –ú–æ—â–Ω–æ—Å—Ç—å –ê—Å—Ç—Ä–æ–Ω–æ–º–∏–∫–æ–Ω–∞
    const power = Math.max(0, Math.min(100, astro.power));
    document.getElementById('astro-power-pct').textContent = Math.floor(power) + '%';
    document.getElementById('astro-power-fill').style.width = power + '%';
    document.getElementById('astro-power-label').textContent = Math.floor(power) + '%';
    
    const powerFill = document.getElementById('astro-power-fill');
    powerFill.className = 'progress-fill';
    if (power < 30) powerFill.classList.add('critical');
    else if (power < 60) powerFill.classList.add('warning');
    
    // –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å
    const stability = Math.max(0, Math.min(100, astro.stability));
    document.getElementById('stability-pct').textContent = Math.floor(stability) + '%';
    document.getElementById('stability-fill').style.width = stability + '%';
    document.getElementById('stability-label').textContent = Math.floor(stability) + '%';
    
    const stabilityFill = document.getElementById('stability-fill');
    stabilityFill.className = 'progress-fill';
    if (stability < 30) stabilityFill.classList.add('critical');
    else if (stability < 60) stabilityFill.classList.add('warning');
    
    // –°–∫–æ—Ä–æ—Å—Ç—å –∂–µ—Ä—Ç–≤–æ–ø—Ä–∏–Ω–æ—à–µ–Ω–∏–π
    document.getElementById('sacrifice-rate').textContent = astro.sacrificeRate + '/–¥–µ–Ω—å';
    
    // –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
    document.getElementById('sacrifice-efficiency').textContent = Math.floor(astro.efficiency) + '%';
};

// ==================== –û–ë–ù–û–í–õ–ï–ù–ò–ï –í–ê–†–ü–ê ====================
Game.updateWarpDisplay = function() {
    const warp = this.warp;
    const level = Math.max(0, Math.min(100, warp.level));
    
    // –£—Ä–æ–≤–µ–Ω—å –≤–∞—Ä–ø–∞
    document.getElementById('warp-level-pct').textContent = Math.floor(level) + '%';
    document.getElementById('warp-level-fill').style.width = level + '%';
    
    const warpLabel = document.getElementById('warp-level-label');
    if (level < 20) {
        warpLabel.textContent = '–°–ø–æ–∫–æ–π–Ω–æ';
    } else if (level < 40) {
        warpLabel.textContent = '–£–º–µ—Ä–µ–Ω–Ω–æ';
    } else if (level < 60) {
        warpLabel.textContent = '–ü–æ–≤—ã—à–µ–Ω–æ';
    } else if (level < 80) {
        warpLabel.textContent = '–í—ã—Å–æ–∫–æ';
    } else {
        warpLabel.textContent = '–ö–†–ò–¢–ò–ß–ù–û!';
    }
    
    const warpFill = document.getElementById('warp-level-fill');
    warpFill.className = 'progress-fill';
    if (level > 60) warpFill.classList.add('critical');
    else if (level > 40) warpFill.classList.add('warning');
    
    // –£–≥—Ä–æ–∑–∞ –¥–µ–º–æ–Ω–æ–≤
    const threatLevel = warp.demonThreat < 30 ? '–ù–∏–∑–∫–∞—è' :
                       warp.demonThreat < 60 ? '–°—Ä–µ–¥–Ω—è—è' :
                       warp.demonThreat < 80 ? '–í—ã—Å–æ–∫–∞—è' : '–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø';
    document.getElementById('demon-threat').textContent = threatLevel;
    document.getElementById('demon-threat').className = 'metric-value ' +
        (warp.demonThreat > 60 ? 'critical' : warp.demonThreat > 30 ? 'warning' : '');
    
    // –í–∞—Ä–ø-—à—Ç–æ—Ä–º—ã
    document.getElementById('warp-storms').textContent = warp.storms;
};

// ==================== –û–ë–ù–û–í–õ–ï–ù–ò–ï –°–¢–ê–¢–ò–°–¢–ò–ö–ò ====================
Game.updateStatistics = function() {
    document.getElementById('stat-day').textContent = this.day;
    document.getElementById('stat-sacrifices').textContent = Math.floor(this.stats.totalSacrifices);
    
    const controlledSectors = this.sectors.filter(s => s.status !== 'lost').length;
    document.getElementById('stat-sectors').textContent = controlledSectors;
    
    const lostSectors = this.sectors.filter(s => s.status === 'lost').length;
    document.getElementById('stat-lost-worlds').textContent = lostSectors;
    
    document.getElementById('stat-enemies-killed').textContent = this.stats.enemiesKilled;
    document.getElementById('stat-missions').textContent = this.stats.missionsCompleted;
    
    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á—ë—Ç—á–∏–∫–æ–≤ —Å–µ–∫—Ç–æ—Ä–æ–≤
    document.getElementById('sectors-safe').textContent = 
        this.sectors.filter(s => s.status === 'safe').length;
    document.getElementById('sectors-threatened').textContent = 
        this.sectors.filter(s => s.status === 'threatened').length;
    document.getElementById('sectors-war').textContent = 
        this.sectors.filter(s => s.status === 'war').length;
    document.getElementById('sectors-lost').textContent = lostSectors;
    
    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–æ–µ–Ω–Ω—ã—Ö —Å–∏–ª
    document.getElementById('military-guardsmen').textContent = 
        Math.floor(this.resources.military) + 'M';
    document.getElementById('military-fleet').textContent = 
        Math.floor(this.resources.fleet);
};

// ==================== –û–ë–ù–û–í–õ–ï–ù–ò–ï –ê–ö–¢–ò–í–ù–û–ô –í–ö–õ–ê–î–ö–ò ====================
Game.updateActiveTab = function() {
    const activeTab = document.querySelector('.tab-content.active');
    if (!activeTab) return;
    
    const tabId = activeTab.id.replace('tab-', '');
    
    // –û–±–Ω–æ–≤–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
    // –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –≤–∫–ª–∞–¥–æ–∫ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏
};

// ==================== –†–ï–ù–î–ï–†–ò–ù–ì –°–ï–ö–¢–û–†–û–í ====================
Game.renderSectors = function() {
    const container = document.getElementById('sectors-grid');
    container.innerHTML = '';
    
    this.sectors.forEach(sector => {
        const card = document.createElement('div');
        card.className = 'card';
        
        const statusColors = {
            safe: 'var(--success-green)',
            threatened: 'var(--warning-orange)',
            war: 'var(--critical-red)',
            lost: '#666'
        };
        
        const statusText = {
            safe: '–ë–µ–∑–æ–ø–∞—Å–Ω–æ',
            threatened: '–ü–æ–¥ —É–≥—Ä–æ–∑–æ–π',
            war: '–í–æ–π–Ω–∞',
            lost: '–ü–æ—Ç–µ—Ä—è–Ω'
        };
        
        const threatText = sector.threat ? 
            `<div style="color: ${statusColors[sector.status]}; font-size: 0.85em; margin-top: 5px;">
                –£–≥—Ä–æ–∑–∞: ${this.getEnemyName(sector.threat)}
            </div>` : '';
        
        card.innerHTML = `
            <div class="card-header">
                <div class="card-title">${sector.name}</div>
                <div class="card-level" style="background: ${statusColors[sector.status]}; color: #fff;">
                    ${statusText[sector.status]}
                </div>
            </div>
            <div class="card-desc">
                –ì—É–±–µ—Ä–Ω–∞—Ç–æ—Ä: ${sector.governor}<br>
                –ù–∞—Å–µ–ª–µ–Ω–∏–µ: ${sector.population} –º–ª—Ä–¥<br>
                –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ: ${sector.production}<br>
                –ê—Ä–º–∏—è: ${sector.military} –º–ª–Ω
            </div>
            ${threatText}
            <div style="margin-top: 10px;">
                <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                    <span style="font-size: 0.85em; color: #888;">–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å</span>
                    <span style="font-size: 0.85em; color: var(--gold);">${Math.floor(sector.stability)}%</span>
                </div>
                <div class="progress-bar" style="height: 8px;">
                    <div class="progress-fill ${sector.stability < 30 ? 'critical' : sector.stability < 60 ? 'warning' : ''}" 
                         style="width: ${sector.stability}%"></div>
                </div>
            </div>
            ${sector.status !== 'lost' ? `
                <div class="card-footer" style="margin-top: 15px;">
                    <button class="button" style="width: 100%; padding: 8px; font-size: 0.85em;" 
                            onclick="Game.manageSector(${sector.id})">
                        –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
                    </button>
                </div>
            ` : ''}
        `;
        
        container.appendChild(card);
    });
};

// ==================== –†–ï–ù–î–ï–†–ò–ù–ì –ü–ï–†–°–û–ù–ê–õ–ê ====================
Game.renderPersonnel = function(category) {
    const container = document.getElementById('personnel-grid');
    container.innerHTML = '';
    
    const personnel = this.personnel[category] || [];
    
    if (personnel.length === 0) {
        container.innerHTML = `
            <div style="grid-column: 1/-1; text-align: center; padding: 40px; color: #666;">
                –ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞ –≤ —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
            </div>
        `;
        return;
    }
    
    personnel.forEach(person => {
        const card = document.createElement('div');
        card.className = 'card';
        
        const statusColors = {
            available: 'var(--success-green)',
            deployed: 'var(--warning-orange)',
            injured: 'var(--critical-red)',
            deceased: '#666'
        };
        
        let details = '';
        
        if (category === 'inquisitors') {
            details = `
                <div class="card-stats">
                    <div class="card-stat">–û—Ä–¥–µ–Ω: <span class="card-stat-value">${person.ordo}</span></div>
                    <div class="card-stat">–£—Ä–æ–≤–µ–Ω—å: <span class="card-stat-value">${person.level}</span></div>
                    <div class="card-stat">–ú–∏—Å—Å–∏–π: <span class="card-stat-value">${person.missions || 0}</span></div>
                    <div class="card-stat">–£–±–∏–π—Å—Ç–≤: <span class="card-stat-value">${person.kills || 0}</span></div>
                </div>
                ${person.traits ? `<div style="font-size: 0.8em; color: #888; margin-top: 10px;">
                    –ß–µ—Ä—Ç—ã: ${person.traits.join(', ')}
                </div>` : ''}
            `;
        } else if (category === 'techpriests') {
            details = `
                <div class="card-stats">
                    <div class="card-stat">–†–∞–Ω–≥: <span class="card-stat-value">${person.rank}</span></div>
                    <div class="card-stat">–£—Ä–æ–≤–µ–Ω—å: <span class="card-stat-value">${person.level}</span></div>
                    <div class="card-stat">–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è: <span class="card-stat-value">${person.specialty}</span></div>
                </div>
                ${person.bonus ? `<div style="font-size: 0.8em; color: var(--gold); margin-top: 10px;">
                    –ë–æ–Ω—É—Å—ã: ${Object.entries(person.bonus).map(([k,v]) => `${k} +${v}%`).join(', ')}
                </div>` : ''}
            `;
        } else if (category === 'generals') {
            details = `
                <div class="card-stats">
                    <div class="card-stat">–†–∞–Ω–≥: <span class="card-stat-value">${person.rank}</span></div>
                    <div class="card-stat">–£—Ä–æ–≤–µ–Ω—å: <span class="card-stat-value">${person.level}</span></div>
                    <div class="card-stat">–ö–∞–º–ø–∞–Ω–∏–π: <span class="card-stat-value">${person.campaigns}</span></div>
                    <div class="card-stat">–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è: <span class="card-stat-value">${person.specialty}</span></div>
                </div>
            `;
        } else {
            details = `
                <div class="card-stats">
                    <div class="card-stat">–£—Ä–æ–≤–µ–Ω—å: <span class="card-stat-value">${person.level || 'N/A'}</span></div>
                    ${person.specialty ? `<div class="card-stat">–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è: <span class="card-stat-value">${person.specialty}</span></div>` : ''}
                </div>
            `;
        }
        
        card.innerHTML = `
            <div class="card-header">
                <div class="card-title">${person.name}</div>
                <div class="card-level" style="background: ${statusColors[person.status] || statusColors.available};">
                    ${person.status || 'available'}
                </div>
            </div>
            ${details}
        `;
        
        container.appendChild(card);
    });
};

Game.showPersonnelCategory = function(category) {
    this.renderPersonnel(category);
};

// ==================== –†–ï–ù–î–ï–†–ò–ù–ì –ò–°–°–õ–ï–î–û–í–ê–ù–ò–ô ====================
Game.renderResearch = function(category) {
    const container = document.getElementById('research-grid');
    container.innerHTML = '';
    
    const researches = this.researchDatabase[category] || [];
    
    researches.forEach(research => {
        const isCompleted = this.research.completed.includes(research.id);
        const isCurrent = this.research.current && this.research.current.id === research.id;
        const canStart = research.unlocked && !isCompleted && !this.research.current;
        
        const card = document.createElement('div');
        card.className = 'card' + (research.unlocked ? '' : ' locked');
        
        card.innerHTML = `
            <div class="card-header">
                <div class="card-title">${research.name}</div>
                ${isCompleted ? '<div class="card-level" style="background: var(--success-green);">‚úì</div>' : ''}
                ${isCurrent ? '<div class="card-level" style="background: var(--tech-blue);">–í –ø—Ä–æ—Ü–µ—Å—Å–µ</div>' : ''}
            </div>
            <div class="card-desc">${research.description}</div>
            <div class="card-stats">
                <div class="card-stat">–°—Ç–æ–∏–º–æ—Å—Ç—å: <span class="card-stat-value">${research.cost} –∫—Ä–µ–¥–∏—Ç–æ–≤</span></div>
                <div class="card-stat">–í—Ä–µ–º—è: <span class="card-stat-value">${research.time} –¥–Ω–µ–π</span></div>
            </div>
            ${research.requirements.length > 0 ? `
                <div style="font-size: 0.8em; color: #888; margin-top: 10px;">
                    –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è: ${research.requirements.map(r => {
                        const req = Object.values(this.researchDatabase).flat().find(res => res.id === r);
                        return req ? req.name : r;
                    }).join(', ')}
                </div>
            ` : ''}
            ${isCurrent ? `
                <div style="margin-top: 15px;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                        <span style="font-size: 0.85em;">–ü—Ä–æ–≥—Ä–µ—Å—Å</span>
                        <span style="font-size: 0.85em; color: var(--gold);">${Math.floor(this.research.progress)}%</span>
                    </div>
                    <div class="progress-bar" style="height: 12px;">
                        <div class="progress-fill" style="width: ${this.research.progress}%"></div>
                    </div>
                </div>
            ` : ''}
            ${canStart ? `
                <button class="button success" style="width: 100%; margin-top: 15px;" 
                        onclick="Game.startResearch('${research.id}', '${category}')">
                    –ù–∞—á–∞—Ç—å –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ
                </button>
            ` : ''}
            ${!research.unlocked ? `
                <div style="text-align: center; padding: 10px; color: #666; margin-top: 15px;">
                    üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ
                </div>
            ` : ''}
        `;
        
        container.appendChild(card);
    });
};

Game.showResearchCategory = function(category) {
    this.renderResearch(category);
};

Game.startResearch = function(researchId, category) {
    const research = this.researchDatabase[category].find(r => r.id === researchId);
    
    if (!research) return;
    
    if (this.resources.credits < research.cost) {
        this.notify('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫—Ä–µ–¥–∏—Ç–æ–≤!', 'warning');
        return;
    }
    
    this.resources.credits -= research.cost;
    this.research.current = research;
    this.research.progress = 0;
    
    this.log(`–ù–∞—á–∞—Ç–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ: ${research.name}`, 'info');
    this.notify('–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –Ω–∞—á–∞—Ç–æ!', 'success');
    
    this.renderResearch(category);
    this.updateUI();
};

// ==================== –†–ï–ù–î–ï–†–ò–ù–ì –í–û–ï–ù–ù–´–• –°–ò–õ ====================
Game.renderMilitary = function() {
    const container = document.getElementById('military-recruitment-grid');
    container.innerHTML = '';
    
    const recruitmentOptions = [
        {
            name: '–ì–≤–∞—Ä–¥–µ–π—Å–∫–∏–π –ø–æ–ª–∫',
            cost: 1000,
            type: 'military',
            amount: 5,
            description: '–ù–∞–±—Ä–∞—Ç—å –∏ –æ–±—É—á–∏—Ç—å 5 –º–ª–Ω –≥–≤–∞—Ä–¥–µ–π—Ü–µ–≤',
            icon: '‚öîÔ∏è'
        },
        {
            name: '–≠—Å–∫–∞–¥—Ä–∏–ª—å—è –∫–æ—Ä–∞–±–ª–µ–π',
            cost: 3000,
            type: 'fleet',
            amount: 3,
            description: '3 –Ω–æ–≤—ã—Ö –∫–æ—Ä–∞–±–ª—è –¥–ª—è –ò–º–ø–µ—Ä—Å–∫–æ–≥–æ —Ñ–ª–æ—Ç–∞',
            icon: 'üöÄ'
        },
        {
            name: '–ö–æ—Å–º–æ–¥–µ—Å–∞–Ω—Ç–Ω–∏–∫–∏',
            cost: 5000,
            type: 'spacemarines',
            amount: 100,
            description: '–ó–∞–ø—Ä–æ—Å–∏—Ç—å 100 –∫–æ—Å–º–æ–¥–µ—Å–∞–Ω—Ç–Ω–∏–∫–æ–≤',
            icon: 'üõ°Ô∏è'
        },
        {
            name: '–¢–∏—Ç–∞–Ω-–ª–µ–≥–∏–æ–Ω',
            cost: 10000,
            type: 'titans',
            amount: 1,
            description: '–ó–∞–∫–∞–∑–∞—Ç—å –±–æ–µ–≤–æ–≥–æ —Ç–∏—Ç–∞–Ω–∞',
            icon: 'ü§ñ'
        }
    ];
    
    recruitmentOptions.forEach(option => {
        const card = document.createElement('div');
        card.className = 'card';
        
        card.innerHTML = `
            <div class="card-header">
                <div class="card-title">${option.icon} ${option.name}</div>
            </div>
            <div class="card-desc">${option.description}</div>
            <div class="card-cost">–°—Ç–æ–∏–º–æ—Å—Ç—å: ${option.cost} –∫—Ä–µ–¥–∏—Ç–æ–≤</div>
            <button class="button" style="width: 100%; margin-top: 15px;" 
                    onclick="Game.recruitMilitary('${option.type}', ${option.amount}, ${option.cost})">
                –ü—Ä–æ–∏–∑–≤–µ—Å—Ç–∏
            </button>
        `;
        
        container.appendChild(card);
    });
};

Game.recruitMilitary = function(type, amount, cost) {
    if (this.resources.credits < cost) {
        this.notify('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫—Ä–µ–¥–∏—Ç–æ–≤!', 'warning');
        return;
    }
    
    this.resources.credits -= cost;
    
    switch(type) {
        case 'military':
            this.resources.military += amount;
            this.log(`–ù–∞–±—Ä–∞–Ω–æ ${amount} –º–ª–Ω –≥–≤–∞—Ä–¥–µ–π—Ü–µ–≤.`, 'success');
            break;
        case 'fleet':
            this.resources.fleet += amount;
            this.log(`–ü–æ—Å—Ç—Ä–æ–µ–Ω–æ ${amount} –∫–æ—Ä–∞–±–ª–µ–π —Ñ–ª–æ—Ç–∞.`, 'success');
            break;
        case 'spacemarines':
        case 'titans':
            this.log(`–ó–∞–∫–∞–∑ —Ä–∞–∑–º–µ—â—ë–Ω.`, 'success');
            break;
    }
    
    this.notify('–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!', 'success');
    this.updateUI();
};

// ==================== –†–ï–ù–î–ï–†–ò–ù–ì –í–†–ê–ì–û–í ====================
Game.renderEnemies = function() {
    const container = document.getElementById('enemies-grid');
    container.innerHTML = '';
    
    const enemyData = {
        chaos: { name: '–°–∏–ª—ã –•–∞–æ—Å–∞', icon: '‚ò†Ô∏è', color: 'var(--chaos-red)' },
        tyranids: { name: '–¢–∏—Ä–∞–Ω–∏–¥—ã', icon: 'üëæ', color: 'var(--tyranid-purple)' },
        necrons: { name: '–ù–µ–∫—Ä–æ–Ω—ã', icon: 'üíÄ', color: 'var(--necron-green)' },
        orks: { name: '–û—Ä–∫–∏', icon: 'üëπ', color: 'var(--ork-green)' },
        tau: { name: '–ò–º–ø–µ—Ä–∏—è –¢–∞—É', icon: 'üî∑', color: 'var(--tau-cyan)' },
        eldar: { name: '–≠–ª—å–¥–∞—Ä', icon: '‚ú®', color: 'var(--eldar-blue)' }
    };
    
    Object.entries(this.enemies).forEach(([type, enemy]) => {
        const data = enemyData[type];
        const card = document.createElement('div');
        card.className = 'card';
        
        card.innerHTML = `
            <div class="card-header">
                <div class="card-title" style="color: ${data.color};">${data.icon} ${data.name}</div>
            </div>
            <div class="card-stats">
                <div class="card-stat">–°–∏–ª–∞: <span class="card-stat-value">${enemy.strength}</span></div>
                <div class="card-stat">–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: <span class="card-stat-value">${enemy.activity}%</span></div>
                <div class="card-stat">–°–µ–∫—Ç–æ—Ä–æ–≤: <span class="card-stat-value">${enemy.sectors.length}</span></div>
            </div>
            <div style="margin-top: 15px;">
                <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                    <span style="font-size: 0.85em;">–£–≥—Ä–æ–∑–∞</span>
                    <span style="font-size: 0.85em; color: ${data.color};">${enemy.activity}%</span>
                </div>
                <div class="progress-bar" style="height: 10px;">
                    <div class="progress-fill" style="width: ${enemy.activity}%; background: ${data.color};"></div>
                </div>
            </div>
        `;
        
        container.appendChild(card);
    });
    
    // –ê–∫—Ç–∏–≤–Ω—ã–µ —É–≥—Ä–æ–∑—ã
    const threatsContainer = document.getElementById('active-threats-container');
    threatsContainer.innerHTML = '';
    
    const threatenedSectors = this.sectors.filter(s => s.status === 'war' || s.status === 'threatened');
    
    if (threatenedSectors.length === 0) {
        threatsContainer.innerHTML = `
            <div style="text-align: center; padding: 40px; color: #666;">
                –ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö —É–≥—Ä–æ–∑
            </div>
        `;
    } else {
        threatenedSectors.forEach(sector => {
            const threat = document.createElement('div');
            threat.className = 'card';
            threat.style.borderLeft = `4px solid ${sector.status === 'war' ? 'var(--critical-red)' : 'var(--warning-orange)'}`;
            
            threat.innerHTML = `
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <div style="font-weight: 700; color: var(--gold);">${sector.name}</div>
                        <div style="font-size: 0.85em; color: #888; margin-top: 5px;">
                            ${sector.threat ? this.getEnemyName(sector.threat) : '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è —É–≥—Ä–æ–∑–∞'}
                        </div>
                    </div>
                    <div style="text-align: right;">
                        <div style="color: ${sector.status === 'war' ? 'var(--critical-red)' : 'var(--warning-orange)'}; font-weight: 700;">
                            ${sector.status === 'war' ? '–í–û–ô–ù–ê' : '–£–ì–†–û–ó–ê'}
                        </div>
                        <div style="font-size: 0.85em; color: #666;">
                            –°—Ç–∞–±.: ${Math.floor(sector.stability)}%
                        </div>
                    </div>
                </div>
            `;
            
            threatsContainer.appendChild(threat);
        });
    }
};

// ==================== –†–ï–ù–î–ï–†–ò–ù–ì –£–õ–£–ß–®–ï–ù–ò–ô ====================
Game.renderUpgrades = function(category) {
    const container = document.getElementById('upgrades-grid');
    container.innerHTML = '';
    
    const upgrades = this.upgradesDatabase[category] || [];
    
    upgrades.forEach(upgrade => {
        const currentLevel = this.upgrades[upgrade.id]?.level || 0;
        const canUpgrade = currentLevel < upgrade.maxLevel;
        const cost = upgrade.cost * (currentLevel + 1);
        
        const card = document.createElement('div');
        card.className = 'card';
        
        card.innerHTML = `
            <div class="card-header">
                <div class="card-title">${upgrade.name}</div>
                <div class="card-level">–£—Ä. ${currentLevel}/${upgrade.maxLevel}</div>
            </div>
            <div class="card-desc">${upgrade.description}</div>
            <div class="card-stats">
                <div class="card-stat">
                    –≠—Ñ—Ñ–µ–∫—Ç: 
                    <span class="card-stat-value">
                        ${Object.entries(upgrade.effect).map(([k,v]) => `${k} ${v > 0 ? '+' : ''}${v}`).join(', ')}
                    </span>
                </div>
            </div>
            ${currentLevel > 0 ? `
                <div style="margin-top: 10px; padding: 10px; background: rgba(0,255,0,0.1); border-left: 3px solid var(--success-green);">
                    <div style="font-size: 0.85em; color: var(--success-green);">
                        –¢–µ–∫—É—â–∏–π –±–æ–Ω—É—Å: ${Object.entries(upgrade.effect).map(([k,v]) => `${k} ${v > 0 ? '+' : ''}${v * currentLevel}`).join(', ')}
                    </div>
                </div>
            ` : ''}
            ${canUpgrade ? `
                <div class="card-cost">–°—Ç–æ–∏–º–æ—Å—Ç—å —É–ª—É—á—à–µ–Ω–∏—è: ${cost} –∫—Ä–µ–¥–∏—Ç–æ–≤</div>
                <button class="button success" style="width: 100%; margin-top: 15px;" 
                        onclick="Game.purchaseUpgrade('${upgrade.id}', ${cost})">
                    –£–ª—É—á—à–∏—Ç—å
                </button>
            ` : `
                <div style="text-align: center; padding: 15px; color: var(--gold); background: rgba(212,175,55,0.1); margin-top: 15px; border-radius: 4px;">
                    ‚úì –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å
                </div>
            `}
        `;
        
        container.appendChild(card);
    });
};

Game.showUpgradeCategory = function(category) {
    this.renderUpgrades(category);
};

Game.purchaseUpgrade = function(upgradeId, cost) {
    if (this.resources.credits < cost) {
        this.notify('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫—Ä–µ–¥–∏—Ç–æ–≤!', 'warning');
        return;
    }
    
    this.resources.credits -= cost;
    
    if (!this.upgrades[upgradeId]) {
        this.upgrades[upgradeId] = { level: 0, active: false };
    }
    
    this.upgrades[upgradeId].level++;
    this.upgrades[upgradeId].active = true;
    
    // –ü—Ä–∏–º–µ–Ω–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç—ã —É–ª—É—á—à–µ–Ω–∏—è
    const upgrade = Object.values(this.upgradesDatabase)
        .flat()
        .find(u => u.id === upgradeId);
    
    if (upgrade && upgrade.effect) {
        Object.entries(upgrade.effect).forEach(([effect, value]) => {
            this.applyUpgradeEffect(effect, value);
        });
    }
    
    this.log(`–£–ª—É—á—à–µ–Ω–∏–µ "${upgrade.name}" –ø—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–æ!`, 'success');
    this.notify('–£–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–æ!', 'success');
    
    // –ü–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é
    const currentCategory = upgrade.category;
    this.renderUpgrades(currentCategory);
    this.updateUI();
};

Game.applyUpgradeEffect = function(effect, value) {
    switch(effect) {
        case 'throneDegradation':
            // –≠—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –≤ updateAstronomican
            break;
        case 'throneStability':
            this.astronomican.stability += value;
            break;
        case 'astronomicPower':
            this.astronomican.power += value;
            break;
        case 'sacrificeEfficiency':
            this.astronomican.efficiency += value;
            break;
        case 'income':
            this.resourceChanges.credits += value;
            break;
        // ... –¥—Ä—É–≥–∏–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
    }
};

// ==================== –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò ====================

Game.getEnemyName = function(type) {
    const names = {
        chaos: '–°–∏–ª—ã –•–∞–æ—Å–∞',
        tyranids: '–¢–∏—Ä–∞–Ω–∏–¥—ã',
        necrons: '–ù–µ–∫—Ä–æ–Ω—ã',
        orks: '–û—Ä–∫–∏',
        tau: '–ò–º–ø–µ—Ä–∏—è –¢–∞—É',
        eldar: '–≠–ª—å–¥–∞—Ä'
    };
    return names[type] || type;
};

Game.manageSector = function(sectorId) {
    const sector = this.sectors.find(s => s.id === sectorId);
    if (!sector) return;
    
    // –ü–æ–∫–∞–∑–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ–∫—Ç–æ—Ä–æ–º
    this.showSectorDetails(sector);
};

Game.showSectorDetails = function(sector) {
    const modal = document.getElementById('modal-info');
    const title = document.getElementById('info-title');
    const content = document.getElementById('info-content');
    
    title.textContent = sector.name;
    
    const statusText = {
        safe: '–ë–µ–∑–æ–ø–∞—Å–Ω–æ',
        threatened: '–ü–æ–¥ —É–≥—Ä–æ–∑–æ–π',
        war: '–°–æ—Å—Ç–æ—è–Ω–∏–µ –≤–æ–π–Ω—ã',
        lost: '–ü–æ—Ç–µ—Ä—è–Ω'
    };
    
    content.innerHTML = `
        <div class="stats-grid">
            <div class="stat-box">
                <span class="stat-label">–°—Ç–∞—Ç—É—Å</span>
                <span class="stat-number" style="font-size: 1.5em;">${statusText[sector.status]}</span>
            </div>
            <div class="stat-box">
                <span class="stat-label">–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å</span>
                <span class="stat-number" style="font-size: 1.5em;">${Math.floor(sector.stability)}%</span>
            </div>
            <div class="stat-box">
                <span class="stat-label">–ù–∞—Å–µ–ª–µ–Ω–∏–µ</span>
                <span class="stat-number" style="font-size: 1.5em;">${sector.population}B</span>
            </div>
        </div>
        
        <div style="margin: 20px 0;">
            <div class="metric">
                <span>–ì—É–±–µ—Ä–Ω–∞—Ç–æ—Ä:</span>
                <span style="color: var(--gold);">${sector.governor}</span>
            </div>
            <div class="metric">
                <span>–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ:</span>
                <span style="color: var(--gold);">${sector.production}</span>
            </div>
            <div class="metric">
                <span>–í–æ–µ–Ω–Ω—ã–µ —Å–∏–ª—ã:</span>
                <span style="color: var(--gold);">${sector.military} –º–ª–Ω</span>
            </div>
            ${sector.threat ? `
                <div class="metric">
                    <span>–£–≥—Ä–æ–∑–∞:</span>
                    <span style="color: var(--critical-red);">${this.getEnemyName(sector.threat)}</span>
                </div>
            ` : ''}
        </div>
        
        ${sector.status !== 'lost' ? `
            <div class="button-group">
                <button class="button" onclick="Game.reinforceSector(${sector.id}); Game.closeModal('info');">
                    –£—Å–∏–ª–∏—Ç—å –æ–±–æ—Ä–æ–Ω—É (1000 –∫—Ä–µ–¥–∏—Ç–æ–≤)
                </button>
                <button class="button" onclick="Game.stabilizeSectorDirect(${sector.id}); Game.closeModal('info');">
                    –°—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å (500 –∫—Ä–µ–¥–∏—Ç–æ–≤)
                </button>
            </div>
        ` : ''}
    `;
    
    modal.style.display = 'flex';
};

Game.reinforceSector = function(sectorId) {
    const sector = this.sectors.find(s => s.id === sectorId);
    if (!sector || this.resources.credits < 1000) {
        this.notify('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫—Ä–µ–¥–∏—Ç–æ–≤!', 'warning');
        return;
    }
    
    this.resources.credits -= 1000;
    sector.military += 5;
    sector.stability += 10;
    
    this.log(`–°–µ–∫—Ç–æ—Ä ${sector.name} —É—Å–∏–ª–µ–Ω.`, 'success');
    this.updateUI();
};

Game.stabilizeSectorDirect = function(sectorId) {
    const sector = this.sectors.find(s => s.id === sectorId);
    if (!sector || this.resources.credits < 500) {
        this.notify('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫—Ä–µ–¥–∏—Ç–æ–≤!', 'warning');
        return;
    }
    
    this.resources.credits -= 500;
    sector.stability += 20;
    
    if (sector.stability > 70 && sector.status === 'threatened') {
        sector.status = 'safe';
    }
    
    this.log(`–°–µ–∫—Ç–æ—Ä ${sector.name} —Å—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞–Ω.`, 'success');
    this.updateUI();
};

// –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ Game

// ==================== –õ–û–ì–ò–†–û–í–ê–ù–ò–ï ====================
Game.log = function(message, type = 'info') {
    const logContainer = document.getElementById('event-log');
    if (!logContainer) return;
    
    const entry = document.createElement('div');
    entry.className = `event-entry ${type}`;
    
    const timestamp = `[${String(this.day).padStart(4, '0')}.M41]`;
    
    entry.innerHTML = `
        <span class="event-timestamp">${timestamp}</span>
        <span>${message}</span>
    `;
    
    // –í—Å—Ç–∞–≤–∏—Ç—å –≤ –Ω–∞—á–∞–ª–æ –ª–æ–≥–∞
    logContainer.insertBefore(entry, logContainer.firstChild);
    
    // –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π
    while (logContainer.children.length > 150) {
        logContainer.removeChild(logContainer.lastChild);
    }
};

Game.clearLog = function() {
    const logContainer = document.getElementById('event-log');
    if (logContainer) {
        logContainer.innerHTML = '';
        this.log('–õ–æ–≥ —Å–æ–±—ã—Ç–∏–π –æ—á–∏—â–µ–Ω.', 'info');
    }
};

// ==================== –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø ====================
Game.notify = function(message, type = 'info') {
    const container = document.getElementById('notification-container');
    if (!container) return;
    
    const notification = document.createElement('div');
    notification.className = `notification ${type}`;
    
    notification.innerHTML = `
        <button class="notification-close" onclick="this.parentElement.remove()">√ó</button>
        <div style="padding: 5px 10px;">${message}</div>
    `;
    
    container.appendChild(notification);
    
    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª–∏—Ç—å —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
    setTimeout(() => {
        if (notification.parentNode) {
            notification.remove();
        }
    }, 5000);
};

// ==================== –ù–ê–°–¢–†–û–ô–ö–ê UI ====================
Game.setupUI = function() {
    console.log('‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞...');
    
    // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–∞—á–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∫–Ω–æ–ø–æ–∫
    document.getElementById('btn-sacrifice-normal').classList.add('active');
    
    // –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –Ω–∞—á–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
    this.renderSectors();
    this.renderAchievements();
    
    console.log('‚úÖ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω');
};

// ==================== –°–û–ó–î–ê–ù–ò–ï –ß–ê–°–¢–ò–¶ ====================
Game.createParticles = function() {
    const display = document.getElementById('astro-display');
    if (!display) return;
    
    const createParticle = () => {
        if (!this.running || !this.settings.particlesEnabled) return;
        
        const particle = document.createElement('div');
        particle.className = 'particle';
        
        // –°–ª—É—á–∞–π–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
        const angle = Math.random() * Math.PI * 2;
        const distance = 100 + Math.random() * 150;
        const tx = Math.cos(angle) * distance;
        const ty = Math.sin(angle) * distance;
        const duration = 2 + Math.random() * 2;
        
        particle.style.left = '50%';
        particle.style.top = '50%';
        particle.style.setProperty('--tx', tx + 'px');
        particle.style.setProperty('--ty', ty + 'px');
        particle.style.animation = `particleFloat ${duration}s linear`;
        
        display.appendChild(particle);
        
        // –£–¥–∞–ª–∏—Ç—å –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏
        setTimeout(() => {
            if (particle.parentNode) {
                particle.remove();
            }
        }, duration * 1000);
    };
    
    // –°–æ–∑–¥–∞–≤–∞—Ç—å —á–∞—Å—Ç–∏—Ü—ã –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏
    setInterval(() => {
        if (this.running && this.settings.particlesEnabled) {
            for (let i = 0; i < 3; i++) {
                setTimeout(() => createParticle(), i * 200);
            }
        }
    }, 1000);
};

// ==================== –°–û–•–†–ê–ù–ï–ù–ò–ï –ò–ì–†–´ ====================
Game.save = function() {
    try {
        const saveData = {
            version: this.version,
            day: this.day,
            hour: this.hour,
            
            resources: { ...this.resources },
            resourceChanges: { ...this.resourceChanges },
            
            astronomican: { ...this.astronomican },
            warp: {
                level: this.warp.level,
                storms: this.warp.storms,
                demonThreat: this.warp.demonThreat,
                chaosIncursions: this.warp.chaosIncursions
            },
            
            stats: { ...this.stats },
            
            sectors: this.sectors.map(s => ({ ...s })),
            personnel: JSON.parse(JSON.stringify(this.personnel)),
            
            research: {
                current: this.research.current ? { ...this.research.current } : null,
                progress: this.research.progress,
                completed: [...this.research.completed]
            },
            
            upgrades: { ...this.upgrades },
            enemies: JSON.parse(JSON.stringify(this.enemies)),
            
            missions: this.missions.map(m => ({ ...m })),
            achievements: this.achievements.map(a => ({ ...a })),
            
            lastEventDay: this.lastEventDay,
            settings: { ...this.settings }
        };
        
        localStorage.setItem('astronomican_save', JSON.stringify(saveData));
        
        this.log('–ò–≥—Ä–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞.', 'success');
        this.notify('–ò–≥—Ä–∞ —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞!', 'success');
        
        console.log('üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ');
        return true;
        
    } catch (error) {
        console.error('‚ùå –û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:', error);
        this.notify('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –∏–≥—Ä—ã!', 'critical');
        return false;
    }
};

// ==================== –ê–í–¢–û–°–û–•–†–ê–ù–ï–ù–ò–ï ====================
Game.autoSave = function() {
    if (!this.settings.autoSave || this.gameOver) return;
    
    this.save();
    console.log('üíæ –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ');
};

// ==================== –ó–ê–ì–†–£–ó–ö–ê –ò–ì–†–´ ====================
Game.load = function() {
    try {
        const saveData = localStorage.getItem('astronomican_save');
        
        if (!saveData) {
            this.notify('–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ!', 'warning');
            return false;
        }
        
        const data = JSON.parse(saveData);
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏
        if (data.version !== this.version) {
            console.warn('‚ö†Ô∏è –í–µ—Ä—Å–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç');
        }
        
        // –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
        this.day = data.day || 1;
        this.hour = data.hour || 0;
        
        this.resources = { ...data.resources };
        this.resourceChanges = { ...data.resourceChanges };
        
        this.astronomican = { ...data.astronomican };
        this.warp = { ...data.warp, rifts: [] };
        
        this.stats = { ...data.stats };
        
        this.sectors = data.sectors.map(s => ({ ...s }));
        this.personnel = JSON.parse(JSON.stringify(data.personnel));
        
        this.research = {
            current: data.research.current ? { ...data.research.current } : null,
            progress: data.research.progress || 0,
            completed: [...(data.research.completed || [])]
        };
        
        this.upgrades = { ...data.upgrades };
        this.enemies = JSON.parse(JSON.stringify(data.enemies));
        
        this.missions = data.missions ? data.missions.map(m => ({ ...m })) : [];
        this.achievements = data.achievements ? data.achievements.map(a => ({ ...a })) : this.achievements;
        
        this.lastEventDay = data.lastEventDay || 0;
        
        if (data.settings) {
            this.settings = { ...this.settings, ...data.settings };
        }
        
        // –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
        this.updateUI();
        this.renderSectors();
        this.renderAchievements();
        
        this.log('–ò–≥—Ä–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞.', 'success');
        this.notify('–ò–≥—Ä–∞ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–∞!', 'success');
        
        console.log('üìÇ –ó–∞–≥—Ä—É–∑–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞');
        return true;
        
    } catch (error) {
        console.error('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:', error);
        this.notify('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–≥—Ä—ã!', 'critical');
        return false;
    }
};

// ==================== –†–ï–ù–î–ï–†–ò–ù–ì –î–û–°–¢–ò–ñ–ï–ù–ò–ô ====================
Game.renderAchievements = function() {
    const container = document.getElementById('achievements-grid');
    if (!container) return;
    
    container.innerHTML = '';
    
    this.achievements.forEach(achievement => {
        const card = document.createElement('div');
        card.className = 'card' + (achievement.unlocked ? '' : ' locked');
        
        card.innerHTML = `
            <div class="card-header">
                <div class="card-title">
                    ${achievement.icon} ${achievement.name}
                </div>
                ${achievement.unlocked ? '<div class="card-level" style="background: var(--success-green);">‚úì</div>' : ''}
            </div>
            <div class="card-desc">${achievement.description}</div>
            ${!achievement.unlocked ? `
                <div style="text-align: center; padding: 10px; color: #666; margin-top: 15px;">
                    üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ
                </div>
            ` : `
                <div style="text-align: center; padding: 10px; color: var(--gold); margin-top: 15px; background: rgba(212,175,55,0.1); border-radius: 4px;">
                    ‚úì –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ!
                </div>
            `}
        `;
        
        container.appendChild(card);
    });
};

// ==================== –ü–†–û–í–ï–†–ö–ê GAME OVER ====================
Game.checkGameOver = function() {
    // –£—Å–ª–æ–≤–∏—è –ø—Ä–æ–∏–≥—Ä—ã—à–∞
    const conditions = [];
    
    // –ó–æ–ª–æ—Ç–æ–π –¢—Ä–æ–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–∑—Ä—É—à–µ–Ω
    if (this.astronomican.throneCondition <= 0) {
        conditions.push('–ó–æ–ª–æ—Ç–æ–π –¢—Ä–æ–Ω —Ä–∞–∑—Ä—É—à–µ–Ω');
    }
    
    // –ê—Å—Ç—Ä–æ–Ω–æ–º–∏–∫–æ–Ω –ø–æ–≥–∞—Å
    if (this.astronomican.power <= 0) {
        conditions.push('–ê—Å—Ç—Ä–æ–Ω–æ–º–∏–∫–æ–Ω –ø–æ–≥–∞—Å');
    }
    
    // –í—Å–µ —Å–µ–∫—Ç–æ—Ä—ã –ø–æ—Ç–µ—Ä—è–Ω—ã
    const controlledSectors = this.sectors.filter(s => s.status !== 'lost').length;
    if (controlledSectors === 0) {
        conditions.push('–í—Å–µ —Å–µ–∫—Ç–æ—Ä—ã –ò–º–ø–µ—Ä–∏—É–º–∞ –ø–æ—Ç–µ—Ä—è–Ω—ã');
    }
    
    // –í–∞—Ä–ø –ø–æ–≥–ª–æ—Ç–∏–ª –¢–µ—Ä—Ä—É
    if (this.warp.level >= 100) {
        conditions.push('–í–∞—Ä–ø –ø–æ–≥–ª–æ—Ç–∏–ª –°–≤—è—â–µ–Ω–Ω—É—é –¢–µ—Ä—Ä—É');
    }
    
    // –ï—Å–ª–∏ –µ—Å—Ç—å —É—Å–ª–æ–≤–∏—è –ø—Ä–æ–∏–≥—Ä—ã—à–∞
    if (conditions.length > 0) {
        this.triggerGameOver(conditions);
    }
};

// ==================== GAME OVER ====================
Game.triggerGameOver = function(reasons) {
    this.gameOver = true;
    this.running = false;
    
    console.log('‚ò†Ô∏è GAME OVER');
    
    // –ü–æ–∫–∞–∑–∞—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ Game Over
    const modal = document.getElementById('modal-gameover');
    const statsContainer = document.getElementById('gameover-stats');
    
    statsContainer.innerHTML = `
        <div style="background: rgba(139,0,0,0.2); padding: 20px; border: 2px solid var(--critical-red); border-radius: 4px; margin-bottom: 20px;">
            <h3 style="color: var(--critical-red); margin-bottom: 15px;">–ü—Ä–∏—á–∏–Ω—ã –ø–∞–¥–µ–Ω–∏—è:</h3>
            ${reasons.map(r => `<div style="margin: 5px 0;">‚Ä¢ ${r}</div>`).join('')}
        </div>
        
        <div class="stats-grid">
            <div class="stat-box">
                <span class="stat-label">–î–Ω–µ–π –ø—Ä–æ—Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª –ò–º–ø–µ—Ä–∏—É–º</span>
                <span class="stat-number">${this.day}</span>
            </div>
            <div class="stat-box">
                <span class="stat-label">–ñ–µ—Ä—Ç–≤ –ø—Ä–∏–Ω–µ—Å–µ–Ω–æ</span>
                <span class="stat-number">${Math.floor(this.stats.totalSacrifices)}</span>
            </div>
            <div class="stat-box">
                <span class="stat-label">–ö—Ä–µ–¥–∏—Ç–æ–≤ –∑–∞—Ä–∞–±–æ—Ç–∞–Ω–æ</span>
                <span class="stat-number">${Math.floor(this.stats.totalCreditsEarned)}</span>
            </div>
            <div class="stat-box">
                <span class="stat-label">–í—Ä–∞–≥–æ–≤ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–æ</span>
                <span class="stat-number">${this.stats.enemiesKilled}</span>
            </div>
            <div class="stat-box">
                <span class="stat-label">–ú–∏—Å—Å–∏–π –∑–∞–≤–µ—Ä—à–µ–Ω–æ</span>
                <span class="stat-number">${this.stats.missionsCompleted}</span>
            </div>
            <div class="stat-box">
                <span class="stat-label">–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π –∑–∞–≤–µ—Ä—à–µ–Ω–æ</span>
                <span class="stat-number">${this.stats.researchCompleted}</span>
            </div>
        </div>
    `;
    
    modal.style.display = 'flex';
    
    this.log('‚ò†Ô∏è –ò–ú–ü–ï–†–ò–£–ú –ü–ê–õ!', 'critical');
};

// ==================== –ü–ï–†–ï–ó–ê–ü–£–°–ö –ò–ì–†–´ ====================
Game.restart = function() {
    console.log('üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∏–≥—Ä—ã...');
    
    // –ó–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
    document.getElementById('modal-gameover').style.display = 'none';
    
    // –°–±—Ä–æ—Å –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
    this.day = 1;
    this.hour = 0;
    this.gameOver = false;
    
    // –†–µ—Å—É—Ä—Å—ã
    this.resources = {
        psychic: 5000,
        credits: 10000,
        population: 1000,
        military: 100,
        fleet: 50,
        techpriests: 10
    };
    
    this.resourceChanges = {
        psychic: -1000,
        credits: 100,
        population: 1,
        military: 0.5,
        fleet: 0,
        techpriests: 0
    };
    
    // –ê—Å—Ç—Ä–æ–Ω–æ–º–∏–∫–æ–Ω
    this.astronomican = {
        power: 100,
        stability: 100,
        throneCondition: 100,
        sacrificeRate: 1000,
        efficiency: 100,
        emergencyMode: false,
        emergencyTurns: 0
    };
    
    // –í–∞—Ä–ø
    this.warp = {
        level: 25,
        storms: 0,
        rifts: [],
        demonThreat: 10,
        chaosIncursions: 0
    };
    
    // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    this.stats = {
        totalSacrifices: 0,
        totalCreditsEarned: 0,
        enemiesKilled: 0,
        missionsCompleted: 0,
        sectorsLost: 0,
        projectsCompleted: 0,
        researchCompleted: 0
    };
    
    // –°–±—Ä–æ—Å–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
    this.initializeSectors();
    this.initializePersonnel();
    this.initializeResearch();
    this.initializeUpgrades();
    this.initializeAchievements();
    
    // –°–±—Ä–æ—Å–∏—Ç—å –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∏ –º–∏—Å—Å–∏–∏
    this.research = {
        current: null,
        progress: 0,
        completed: []
    };
    
    this.missions = [];
    this.lastEventDay = 0;
    
    // –û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥
    this.clearLog();
    
    // –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
    this.updateUI();
    this.renderSectors();
    this.renderAchievements();
    
    // –ó–∞–ø—É—Å—Ç–∏—Ç—å –∏–≥—Ä—É
    this.running = true;
    this.lastTick = Date.now();
    
    this.log('–ê—Å—Ç—Ä–æ–Ω–æ–º–∏–∫–æ–Ω –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω. –ò–º–ø–µ—Ä–∏—É–º –≤–æ–∑—Ä–æ–∂–¥–∞–µ—Ç—Å—è.', 'success');
    this.notify('–ò–≥—Ä–∞ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω–∞!', 'success');
    
    console.log('‚úÖ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∑–∞–≤–µ—Ä—à—ë–Ω');
};

// ==================== –ü–û–ö–ê–ó –ù–ê–°–¢–†–û–ï–ö ====================
Game.showSettings = function() {
    const modal = document.getElementById('modal-info');
    const title = document.getElementById('info-title');
    const content = document.getElementById('info-content');
    
    title.textContent = '–ù–∞—Å—Ç—Ä–æ–π–∫–∏';
    
    content.innerHTML = `
        <div style="margin-bottom: 20px;">
            <h3 style="color: var(--gold); margin-bottom: 15px;">–ò–≥—Ä–∞</h3>
            
            <div style="margin: 15px 0;">
                <label style="display: flex; align-items: center; cursor: pointer;">
                    <input type="checkbox" id="setting-autosave" 
                           ${this.settings.autoSave ? 'checked' : ''}
                           onchange="Game.toggleAutoSave()"
                           style="margin-right: 10px; width: 20px; height: 20px;">
                    <span>–ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ (–∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É)</span>
                </label>
            </div>
            
            <div style="margin: 15px 0;">
                <label style="display: flex; align-items: center; cursor: pointer;">
                    <input type="checkbox" id="setting-particles" 
                           ${this.settings.particlesEnabled ? 'checked' : ''}
                           onchange="Game.toggleParticles()"
                           style="margin-right: 10px; width: 20px; height: 20px;">
                    <span>–ß–∞—Å—Ç–∏—Ü—ã (–≤–∏–∑—É–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã)</span>
                </label>
            </div>
        </div>
        
        <div style="margin-bottom: 20px;">
            <h3 style="color: var(--gold); margin-bottom: 15px;">–°–ª–æ–∂–Ω–æ—Å—Ç—å</h3>
            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                <button class="button ${this.settings.difficulty === 'easy' ? 'success' : ''}" 
                        onclick="Game.setDifficulty('easy')">
                    –õ—ë–≥–∫–∞—è
                </button>
                <button class="button ${this.settings.difficulty === 'normal' ? 'success' : ''}" 
                        onclick="Game.setDifficulty('normal')">
                    –°—Ä–µ–¥–Ω—è—è
                </button>
                <button class="button ${this.settings.difficulty === 'hard' ? 'success' : ''}" 
                        onclick="Game.setDifficulty('hard')">
                    –°–ª–æ–∂–Ω–∞—è
                </button>
                <button class="button ${this.settings.difficulty === 'nightmare' ? 'success' : ''}" 
                        onclick="Game.setDifficulty('nightmare')">
                    –ö–æ—à–º–∞—Ä
                </button>
            </div>
        </div>
        
        <div style="margin-bottom: 20px;">
            <h3 style="color: var(--gold); margin-bottom: 15px;">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
            <div class="metric">
                <span>–í–µ—Ä—Å–∏—è –∏–≥—Ä—ã:</span>
                <span style="color: var(--gold);">${this.version}</span>
            </div>
            <div class="metric">
                <span>–°–∫–æ—Ä–æ—Å—Ç—å –∏–≥—Ä—ã:</span>
                <span style="color: var(--gold);">${this.tickSpeed}ms/—Ç–∏–∫</span>
            </div>
        </div>
        
        <div>
            <h3 style="color: var(--gold); margin-bottom: 15px;">–î–µ–π—Å—Ç–≤–∏—è</h3>
            <div class="button-group">
                <button class="button" onclick="Game.exportSave()">
                    –≠–∫—Å–ø–æ—Ä—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
                </button>
                <button class="button" onclick="Game.importSave()">
                    –ò–º–ø–æ—Ä—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
                </button>
                <button class="button danger" onclick="Game.confirmReset()">
                    –°–±—Ä–æ—Å–∏—Ç—å –∏–≥—Ä—É
                </button>
            </div>
        </div>
    `;
    
    modal.style.display = 'flex';
};

// ==================== –ù–ê–°–¢–†–û–ô–ö–ò ====================
Game.toggleAutoSave = function() {
    this.settings.autoSave = document.getElementById('setting-autosave').checked;
    this.notify('–ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ ' + (this.settings.autoSave ? '–≤–∫–ª—é—á–µ–Ω–æ' : '–≤—ã–∫–ª—é—á–µ–Ω–æ'), 'info');
};

Game.toggleParticles = function() {
    this.settings.particlesEnabled = document.getElementById('setting-particles').checked;
    this.notify('–ß–∞—Å—Ç–∏—Ü—ã ' + (this.settings.particlesEnabled ? '–≤–∫–ª—é—á–µ–Ω—ã' : '–≤—ã–∫–ª—é—á–µ–Ω—ã'), 'info');
};

Game.setDifficulty = function(difficulty) {
    this.settings.difficulty = difficulty;
    
    // –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
    switch(difficulty) {
        case 'easy':
            this.resourceChanges.credits = 150;
            this.astronomican.efficiency = 110;
            break;
        case 'normal':
            this.resourceChanges.credits = 100;
            this.astronomican.efficiency = 100;
            break;
        case 'hard':
            this.resourceChanges.credits = 75;
            this.astronomican.efficiency = 90;
            break;
        case 'nightmare':
            this.resourceChanges.credits = 50;
            this.astronomican.efficiency = 80;
            this.warp.level += 10;
            break;
    }
    
    this.notify(`–°–ª–æ–∂–Ω–æ—Å—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞: ${difficulty}`, 'info');
    this.showSettings(); // –ü–µ—Ä–µ—Ä–∏—Å–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
};

Game.exportSave = function() {
    const saveData = localStorage.getItem('astronomican_save');
    if (!saveData) {
        this.notify('–ù–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞!', 'warning');
        return;
    }
    
    const blob = new Blob([saveData], { type: 'application/json' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `astronomican_save_${Date.now()}.json`;
    a.click();
    URL.revokeObjectURL(url);
    
    this.notify('–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ!', 'success');
};

Game.importSave = function() {
    const input = document.createElement('input');
    input.type = 'file';
    input.accept = '.json';
    
    input.onchange = (e) => {
        const file = e.target.files[0];
        if (!file) return;
        
        const reader = new FileReader();
        reader.onload = (event) => {
            try {
                const saveData = event.target.result;
                localStorage.setItem('astronomican_save', saveData);
                this.load();
                this.notify('–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ!', 'success');
                this.closeModal('info');
            } catch (error) {
                this.notify('–û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞!', 'critical');
            }
        };
        reader.readAsText(file);
    };
    
    input.click();
};

Game.confirmReset = function() {
    if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–±—Ä–æ—Å–∏—Ç—å –≤—Å—é –∏–≥—Ä—É? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ!')) {
        localStorage.removeItem('astronomican_save');
        this.restart();
        this.closeModal('info');
        this.notify('–ò–≥—Ä–∞ —Å–±—Ä–æ—à–µ–Ω–∞!', 'success');
    }
};

// ==================== –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò ====================

// –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∏—Å–µ–ª
Game.formatNumber = function(num) {
    if (num >= 1000000000) {
        return (num / 1000000000).toFixed(1) + 'B';
    } else if (num >= 1000000) {
        return (num / 1000000).toFixed(1) + 'M';
    } else if (num >= 1000) {
        return (num / 1000).toFixed(1) + 'K';
    }
    return Math.floor(num).toString();
};

// –ü–æ–ª—É—á–∏—Ç—å —Å–ª—É—á–∞–π–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –º–∞—Å—Å–∏–≤–∞
Game.randomChoice = function(array) {
    return array[Math.floor(Math.random() * array.length)];
};

// –°–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ
Game.randomRange = function(min, max) {
    return Math.random() * (max - min) + min;
};

// –°–ª—É—á–∞–π–Ω–æ–µ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ
Game.randomInt = function(min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
};

// –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å (0-100)
Game.chance = function(percent) {
    return Math.random() * 100 < percent;
};

// ==================== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –ü–†–ò –ó–ê–ì–†–£–ó–ö–ï –°–¢–†–ê–ù–ò–¶–´ ====================
window.addEventListener('DOMContentLoaded', function() {
    console.log('üåü –ó–∞–ø—É—Å–∫ –ê—Å—Ç—Ä–æ–Ω–æ–º–∏–∫–æ–Ω–∞...');
    
    // –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
    setTimeout(() => {
        Game.init();
    }, 100);
});

// ==================== –û–ë–†–ê–ë–û–¢–ö–ê –ó–ê–ö–†–´–¢–ò–Ø –°–¢–†–ê–ù–ò–¶–´ ====================
window.addEventListener('beforeunload', function(e) {
    if (Game.settings.autoSave && Game.running && !Game.gameOver) {
        Game.save();
    }
});



</script>
</body>
</html>
