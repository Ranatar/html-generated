<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Расширенный граф философских концепций</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
            overflow: hidden;
        }

        #container {
            width: 100vw;
            height: 100vh;
            position: relative;
        }

        #graph {
            width: 100%;
            height: 100%;
        }

        .node {
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .node:hover {
            filter: brightness(1.3);
        }

        .node circle {
            stroke-width: 3px;
            filter: drop-shadow(0 0 10px rgba(255,255,255,0.4));
        }

        .node.dimmed {
            opacity: 0.2;
        }

        .node.highlighted {
            opacity: 1;
        }

        .node.highlighted circle {
            stroke-width: 5px;
            filter: drop-shadow(0 0 20px rgba(255,255,255,0.8));
        }

        .node.selected circle {
            stroke-width: 6px;
            stroke: #ffd700 !important;
            filter: drop-shadow(0 0 15px #ffd700);
        }

        .node text {
            font-size: 10px;
            font-weight: 600;
            pointer-events: none;
            text-shadow: 0 0 4px black, 0 0 4px black, 0 0 4px black;
            fill: #fff;
        }

        .link {
            fill: none;
            stroke-width: 2px;
            opacity: 0.4;
            transition: opacity 0.3s, stroke-width 0.3s;
        }

        .link:hover {
            opacity: 0.9;
            stroke-width: 3.5px;
        }

        .link.dimmed {
            opacity: 0.1;
        }

        .link.highlighted {
            opacity: 1;
            stroke-width: 4px;
            filter: drop-shadow(0 0 5px currentColor);
        }

        .link.bidirectional {
            stroke-dasharray: 5, 5;
        }

        .link {
            fill: none;
            stroke-width: 2px;
            opacity: 0.4;
            cursor: pointer;
            stroke-linecap: round;
            stroke-linejoin: round;
            /* Плавный переход ТОЛЬКО для stroke-width */
            transition: stroke-width 0.15s ease-out;
        }

        .link:hover {
            opacity: 0.9;
            stroke-width: 10px; /* Значительно увеличиваем при наведении! */
        }

        /* Стили для выделенных связей */
        .link.selected {
            opacity: 1;
            stroke-width: 5px;
            filter: drop-shadow(0 0 8px currentColor);
        }

        /* Дополнительные стили для разных весов */
        .link.weight-weak {
            stroke-width: 2px;
        }

        .link.weight-weak:hover {
            stroke-width: 8px; /* Для тонких связей - особенно важно */
        }

        .link.weight-medium {
            stroke-width: 3px;
        }

        .link.weight-medium:hover {
            stroke-width: 10px;
        }

        .link.weight-strong {
            stroke-width: 5px;
        }

        .link.weight-strong:hover {
            stroke-width: 12px;
        }

        #legend {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(255, 255, 255, 0.97);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.4);
            max-width: 340px;
            backdrop-filter: blur(10px);
            max-height: 85vh;
            overflow-y: auto;
            z-index: 1;
        }
        
        #legend h3 {
            margin: 0 0 15px 0;
            color: #1a1a2e;
            font-size: 19px;
            border-bottom: 3px solid #6c5ce7;
            padding-bottom: 10px;
        }
        
        .legend-section {
            margin-bottom: 18px;
        }
        
        .legend-section h4 {
            margin: 0 0 10px 0;
            color: #2d3436;
            font-size: 13px;
            font-weight: 700;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        /* Стили для radio buttons */
        .legend-item input[type="radio"] {
            margin-right: 8px;
            cursor: pointer;
            width: 16px;
            height: 16px;
            accent-color: #6c5ce7;
        }
        
        .filter-controls {
            display: flex;
            gap: 5px;
            margin-bottom: 10px;
        }
        
        .filter-controls button {
            flex: 1;
            background: #95a5a6;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 10px;
            font-weight: 600;
            transition: background 0.3s;
        }
        
        .filter-controls button:hover {
            background: #7f8c8d;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            margin: 6px 0;
            padding: 5px;
            border-radius: 5px;
            transition: background 0.2s;
            cursor: pointer;
        }
        
        .legend-item:hover {
            background: rgba(108, 92, 231, 0.1);
        }
        
        .legend-item input[type="checkbox"] {
            margin-right: 8px;
            cursor: pointer;
            width: 16px;
            height: 16px;
            accent-color: #6c5ce7;
        }
        
        .legend-item label {
            cursor: pointer;
            font-size: 11px;
            color: #2d3436;
            display: flex;
            align-items: center;
            flex-grow: 1;
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            margin-right: 10px;
            border: 2px solid #2d3436;
            flex-shrink: 0;
        }
        
        .legend-line {
            width: 35px;
            height: 2.5px;
            margin-right: 10px;
            flex-shrink: 0;
        }
        
        .filter-stats {
            font-size: 10px;
            color: #7f8c8d;
            font-style: italic;
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid #e0e0e0;
        }
        
        #legend::-webkit-scrollbar {
            width: 6px;
        }
        
        #legend::-webkit-scrollbar-track {
            background: rgba(0,0,0,0.1);
            border-radius: 10px;
        }
        
        #legend::-webkit-scrollbar-thumb {
            background: #6c5ce7;
            border-radius: 10px;
        }

        .tooltip {
            position: absolute;
            background: rgba(0, 0, 0, 0.92);
            color: white;
            padding: 12px 18px;
            border-radius: 10px;
            font-size: 13px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            box-shadow: 0 6px 20px rgba(0,0,0,0.5);
            max-width: 500px;
            border: 1px solid rgba(255,255,255,0.2);
            z-index: 1000;
        }

        .tooltip strong {
            font-size: 15px;
            display: block;
            margin-bottom: 5px;
            color: #a29bfe;
        }
        
        .tooltip em {
            font-style: italic;
            color: #ddd;
            font-size: 11px;
        }
        
        /* Стили для tooltip связей */
        .link-tooltip-header {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            margin-bottom: 8px;
        }
        
        .link-tooltip-header strong {
            font-size: 14px;
            color: #a29bfe;
            margin: 0;
            display: inline;
        }
        
        .link-tooltip-arrow {
            display: flex;
            align-items: center;
            flex-shrink: 0;
        }
        
        .link-tooltip-type {
            text-align: center;
            font-size: 13px;
            font-weight: 600;
            margin: 6px 0;
        }
        
        .link-tooltip-philosophers {
            display: flex;
            justify-content: space-between;
            margin-top: 8px;
            font-size: 11px;
        }
        
        .link-tooltip-philosophers em {
            color: #95a5a6;
        }
        
        .tooltip-description {
            margin-top: 10px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            white-space: normal;
            font-size: 11px;
            color: #ddd;
            border-top: 1px solid rgba(255,255,255,0.2);
            padding-top: 8px;
            line-height: 1.5;
        }

        #controls {
            position: absolute;
            bottom: 20px;
            left: 20px;
            background: rgba(255, 255, 255, 0.97);
            padding: 15px;
            border-radius: 12px;
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        #controls button {
            background: #6c5ce7;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            margin: 3px;
            font-size: 12px;
            font-weight: 600;
            transition: background 0.3s ease; 
        }

        #controls:hover {
            z-index: 9999; /* Высокий приоритет при наведении */
            box-shadow: 0 8px 25px rgba(0,0,0,0.4); /* Усиление тени для визуального эффекта */
        }

        #controls button:hover {
            background: #5f4fd1;
        }

        #controls button.active {
            background: #00b894;
        }

        #info {
            position: absolute;
            bottom: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.97);
            padding: 15px 20px;
            border-radius: 12px;
            font-size: 13px;
            color: #2d3436;
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
            font-weight: 500;
            //z-index: 1;
            transition: box-shadow 0.2s ease; /* Плавный переход для визуального эффекта */
        }
        
        #info:hover {
            z-index: 9999; /* Высокий приоритет при наведении */
            box-shadow: 0 8px 25px rgba(0,0,0,0.4); /* Усиление тени для визуального эффекта */
        }

        /* Стили для сворачиваемых секций */
        .legend-section h4.collapsible-header {
            cursor: pointer;
            user-select: none;
            position: relative;
            padding-right: 25px;
        }

        .legend-section h4.collapsible-header::after {
            content: '▼';
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            font-size: 10px;
            transition: transform 0.3s ease;
            color: #6c5ce7;
        }

        .legend-section h4.collapsible-header.collapsed::after {
            transform: translateY(-50%) rotate(-90deg);
        }

        .legend-section h4.collapsible-header:hover {
            background: rgba(108, 92, 231, 0.05);
            border-radius: 5px;
            padding: 5px;
            margin: -5px;
        }

        .legend-section h4.collapsible-header:active {
            background: rgba(108, 92, 231, 0.1);
        }

        .collapsible-content {
            max-height: none; /* Убираем ограничение */
            overflow: hidden;
            transition: max-height 0.3s ease-out, opacity 0.3s ease-out;
            opacity: 1;
        }

        .collapsible-content.collapsed {
            max-height: 0 !important; /* important для перекрытия inline стилей */
            opacity: 0;
            margin: 0;
            padding: 0;
        }

        /* Анимация для плавного появления */
        @keyframes slideDown {
            from {
                max-height: 0;
                opacity: 0;
            }
            to {
                max-height: 1000px;
                opacity: 1;
            }
        }

        @keyframes slideUp {
            from {
                max-height: 1000px;
                opacity: 1;
            }
            to {
                max-height: 0;
                opacity: 0;
            }
        }
        
        /* ============================================ */
        /* ОБЩИЕ СТИЛИ ДЛЯ МОДАЛЬНЫХ ОКОН ДЕТАЛЬНОЙ ИНФОРМАЦИИ */
        /* ============================================ */

        .detail-modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.92);
            color: white;
            padding: 25px 30px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.7);
            max-width: 550px;
            max-height: 80vh;
            overflow-y: auto;
            z-index: 2000;
            border: 1px solid rgba(255,255,255,0.2);
        }

        /* Окно философа чуть шире из-за большего количества информации */
        #philosopherDetailModal.detail-modal {
            max-width: 650px;
            max-height: 85vh;
        }

        .detail-modal.show {
            display: block;
        }

        #modalOverlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1999;
        }

        #modalOverlay.show {
            display: block;
        }

        .detail-modal h2 {
            margin: 0 0 8px 0;
            color: #a29bfe;
            font-size: 22px;
            font-weight: 600;
        }

        .detail-modal .philosopher-tag {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            color: white;
            margin-bottom: 12px;
            opacity: 0.9;
        }

        .detail-modal .description {
            color: #e0e0e0;
            margin-bottom: 18px;
            line-height: 1.6;
            font-size: 13px;
        }

        .detail-modal .rubric-section {
            background: rgba(255, 255, 255, 0.08);
            padding: 18px;
            border-radius: 10px;
            border-left: 3px solid #a29bfe;
        }

        .detail-modal .rubric-title {
            font-size: 15px;
            font-weight: 700;
            color: #a29bfe;
            margin-bottom: 6px;
        }

        .detail-modal .rubric-description {
            font-size: 12px;
            color: #b0b0b0;
            margin-bottom: 14px;
            font-style: italic;
        }

        .detail-modal .related-concepts {
            margin-top: 12px;
        }

        .detail-modal .related-title {
            font-size: 13px;
            font-weight: 700;
            color: #e0e0e0;
            margin-bottom: 8px;
        }

        .detail-modal .concept-item {
            display: flex;
            align-items: center;
            padding: 7px 10px;
            margin: 4px 0;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .detail-modal .concept-item:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateX(5px);
            border-color: rgba(162, 155, 254, 0.4);
        }

        .detail-modal .concept-color {
            width: 11px;
            height: 11px;
            border-radius: 50%;
            margin-right: 10px;
            flex-shrink: 0;
            box-shadow: 0 0 8px currentColor;
        }

        .detail-modal .concept-name {
            font-size: 13px;
            color: #e0e0e0;
            flex-grow: 1;
        }

        .detail-modal .concept-philosopher {
            font-size: 10px;
            color: #a0a0a0;
            font-style: italic;
        }

        .detail-modal .close-btn {
            position: absolute;
            top: 12px;
            right: 12px;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            cursor: pointer;
            font-size: 18px;
            line-height: 1;
            transition: all 0.2s;
        }

        .detail-modal .close-btn:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: rotate(90deg);
        }

        .detail-modal::-webkit-scrollbar {
            width: 6px;
        }

        .detail-modal::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }

        .detail-modal::-webkit-scrollbar-thumb {
            background: #a29bfe;
            border-radius: 10px;
        }

        .detail-modal::-webkit-scrollbar-thumb:hover {
            background: #8b7fe6;
        }

        /* ============================================ */
        /* СПЕЦИФИЧНЫЕ СТИЛИ ДЛЯ ОКНА ФИЛОСОФА */
        /* ============================================ */

        /* Стили для подсказок рубрик */
        .rubric-name-tooltip {
            position: relative;
            cursor: help;
            border-bottom: 1px dotted #a29bfe;
            display: inline-block;
        }

        .rubric-tooltip-text {
            visibility: hidden;
            background-color: rgba(0, 0, 0, 0.95);
            color: #fff;
            text-align: left;
            border-radius: 6px;
            padding: 8px 12px;
            position: absolute;
            z-index: 2001;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            white-space: normal;
            max-width: 300px;
            font-size: 11px;
            line-height: 1.4;
            box-shadow: 0 4px 12px rgba(0,0,0,0.4);
        }

        .rubric-name-tooltip:hover .rubric-tooltip-text {
            visibility: visible;
        }

        /* Стиль для кликабельных философов */
        .philosopher-link {
            cursor: pointer;
            color: #a29bfe;
            font-weight: 600;
            text-decoration: none;
            transition: color 0.2s;
        }

        .philosopher-link:hover {
            color: #6c5ce7;
            text-decoration: underline;
        }

        /* Стили для секций взаимодействия философов */
        .interaction-section {
            margin-bottom: 15px;
            padding: 12px;
            background: rgba(108, 92, 231, 0.08);
            border-radius: 8px;
            border-left: 3px solid #a29bfe;
        }

        .interaction-type {
            font-weight: 700;
            color: #a29bfe;
            margin-bottom: 8px;
            font-size: 13px;
        }

        .interaction-direction {
            margin: 6px 0;
            padding-left: 10px;
            font-size: 12px;
            color: #e0e0e0;
        }

        .interaction-direction-label {
            font-weight: 600;
            color: #b0b0b0;
            font-size: 11px;
            text-transform: uppercase;
        }

        .philosopher-list {
            display: inline;
            margin-left: 5px;
        }

        /* Стили для разделов концепций философа */
        .philosopher-concepts-section {
            margin-top: 20px;
        }

        .concept-details-item {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 10px;
            border-left: 3px solid #a29bfe;
            cursor: pointer;
            transition: all 0.2s;
        }

        .concept-details-item:hover {
            background: rgba(162, 155, 254, 0.1);
            border-left-color: #6c5ce7;
        }

        .concept-details-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 8px;
        }

        .concept-details-name {
            font-weight: 700;
            font-size: 14px;
            color: #a29bfe;
        }

        .concept-short-desc {
            font-size: 12px;
            color: #b0b0b0;
            line-height: 1.5;
            margin: 8px 0;
        }

        .concept-extended-desc {
            font-size: 12px;
            color: #e0e0e0;
            line-height: 1.6;
            margin-top: 8px;
            padding-top: 8px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out, opacity 0.3s ease-out;
            opacity: 0;
        }

        .concept-extended-desc.show {
            max-height: 1000px;
            opacity: 1;
        }

        .toggle-concept-desc-btn {
            background: none;
            border: none;
            color: #a29bfe;
            cursor: pointer;
            font-size: 16px;
            padding: 4px 8px;
            transition: transform 0.3s;
        }

        .toggle-concept-desc-btn.expanded {
            transform: rotate(180deg);
        }

        /* Заголовки секций в модальном окне философа */
        .philosopher-section-title {
            font-size: 15px;
            font-weight: 700;
            color: #a29bfe;
            margin: 20px 0 12px 0;
            padding-bottom: 8px;
            border-bottom: 2px solid rgba(162, 155, 254, 0.3);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* Модальное окно описаний связей пути */
        #pathDescriptionsModal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.92);
            color: white;
            padding: 25px 30px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.7);
            max-width: 650px;
            max-height: 80vh;
            overflow-y: auto;
            z-index: 2100;
            border: 1px solid rgba(255,255,255,0.2);
        }

        #pathDescriptionsModal.show {
            display: block;
            animation: slideDown 0.3s ease-out;
        }

        #pathDescriptionsModal h3 {
            margin: 0 0 20px 0;
            color: #a29bfe;
            font-size: 20px;
            font-weight: 600;
            border-bottom: 2px solid #a29bfe;
            padding-bottom: 10px;
        }

        .path-description-item {
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            border-left: 3px solid #e74c3c;
        }

        .path-description-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            font-size: 13px;
        }

        .path-description-nodes {
            font-weight: 600;
            color: #e0e0e0;
        }

        .path-description-arrow {
            margin: 0 10px;
            font-size: 16px;
        }

        .path-description-type {
            font-size: 11px;
            color: #a0a0a0;
            font-style: italic;
            margin-top: 5px;
        }

        .path-description-text {
            margin-top: 8px;
            padding: 10px;
            background: rgba(52, 152, 219, 0.1);
            border-radius: 5px;
            font-size: 12px;
            line-height: 1.5;
            color: #e0e0e0;
        }

        .toggle-nodes-descriptions-btn {
            background: #27ae60;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 600;
            margin-bottom: 15px;
            transition: background 0.3s;
            width: 100%;
        }

        .toggle-nodes-descriptions-btn:hover {
            background: #229954;
        }

        .path-node-full-description {
            margin-top: 15px;
            padding: 12px;
            background: rgba(162, 155, 254, 0.1);
            border-radius: 8px;
            border-left: 3px solid #a29bfe;
            display: none;
        }

        .path-node-full-description.show {
            display: block;
            animation: slideDown 0.2s ease-out;
        }

        .path-node-full-description h4 {
            margin: 0 0 8px 0;
            color: #a29bfe;
            font-size: 14px;
        }

        .path-node-full-description p {
            margin: 5px 0;
            font-size: 11px;
            line-height: 1.5;
            color: #e0e0e0;
        }

        #pathDescriptionsModal::-webkit-scrollbar {
            width: 6px;
        }

        #pathDescriptionsModal::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }

        #pathDescriptionsModal::-webkit-scrollbar-thumb {
            background: #a29bfe;
            border-radius: 10px;
        }
        
        /* Панель поиска пути - с возможностью сворачивания */
        #pathFinder {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.97);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.4);
            max-width: 320px;
            max-height: 85vh;
            overflow-y: auto;
            backdrop-filter: blur(10px);
            z-index: 100;
            transition: all 0.3s ease;
        }

        #pathFinder::-webkit-scrollbar {
            width: 6px;
        }
        
        #pathFinder::-webkit-scrollbar-track {
            background: rgba(0,0,0,0.1);
            border-radius: 10px;
        }
        
        #pathFinder::-webkit-scrollbar-thumb {
            background: #6c5ce7;
            border-radius: 10px;
        }
        
        #pathFinder.collapsed {
            max-width: 60px;
            padding: 10px;
        }
        
        #pathFinder.collapsed .panel-content {
            display: none;
        }
        
        #pathFinder h3 {
            margin: 0 0 15px 0;
            color: #1a1a2e;
            font-size: 17px;
            border-bottom: 3px solid #e74c3c;
            padding-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        #pathFinder.collapsed h3 {
            border-bottom: none;
            margin: 0;
            padding: 0;
        }
        
        .path-select-group {
            margin-bottom: 15px;
        }
        
        .path-select-group label {
            display: block;
            font-size: 12px;
            font-weight: 700;
            color: #2d3436;
            margin-bottom: 5px;
        }
        
        .path-select-group select {
            width: 100%;
            padding: 8px 10px;
            border: 2px solid #dfe6e9;
            border-radius: 8px;
            font-size: 12px;
            background: white;
            cursor: pointer;
            transition: border-color 0.3s;
        }
        
        .path-select-group select:focus {
            outline: none;
            border-color: #e74c3c;
        }
        
        #findPathBtn {
            width: 100%;
            background: #e74c3c;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 13px;
            font-weight: 600;
            transition: background 0.3s;
            margin-bottom: 10px;
        }
        
        #findPathBtn:hover {
            background: #c0392b;
        }
        
        #pathResult {
            margin-top: 15px;
            padding: 12px;
            background: rgba(231, 76, 60, 0.1);
            border-radius: 8px;
            border-left: 3px solid #e74c3c;
            display: none;
        }
        
        #pathResult.show {
            display: block;
        }
        
        #pathResult .path-length {
            font-size: 12px;
            font-weight: 700;
            color: #e74c3c;
            margin-bottom: 8px;
        }
        
        #pathResult .path-chain {
            font-size: 11px;
            color: #2d3436;
            line-height: 1.6;
        }
        
        #pathResult .path-node {
            display: inline-block;
            padding: 3px 8px;
            background: white;
            border-radius: 4px;
            margin: 2px;
            border: 1px solid #e74c3c;
        }
        
        #pathResult .path-arrow {
            color: #e74c3c;
            margin: 0 5px;
        }
        
        /* Контейнер для узла пути с философом */
        .path-node-container {
            display: inline-flex;
            flex-direction: column;
            align-items: center;
            margin: 2px;
            vertical-align: middle;
        }
        
        .path-philosopher {
            font-size: 9px;
            color: #95a5a6;
            font-style: italic;
            margin-bottom: 2px;
            white-space: nowrap;
        }
        
        .path-node {
            display: inline-block;
            padding: 3px 8px;
            background: white;
            border-radius: 4px;
            margin: 0;
            border: 1px solid;
        }
        
        .path-arrow {
            display: inline-flex;
            align-items: center;
            margin: 0 5px;
            font-weight: bold;
            font-size: 14px;
            vertical-align: middle;
        }
        
        .path-arrow.bidirectional {
            font-size: 12px;
        }

        /* Курсор для стрелок пути с интерактивным tooltip */
        .path-arrow {
            cursor: help;
        }
        
        /* Панель статистики - с возможностью сворачивания */
        #statsPanel {
            position: absolute;
            bottom: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.97);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.4);
            max-width: 320px;
            max-height: 450px;
            z-index: 1;
            overflow-y: auto;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }
        
        #statsPanel.collapsed {
            max-width: 60px;
            max-height: 60px;
            padding: 10px;
            overflow: hidden;
        }
        
        #statsPanel.collapsed .panel-content {
            display: none;
        }
        
        #statsPanel h3 {
            margin: 0 0 15px 0;
            color: #1a1a2e;
            font-size: 17px;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        #statsPanel.collapsed h3 {
            border-bottom: none;
            margin: 0;
            padding: 0;
        }
        
        /* Кнопка сворачивания */
        .collapse-btn {
            background: rgba(0, 0, 0, 0.1);
            border: none;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            cursor: pointer;
            font-size: 14px;
            line-height: 1;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0;
        }
        
        .collapse-btn:hover {
            background: rgba(0, 0, 0, 0.2);
            transform: scale(1.1);
        }
        
        .collapsed .collapse-btn {
            width: 40px;
            height: 40px;
            font-size: 20px;
        }
        
        .stats-section {
            margin-bottom: 20px;
        }
        
        .stats-section h4 {
            font-size: 13px;
            font-weight: 700;
            color: #2d3436;
            margin: 0 0 10px 0;
        }
        
        .stat-item {
            display: flex;
            align-items: center;
            padding: 6px 8px;
            margin: 4px 0;
            background: rgba(52, 152, 219, 0.08);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .stat-item:hover {
            background: rgba(52, 152, 219, 0.18);
            transform: translateX(3px);
        }
        
        .stat-rank {
            font-size: 13px;
            font-weight: 700;
            color: #3498db;
            min-width: 25px;
        }
        
        .stat-name {
            flex-grow: 1;
            font-size: 11px;
            color: #2d3436;
        }
        
        .stat-value {
            font-size: 11px;
            font-weight: 600;
            color: #7f8c8d;
        }
        
        .stat-philosopher {
            font-size: 9px;
            color: #95a5a6;
            font-style: italic;
            margin-left: 5px;
        }
        
        #statsPanel::-webkit-scrollbar {
            width: 6px;
        }
        
        #statsPanel::-webkit-scrollbar-track {
            background: rgba(0,0,0,0.1);
            border-radius: 10px;
        }
        
        #statsPanel::-webkit-scrollbar-thumb {
            background: #3498db;
            border-radius: 10px;
        }
        
        /* Улучшенные связи с весами */
        .link.weight-weak {
            stroke-width: 2px;
        }
        
        .link.weight-medium {
            stroke-width: 3px;
        }
        
        .link.weight-strong {
            stroke-width: 5px;
        }
        
        .link.path-highlight {
            stroke-width: 6px !important;
            opacity: 1 !important;
            filter: drop-shadow(0 0 8px currentColor);
            animation: pulse 1.5s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
        }
        
        /* Стили для внутренних противоречий */
        .link.internal-contradiction {
            stroke-dasharray: 8, 4;
            animation: dash 20s linear infinite;
        }
        
        @keyframes dash {
            to {
                stroke-dashoffset: -1000;
            }
        }
        
        /* Легенда весов */
        .weight-legend {
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid #e0e0e0;
        }
        
        .weight-item {
            display: flex;
            align-items: center;
            margin: 5px 0;
            font-size: 10px;
            color: #7f8c8d;
        }
        
        .weight-line {
            height: 2px;
            margin-right: 10px;
            background: #95a5a6;
            flex-shrink: 0;
        }
        
        .weight-line.weak { width: 20px; height: 2px; }
        .weight-line.medium { width: 20px; height: 3px; }
        .weight-line.strong { width: 20px; height: 5px; }
        
        /* Плавная анимация для заголовков при сворачивании */
        .panel-title {
            transition: opacity 0.2s;
        }
        
        .collapsed .panel-title {
            opacity: 0;
            font-size: 0;
            overflow: hidden;
        }
        
        /* Иконка разворачивания для свернутых панелей */
        .collapsed .collapse-btn .expand-icon {
            font-size: 24px;
            font-weight: bold;
        }
        
        /* Стили для табов метрик */
        .metric-tabs {
            display: flex;
            gap: 3px;
            margin-bottom: 10px;
            flex-wrap: wrap;
        }
        
        .tab-btn {
            flex: 1;
            min-width: 70px;
            background: #ecf0f1;
            border: none;
            padding: 6px 4px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 10px;
            font-weight: 600;
            transition: background 0.2s;
            color: #2d3436;
        }
        
        .tab-btn:hover {
            background: #d5dbde;
        }
        
        .tab-btn.active {
            background: #3498db;
            color: white;
        }
        
        /* Стили для прогресс-бара */
        #analysisProgress {
            display: none;
            margin-top: 15px;
            padding: 12px;
            background: rgba(52, 152, 219, 0.1);
            border-radius: 8px;
        }
        
        /* Стили для блока описания метрики */
        .metric-description {
            background: rgba(52, 152, 219, 0.1);
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 12px;
            font-size: 11px;
            line-height: 1.6;
        }
        
        .metric-description-title {
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 6px;
            font-size: 12px;
        }
        
        .metric-description-content {
            color: #34495e;
            margin-bottom: 8px;
        }
        
        .metric-description-formula {
            color: #7f8c8d;
            font-style: italic;
            font-size: 10px;
        }

        /* Модальное окно выбора анализа */
        #selectiveAnalysisModal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 255, 255, 0.97);
            padding: 25px 30px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.7);
            max-width: 450px;
            max-height: 80vh;
            overflow-y: auto;
            z-index: 2000;
            border: 1px solid rgba(0,0,0,0.2);
        }

        #selectiveAnalysisModal.show {
            display: block;
        }

        #selectiveAnalysisModal h3 {
            margin: 0 0 15px 0;
            color: #1a1a2e;
            font-size: 18px;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }

        .analysis-option {
            display: flex;
            align-items: center;
            padding: 8px;
            margin: 5px 0;
            border-radius: 5px;
            transition: background 0.2s;
            cursor: pointer;
        }

        .analysis-option:hover {
            background: rgba(52, 152, 219, 0.1);
        }

        .analysis-option input[type="checkbox"] {
            margin-right: 10px;
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .analysis-option label {
            cursor: pointer;
            flex-grow: 1;
            font-size: 12px;
            color: #2d3436;
        }

        .modal-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .modal-buttons button {
            flex: 1;
            padding: 10px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 13px;
            font-weight: 600;
            transition: background 0.3s;
        }

        .modal-buttons .primary-btn {
            background: #3498db;
            color: white;
        }

        .modal-buttons .primary-btn:hover {
            background: #2980b9;
        }

        .modal-buttons .secondary-btn {
            background: #95a5a6;
            color: white;
        }

        .modal-buttons .secondary-btn:hover {
            background: #7f8c8d;
        }

        /* Кнопка перехода к узлу */
        .goto-node-btn {
            background: #27ae60;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 600;
            margin-top: 10px;
            transition: background 0.3s;
        }

        .goto-node-btn:hover {
            background: #229954;
        }

        /* Секция связей узла */
        .connections-section {
            margin-top: 20px;
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 10px;
            border-left: 3px solid #3498db;
        }

        .connections-title {
            font-size: 15px;
            font-weight: 700;
            color: #a29bfe;
            margin-bottom: 10px;
        }

        .connection-item {
            display: flex;
            align-items: center;
            padding: 8px 10px;
            margin: 5px 0;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .connection-item:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateX(5px);
        }

        /* Стили для раскрытия description связей */
        .connection-item {
            flex-wrap: wrap;
        }

        .connection-toggle {
            background: none;
            border: none;
            color: #3498db;
            cursor: pointer;
            font-size: 12px;
            padding: 0 5px;
            margin-left: 5px;
            transition: transform 0.2s;
        }

        .connection-toggle:hover {
            color: #2980b9;
        }

        .connection-toggle.expanded {
            transform: rotate(180deg);
        }

        .connection-description {
            width: 100%;
            margin-top: 8px;
            padding: 8px 12px;
            background: rgba(52, 152, 219, 0.1);
            border-radius: 5px;
            font-size: 11px;
            color: #e0e0e0;
            line-height: 1.5;
            display: none;
        }

        .connection-description.show {
            display: block;
            animation: slideDown 0.2s ease-out;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-5px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .toggle-all-descriptions-btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 11px;
            font-weight: 600;
            margin: 10px 0;
            transition: background 0.3s;
            width: 100%;
        }

        .toggle-all-descriptions-btn:hover {
            background: #2980b9;
        }

        .connection-arrow {
            font-size: 16px;
            margin: 0 10px;
            position: relative;
        }

        .connection-arrow-tooltip {
            visibility: hidden;
            background-color: rgba(0, 0, 0, 0.9);
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px 10px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            white-space: nowrap;
            font-size: 11px;
        }

        .connection-arrow:hover .connection-arrow-tooltip {
            visibility: visible;
        }

        .show-all-concepts-btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 11px;
            font-weight: 600;
            margin-top: 8px;
            transition: background 0.3s;
        }

        .show-all-concepts-btn:hover {
            background: #2980b9;
        }

        /* Стили для сворачиваемых секций связей */
        .connections-subsection {
            margin-top: 15px;
        }

        .subsection-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 15px;
            background: rgba(108, 92, 231, 0.15);
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.3s;
            margin-bottom: 10px;
        }

        .subsection-header:hover {
            background: rgba(108, 92, 231, 0.25);
        }

        .subsection-title {
            font-weight: 700;
            font-size: 13px;
            color: #a29bfe;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .subsection-toggle {
            font-size: 16px;
            color: #a29bfe;
            transition: transform 0.3s;
            user-select: none;
        }

        .subsection-toggle.collapsed {
            transform: rotate(-90deg);
        }

        .subsection-content {
            max-height: 2000px;
            overflow: hidden;
            transition: max-height 0.3s ease-out, opacity 0.3s ease-out;
            opacity: 1;
        }

        .subsection-content.collapsed {
            max-height: 0;
            opacity: 0;
        }

        /* Режим одинаковой толщины связей */
        .uniform-width-links .link {
            stroke-width: 2px !important;
        }

        /* Стили для режима хронологии */
        .chronology-mode-selector {
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid #dfe6e9;
        }

        .chronology-mode-selector label {
            display: block;
            font-size: 11px;
            font-weight: 700;
            color: #2d3436;
            margin-bottom: 5px;
        }

        .chronology-mode-selector select {
            width: 100%;
            padding: 6px 8px;
            border: 2px solid #dfe6e9;
            border-radius: 6px;
            font-size: 11px;
            background: white;
            cursor: pointer;
            transition: border-color 0.3s;
        }

        .chronology-mode-selector select:focus {
            outline: none;
            border-color: #e74c3c;
        }

        .chronology-info {
            margin-top: 8px;
            padding: 8px;
            background: rgba(231, 76, 60, 0.05);
            border-radius: 5px;
            font-size: 10px;
            color: #7f8c8d;
            line-height: 1.4;
        }

        .chronology-info strong {
            color: #2d3436;
        }

        /* Предупреждения об анахронизмах */
        .anachronism-warnings {
            margin-top: 10px;
            padding: 10px;
            background: rgba(255, 193, 7, 0.1);
            border-left: 3px solid #ffc107;
            border-radius: 5px;
        }

        .anachronism-warnings-title {
            font-size: 11px;
            font-weight: 700;
            color: #f39c12;
            margin-bottom: 6px;
            display: flex;
            align-items: center;
        }

        .anachronism-warnings-title::before {
            content: "⚠️";
            margin-right: 5px;
        }

        .anachronism-item {
            font-size: 10px;
            color: #856404;
            padding: 4px 0;
            line-height: 1.4;
        }

        .anachronism-item::before {
            content: "→";
            margin-right: 5px;
            color: #f39c12;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateX(-50%) translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(-50%) translateY(0);
            }
        }

        /* Поиск в панели фильтров (легенде) */
        #legendSearch {
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e0e0e0;
        }

        .legend-search-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            gap: 10px;
        }

        .legend-search-icon {
            font-size: 18px;
            color: #6c5ce7;
            flex-shrink: 0;
        }

        .legend-search-input-wrapper {
            position: relative;
            flex-grow: 1;
        }

        .legend-search-input {
            width: 100%;
            padding: 8px 30px 8px 10px;
            border: 2px solid #dfe6e9;
            border-radius: 8px;
            font-size: 12px;
            background: white;
            transition: border-color 0.3s;
        }

        .legend-search-input:focus {
            outline: none;
            border-color: #6c5ce7;
        }

        .legend-search-clear {
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            cursor: pointer;
            color: #95a5a6;
            font-size: 16px;
            display: none;
            transition: color 0.2s;
        }

        .legend-search-clear:hover {
            color: #e74c3c;
        }

        .legend-search-clear.show {
            display: block;
        }

        .search-results {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border-radius: 10px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
            max-height: 350px;
            overflow-y: auto;
            margin-top: 5px;
            display: none;
            z-index: 2000;
        }

        .search-results.show {
            display: block;
        }

        .search-result-item {
            padding: 10px 12px;
            cursor: pointer;
            transition: background 0.2s;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            align-items: center;
        }

        .search-result-item:last-child {
            border-bottom: none;
        }

        .search-result-item:hover {
            background: rgba(108, 92, 231, 0.1);
        }

        .search-result-color {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 10px;
            flex-shrink: 0;
        }

        .search-result-content {
            flex-grow: 1;
        }

        .search-result-label {
            font-size: 12px;
            color: #2d3436;
            font-weight: 600;
        }

        .search-result-philosopher {
            font-size: 10px;
            color: #7f8c8d;
            font-style: italic;
        }

        .search-no-results {
            padding: 15px;
            text-align: center;
            color: #95a5a6;
            font-size: 11px;
        }

        .search-results::-webkit-scrollbar {
            width: 6px;
        }

        .search-results::-webkit-scrollbar-track {
            background: rgba(0,0,0,0.1);
            border-radius: 10px;
        }

        .search-results::-webkit-scrollbar-thumb {
            background: #6c5ce7;
            border-radius: 10px;
        }

        /* Поиск в модальном окне - тёмная тема */
        #modalSearch {
            margin-bottom: 20px;
            position: relative;
            z-index: 2010;
            background: rgba(255, 255, 255, 0.08);
            padding: 15px;
            border-radius: 10px;
            border-left: 3px solid #a29bfe;
        }

        #modalSearch .legend-search-icon {
            color: #a29bfe;
        }

        #modalSearch .legend-search-input-wrapper {
            position: relative;
        }

        #modalSearch .legend-search-input {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #e0e0e0;
        }

        #modalSearch .legend-search-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        #modalSearch .legend-search-input:focus {
            background: rgba(255, 255, 255, 0.15);
            border-color: #a29bfe;
        }

        #modalSearch .legend-search-clear {
            color: rgba(255, 255, 255, 0.5);
        }

        #modalSearch .legend-search-clear:hover {
            color: #e74c3c;
        }

        #modalSearch .search-results {
            z-index: 2020;
            background: rgba(0, 0, 0, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        #modalSearch .search-result-item {
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        #modalSearch .search-result-item:hover {
            background: rgba(162, 155, 254, 0.2);
        }

        #modalSearch .search-result-label {
            color: #e0e0e0;
        }

        #modalSearch .search-result-philosopher {
            color: #b0b0b0;
        }

        #modalSearch .search-no-results {
            color: rgba(255, 255, 255, 0.5);
        }

        #modalSearch .search-results::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
        }

        #modalSearch .search-results::-webkit-scrollbar-thumb {
            background: #a29bfe;
        }

        /* Кастомный select с поиском для панели поиска пути */
        .custom-select-wrapper {
            position: relative;
            width: 100%;
        }

        .custom-select-input {
            width: 100%;
            padding: 8px 30px 8px 10px;
            border: 2px solid #dfe6e9;
            border-radius: 8px;
            font-size: 12px;
            background: white;
            cursor: text;
            transition: border-color 0.3s;
        }

        .custom-select-input:focus {
            outline: none;
            border-color: #e74c3c;
        }

        .custom-select-arrow {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            pointer-events: none;
            color: #7f8c8d;
            font-size: 10px;
        }

        .custom-select-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 2px solid #e74c3c;
            border-radius: 8px;
            max-height: 250px;
            overflow-y: auto;
            margin-top: 5px;
            display: none;
            z-index: 1000;
            box-shadow: 0 8px 32px rgba(0,0,0,0.2);
        }

        .custom-select-dropdown.show {
            display: block;
        }

        .custom-select-option {
            padding: 10px;
            cursor: pointer;
            transition: background 0.2s;
            border-bottom: 1px solid #f0f0f0;
        }

        .custom-select-option:last-child {
            border-bottom: none;
        }

        .custom-select-option:hover {
            background: rgba(231, 76, 60, 0.1);
        }

        .custom-select-option-label {
            font-size: 12px;
            color: #2d3436;
            font-weight: 600;
        }

        .custom-select-option-philosopher {
            font-size: 10px;
            color: #7f8c8d;
            font-style: italic;
            margin-top: 2px;
        }

        .custom-select-dropdown::-webkit-scrollbar {
            width: 6px;
        }

        .custom-select-dropdown::-webkit-scrollbar-track {
            background: rgba(0,0,0,0.1);
            border-radius: 10px;
        }

        .custom-select-dropdown::-webkit-scrollbar-thumb {
            background: #e74c3c;
            border-radius: 10px;
        }

        /* ============================================ */
        /* МОДАЛЬНОЕ ОКНО РАСШИРЕННОЙ СТАТИСТИКИ */
        /* ============================================ */

        #statsModal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.88);
            z-index: 9999;
            backdrop-filter: blur(8px);
        }

        #statsModal.active {
            display: flex;
            align-items: center;
            justify-content: center;
            animation: statsModalFadeIn 0.3s ease-out;
        }

        @keyframes statsModalFadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        .stats-modal-content {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            border-radius: 20px;
            width: 92%;
            max-width: 1600px;
            height: 90vh;
            max-height: 950px;
            box-shadow: 0 25px 70px rgba(0, 0, 0, 0.6);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            border: 2px solid rgba(108, 92, 231, 0.4);
            animation: statsModalSlideIn 0.4s ease-out;
        }

        @keyframes statsModalSlideIn {
            from {
                transform: translateY(-30px) scale(0.95);
                opacity: 0;
            }
            to {
                transform: translateY(0) scale(1);
                opacity: 1;
            }
        }

        .stats-modal-header {
            background: linear-gradient(135deg, rgba(108, 92, 231, 0.25), rgba(52, 152, 219, 0.25));
            padding: 22px 35px;
            border-bottom: 2px solid rgba(108, 92, 231, 0.4);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        .stats-modal-title-section {
            flex: 1;
        }

        .stats-modal-header h2 {
            color: #fff;
            margin: 0 0 5px 0;
            font-size: 26px;
            font-weight: 700;
            text-shadow: 0 2px 6px rgba(0, 0, 0, 0.4);
        }

        .stats-modal-subtitle {
            color: rgba(255, 255, 255, 0.7);
            font-size: 13px;
            margin: 0;
        }

        .stats-header-controls {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .stats-parameter-toggle {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 15px;
            background: rgba(255, 255, 255, 0.08);
            border-radius: 8px;
            transition: all 0.3s;
            cursor: pointer;
        }

        .stats-parameter-toggle:hover {
            background: rgba(255, 255, 255, 0.12);
        }

        .stats-parameter-toggle input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
            accent-color: #6c5ce7;
        }

        .stats-parameter-toggle label {
            color: #fff;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            user-select: none;
        }

        .stats-close-btn {
            background: rgba(231, 76, 60, 0.9);
            color: white;
            border: none;
            border-radius: 50%;
            width: 42px;
            height: 42px;
            font-size: 26px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 10px rgba(231, 76, 60, 0.3);
        }

        .stats-close-btn:hover {
            background: rgba(231, 76, 60, 1);
            transform: scale(1.12) rotate(90deg);
            box-shadow: 0 6px 15px rgba(231, 76, 60, 0.5);
        }

        .stats-modal-body {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        /* ============================================ */
        /* НАВИГАЦИОННАЯ ПАНЕЛЬ */
        /* ============================================ */

        .stats-navigation {
            width: 320px;
            background: rgba(20, 20, 40, 0.7);
            border-right: 2px solid rgba(108, 92, 231, 0.4);
            padding: 25px 20px;
            overflow-y: auto;
            overflow-x: hidden;
        }

        .stats-nav-group {
            margin-bottom: 28px;
        }

        .stats-nav-group-title {
            color: #6c5ce7;
            font-size: 12px;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 1.2px;
            margin-bottom: 14px;
            padding-bottom: 10px;
            border-bottom: 2px solid rgba(108, 92, 231, 0.4);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .stats-nav-item {
            padding: 13px 16px;
            margin: 6px 0;
            background: rgba(255, 255, 255, 0.04);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            color: rgba(255, 255, 255, 0.7);
            font-size: 13px;
            font-weight: 500;
            border-left: 3px solid transparent;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .stats-nav-item:hover {
            background: rgba(108, 92, 231, 0.25);
            border-left-color: #6c5ce7;
            color: #fff;
            transform: translateX(4px);
            box-shadow: 0 2px 8px rgba(108, 92, 231, 0.2);
        }

        .stats-nav-item.active {
            background: linear-gradient(135deg, rgba(108, 92, 231, 0.4), rgba(52, 152, 219, 0.4));
            border-left-color: #6c5ce7;
            color: #fff;
            box-shadow: 0 4px 15px rgba(108, 92, 231, 0.4);
            font-weight: 600;
        }

        .stats-nav-item-icon {
            font-size: 16px;
            min-width: 20px;
            text-align: center;
        }

        .stats-nav-item-text {
            flex: 1;
        }

        /* ============================================ */
        /* КОНТЕНТНАЯ ОБЛАСТЬ */
        /* ============================================ */

        .stats-content-area {
            flex: 1;
            padding: 35px;
            overflow-y: auto;
            background: rgba(10, 10, 25, 0.4);
        }

        .stats-content-header {
            margin-bottom: 28px;
            padding-bottom: 18px;
            border-bottom: 2px solid rgba(108, 92, 231, 0.3);
        }

        .stats-content-title {
            color: #fff;
            font-size: 24px;
            font-weight: 700;
            margin: 0 0 10px 0;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .stats-content-subtitle {
            color: rgba(255, 255, 255, 0.6);
            font-size: 13px;
            margin: 0 0 15px 0;
            line-height: 1.5;
        }

        /* Детальное описание метрики */
        .metric-description-box {
            background: linear-gradient(135deg, rgba(52, 152, 219, 0.12), rgba(108, 92, 231, 0.08));
            border-left: 4px solid #3498db;
            padding: 18px 20px;
            border-radius: 12px;
            margin-bottom: 25px;
            font-size: 12px;
            line-height: 1.7;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .metric-description-section {
            margin-bottom: 14px;
        }

        .metric-description-section:last-child {
            margin-bottom: 0;
        }

        .metric-description-label {
            font-weight: 700;
            color: #3498db;
            margin-bottom: 6px;
            display: block;
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .metric-description-text {
            color: rgba(255, 255, 255, 0.85);
            line-height: 1.6;
        }

        .metric-formula {
            background: rgba(0, 0, 0, 0.25);
            padding: 10px 14px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 11px;
            color: #e8e8e8;
            margin-top: 8px;
            border: 1px solid rgba(108, 92, 231, 0.2);
        }

        /* Кнопки управления в заголовке */
        .stats-content-actions {
            display: flex;
            gap: 12px;
            margin-top: 15px;
        }

        .stats-action-btn {
            background: linear-gradient(135deg, #6c5ce7, #3498db);
            color: white;
            border: none;
            padding: 11px 22px;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(108, 92, 231, 0.3);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .stats-action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 18px rgba(108, 92, 231, 0.45);
        }

        .stats-action-btn:active {
            transform: translateY(0);
        }

        .stats-action-btn.secondary {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
        }

        .stats-action-btn.danger {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
        }

        /* ============================================ */
        /* ОТОБРАЖЕНИЕ РЕЗУЛЬТАТОВ */
        /* ============================================ */

        /* Сетка карточек */
        .metric-results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 18px;
            margin-top: 25px;
        }

        .metric-result-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.06), rgba(255, 255, 255, 0.03));
            border-radius: 14px;
            padding: 22px;
            border: 1px solid rgba(108, 92, 231, 0.25);
            transition: all 0.3s;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .metric-result-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #6c5ce7, #3498db);
            transform: scaleX(0);
            transition: transform 0.3s;
        }

        .metric-result-card:hover {
            background: linear-gradient(135deg, rgba(108, 92, 231, 0.15), rgba(52, 152, 219, 0.1));
            border-color: rgba(108, 92, 231, 0.5);
            transform: translateY(-4px);
            box-shadow: 0 10px 25px rgba(108, 92, 231, 0.25);
        }

        .metric-result-card:hover::before {
            transform: scaleX(1);
        }

        .metric-result-rank {
            display: inline-block;
            background: linear-gradient(135deg, #6c5ce7, #3498db);
            color: white;
            padding: 5px 12px;
            border-radius: 14px;
            font-size: 11px;
            font-weight: 700;
            margin-bottom: 12px;
            letter-spacing: 0.5px;
        }

        .metric-result-name {
            color: #fff;
            font-size: 17px;
            font-weight: 600;
            margin: 12px 0;
            line-height: 1.3;
        }

        .metric-result-value {
            color: #3498db;
            font-size: 28px;
            font-weight: 700;
            margin: 10px 0;
            text-shadow: 0 2px 6px rgba(52, 152, 219, 0.3);
        }

        .metric-result-philosopher {
            color: rgba(255, 255, 255, 0.5);
            font-size: 12px;
            font-style: italic;
            margin-top: 8px;
        }

        .metric-result-details {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 12px;
        }

        .metric-result-detail-badge {
            background: rgba(108, 92, 231, 0.2);
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 10px;
            color: rgba(255, 255, 255, 0.8);
        }

        /* Таблица результатов */
        .metric-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0 10px;
            margin-top: 25px;
        }

        .metric-table-header {
            background: linear-gradient(135deg, rgba(108, 92, 231, 0.3), rgba(52, 152, 219, 0.25));
            color: #fff;
            font-weight: 700;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 0.8px;
        }

        .metric-table th {
            padding: 14px 18px;
            text-align: left;
            border: none;
        }

        .metric-table th:first-child {
            border-radius: 10px 0 0 10px;
        }

        .metric-table th:last-child {
            border-radius: 0 10px 10px 0;
        }

        .metric-table-row {
            background: rgba(255, 255, 255, 0.04);
            transition: all 0.3s;
            cursor: pointer;
        }

        .metric-table-row:hover {
            background: rgba(108, 92, 231, 0.2);
            transform: scale(1.02);
            box-shadow: 0 4px 15px rgba(108, 92, 231, 0.2);
        }

        .metric-table td {
            padding: 14px 18px;
            color: rgba(255, 255, 255, 0.85);
            font-size: 13px;
            border-top: 1px solid rgba(108, 92, 231, 0.15);
            border-bottom: 1px solid rgba(108, 92, 231, 0.15);
        }

        .metric-table-row td:first-child {
            border-left: 1px solid rgba(108, 92, 231, 0.15);
            border-radius: 10px 0 0 10px;
        }

        .metric-table-row td:last-child {
            border-right: 1px solid rgba(108, 92, 231, 0.15);
            border-radius: 0 10px 10px 0;
        }

        .metric-table-row td strong {
            color: #fff;
            font-weight: 600;
        }

        .metric-table-value {
            color: #3498db !important;
            font-weight: 700 !important;
            font-size: 15px !important;
        }

        /* ============================================ */
        /* КНОПКИ И ЭЛЕМЕНТЫ УПРАВЛЕНИЯ */
        /* ============================================ */

        .calculate-metric-btn {
            background: linear-gradient(135deg, #6c5ce7, #3498db);
            color: white;
            border: none;
            padding: 16px 32px;
            border-radius: 12px;
            font-size: 14px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 6px 20px rgba(108, 92, 231, 0.35);
            width: 100%;
            max-width: 400px;
            margin: 25px auto;
            display: block;
            text-transform: uppercase;
            letter-spacing: 0.8px;
        }

        .calculate-metric-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 28px rgba(108, 92, 231, 0.5);
        }

        .calculate-metric-btn:active {
            transform: translateY(-1px);
        }

        /* ============================================ */
        /* ИНДИКАТОР ПРОГРЕССА */
        /* ============================================ */

        .stats-progress-indicator {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, rgba(52, 152, 219, 0.15), rgba(108, 92, 231, 0.1));
            border-radius: 12px;
            padding: 25px;
            text-align: center;
            margin: 25px 0;
            border: 1px solid rgba(52, 152, 219, 0.3);
        }

        .stats-progress-text {
            color: #3498db;
            font-size: 15px;
            font-weight: 700;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .stats-progress-bar {
            width: 100%;
            height: 10px;
            background: rgba(52, 152, 219, 0.2);
            border-radius: 5px;
            overflow: hidden;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .stats-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3498db, #6c5ce7, #3498db);
            background-size: 200% 100%;
            border-radius: 5px;
            transition: width 0.3s ease;
            animation: progressShimmer 2s linear infinite;
        }

        @keyframes progressShimmer {
            0% {
                background-position: 200% 0;
            }
            100% {
                background-position: -200% 0;
            }
        }

        /* ============================================ */
        /* ПУСТОЕ СОСТОЯНИЕ */
        /* ============================================ */

        .empty-state {
            text-align: center;
            padding: 80px 30px;
            color: rgba(255, 255, 255, 0.5);
        }

        .empty-state-icon {
            font-size: 72px;
            margin-bottom: 25px;
            opacity: 0.25;
            animation: emptyStatePulse 3s ease-in-out infinite;
        }

        @keyframes emptyStatePulse {
            0%, 100% {
                transform: scale(1);
                opacity: 0.25;
            }
            50% {
                transform: scale(1.05);
                opacity: 0.35;
            }
        }

        .empty-state-text {
            font-size: 17px;
            margin-bottom: 25px;
            color: rgba(255, 255, 255, 0.6);
        }

        .empty-state-hint {
            font-size: 13px;
            color: rgba(255, 255, 255, 0.4);
            max-width: 400px;
            margin: 0 auto;
            line-height: 1.6;
        }

        /* ============================================ */
        /* СКРОЛЛБАРЫ */
        /* ============================================ */

        .stats-navigation::-webkit-scrollbar,
        .stats-content-area::-webkit-scrollbar {
            width: 10px;
        }

        .stats-navigation::-webkit-scrollbar-track,
        .stats-content-area::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 5px;
        }

        .stats-navigation::-webkit-scrollbar-thumb,
        .stats-content-area::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, #6c5ce7, #3498db);
            border-radius: 5px;
            border: 2px solid rgba(0, 0, 0, 0.3);
        }

        .stats-navigation::-webkit-scrollbar-thumb:hover,
        .stats-content-area::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(180deg, #7c6cf7, #4aa8eb);
        }

        /* ============================================ */
        /* КНОПКА В ЛЕГЕНДЕ */
        /* ============================================ */

        .open-stats-modal-btn {
            width: 100%;
            background: linear-gradient(135deg, #6c5ce7, #3498db);
            color: white;
            border: none;
            padding: 14px 22px;
            border-radius: 12px;
            font-size: 13px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 5px 18px rgba(108, 92, 231, 0.35);
            text-transform: uppercase;
            letter-spacing: 0.8px;
            margin-top: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .open-stats-modal-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 24px rgba(108, 92, 231, 0.5);
        }

        .open-stats-modal-btn:active {
            transform: translateY(-1px);
        }

        /* ============================================ */
        /* RESPONSIVE */
        /* ============================================ */

        @media (max-width: 1200px) {
            .stats-navigation {
                width: 260px;
            }
            
            .metric-results-grid {
                grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            }
        }

        @media (max-width: 900px) {
            .stats-modal-content {
                width: 96%;
                height: 95vh;
            }
            
            .stats-modal-body {
                flex-direction: column;
            }
            
            .stats-navigation {
                width: 100%;
                max-height: 220px;
                border-right: none;
                border-bottom: 2px solid rgba(108, 92, 231, 0.4);
                display: flex;
                overflow-x: auto;
                overflow-y: hidden;
                flex-wrap: nowrap;
                padding: 15px 20px;
            }
            
            .stats-nav-group {
                min-width: 200px;
                margin-right: 20px;
            }
            
            .metric-results-grid {
                grid-template-columns: 1fr;
            }
            
            .stats-header-controls {
                width: 100%;
                justify-content: flex-start;
            }
        }

        @media (max-width: 600px) {
            .stats-modal-header {
                padding: 18px 20px;
            }
            
            .stats-modal-header h2 {
                font-size: 20px;
            }
            
            .stats-content-area {
                padding: 20px;
            }
            
            .metric-results-grid {
                gap: 12px;
            }
            
            .metric-result-card {
                padding: 18px;
            }
        }

        /* ============================================ */
        /* КНОПКА РАСКРЫТИЯ ДЕТАЛЕЙ */
        /* ============================================ */

        .metric-expand-btn {
            position: absolute;
            top: 12px;
            right: 12px;
            background: linear-gradient(135deg, rgba(108, 92, 231, 0.3), rgba(52, 152, 219, 0.3));
            border: 1px solid rgba(108, 92, 231, 0.5);
            color: rgba(255, 255, 255, 0.8);
            width: 32px;
            height: 32px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            transition: all 0.3s ease;
            z-index: 10;
            padding: 0;
        }

        .metric-expand-btn:hover {
            background: linear-gradient(135deg, rgba(108, 92, 231, 0.6), rgba(52, 152, 219, 0.6));
            transform: scale(1.1);
            box-shadow: 0 4px 12px rgba(108, 92, 231, 0.4);
        }

        .metric-expand-btn:active {
            transform: scale(0.95);
        }

        .metric-expand-btn .expand-icon {
            transition: transform 0.3s ease;
            display: block;
        }

        .metric-result-card.expanded .metric-expand-btn .expand-icon {
            transform: rotate(180deg);
        }

        .metric-result-card.expanded .metric-expand-btn {
            background: linear-gradient(135deg, rgba(52, 152, 219, 0.6), rgba(46, 204, 113, 0.6));
            border-color: rgba(52, 152, 219, 0.7);
        }

        /* ============================================ */
        /* ПАНЕЛЬ ДЕТАЛЕЙ */
        /* ============================================ */

        .metric-detail-panel {
            display: none;
            margin-top: 15px;
            padding: 18px;
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.3), rgba(10, 10, 25, 0.4));
            border-radius: 10px;
            border: 1px solid rgba(108, 92, 231, 0.3);
            animation: slideDown 0.3s ease-out;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Простая панель деталей (только описание концепции) */
        .metric-detail-panel.simple-detail {
            padding: 14px;
        }

        /* Состояние развёрнутой карточки */
        .metric-result-card.expanded {
            background: linear-gradient(135deg, rgba(108, 92, 231, 0.12), rgba(52, 152, 219, 0.08));
            border-color: rgba(108, 92, 231, 0.4);
        }

        /* Карточка с деталями имеет дополнительный отступ справа для кнопки */
        .metric-result-card.has-details {
            position: relative;
            padding-right: 55px;
        }

        /* ============================================ */
        /* ОПИСАНИЕ КОНЦЕПЦИИ */
        /* ============================================ */

        .metric-concept-description {
            margin-top: 12px;
            padding: 12px;
            background: rgba(108, 92, 231, 0.1);
            border-radius: 8px;
            border-left: 3px solid #6c5ce7;
            font-size: 11px;
            color: rgba(255, 255, 255, 0.7);
            line-height: 1.6;
        }

        .metric-concept-description strong {
            color: rgba(255, 255, 255, 0.9);
            display: block;
            margin-bottom: 6px;
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .metric-concept-description p {
            margin: 0;
            line-height: 1.6;
        }

        /* ============================================ */
        /* СПЕЦИФИЧНЫЕ СТИЛИ ДЛЯ ИНДЕКСА НАПРЯЖЕНИЯ */
        /* ============================================ */

        /* Секция с шкалой напряжения */
        .tension-breakdown-section {
            margin-bottom: 16px;
            padding-bottom: 16px;
            border-bottom: 1px solid rgba(108, 92, 231, 0.15);
        }

        /* Визуальная шкала напряжения */
        .tension-breakdown-bar {
            display: flex;
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 10px;
            background: rgba(0, 0, 0, 0.4);
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.3);
        }

        .tension-segment {
            transition: all 0.3s ease;
            position: relative;
        }

        .tension-segment:hover {
            filter: brightness(1.3);
            box-shadow: 0 0 8px currentColor;
        }

        .tension-segment.tension-immanent {
            background: linear-gradient(90deg, #e74c3c, #c0392b);
        }

        .tension-segment.tension-polemical {
            background: linear-gradient(90deg, #f39c12, #e67e22);
        }

        .tension-segment.tension-dialectical {
            background: linear-gradient(90deg, #9b59b6, #8e44ad);
        }

        /* Бейджи типов напряжения */
        .tension-badges {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .tension-badge {
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 10px;
            font-weight: 600;
            border: 1px solid;
        }

        .tension-badge-immanent {
            background: rgba(231, 76, 60, 0.2);
            border-color: rgba(231, 76, 60, 0.5);
            color: #e74c3c;
        }

        .tension-badge-polemical {
            background: rgba(243, 156, 18, 0.2);
            border-color: rgba(243, 156, 18, 0.5);
            color: #f39c12;
        }

        .tension-badge-dialectical {
            background: rgba(155, 89, 182, 0.2);
            border-color: rgba(155, 89, 182, 0.5);
            color: #9b59b6;
        }

        /* Секции деталей */
        .tension-detail-section {
            margin-bottom: 16px;
            padding-bottom: 16px;
            border-bottom: 1px solid rgba(108, 92, 231, 0.15);
        }

        .tension-detail-section:last-of-type {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }

        .tension-detail-title {
            margin: 0 0 10px 0;
            font-size: 13px;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.9);
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .tension-detail-list {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .tension-detail-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 6px 10px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 6px;
            font-size: 11px;
            transition: background 0.2s ease;
        }

        .tension-detail-item:hover {
            background: rgba(108, 92, 231, 0.15);
        }

        .tension-detail-label {
            color: rgba(255, 255, 255, 0.7);
        }

        .tension-detail-value {
            color: #3498db;
            font-weight: 600;
            font-size: 12px;
        }

        /* Аналитическая секция */
        .tension-analytics-section {
            margin-top: 12px;
            padding: 12px;
            background: rgba(52, 152, 219, 0.1);
            border-radius: 8px;
            border: 1px solid rgba(52, 152, 219, 0.2);
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .tension-analytics-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 11px;
        }

        .tension-analytics-label {
            color: rgba(255, 255, 255, 0.6);
        }

        .tension-analytics-value {
            color: #3498db;
            font-weight: 600;
            font-size: 12px;
        }
        /*
        // Оптимизация GPU-рендеринга 
        .node, .link {
            will-change: transform;
        }

        // Временный класс для отключения transitions 
        .zooming .node,
        .zooming .link {
            transition: none !important;
        }
        */
    </style>
</head>
<body>
    <div id="container">
        <svg id="graph"></svg>
        
        <div id="modalOverlay"></div>
            <div id="detailModal" class="detail-modal">
                <button class="close-btn" onclick="closeDetailModal()">×</button>
                <div id="modalContent" class="modal-content"></div>
            </div>

            <div id="philosopherDetailModal" class="detail-modal">
                <button class="close-btn" onclick="closePhilosopherDetailModal()">×</button>
                <div id="philosopherModalContent" class="modal-content"></div>
            </div>

            <!-- Модальное окно для описаний связей пути -->
            <div id="pathDescriptionsModal">
                <button class="close-btn" onclick="closePathDescriptionsModal()">×</button>
                <div id="pathDescriptionsContent"></div>
            </div>
        
        <div id="legend">
            <h3>🔍 Фильтры и легенда</h3>
            
            <div id="legendSearch">
                <div class="legend-search-header">
                    <div class="legend-search-icon"></div>
                    <div class="legend-search-input-wrapper">
                        <input type="text" 
                               class="legend-search-input" 
                               id="legendSearchInput" 
                               placeholder="Поиск концепций..."
                               oninput="handleLegendSearch(this.value)"
                               onfocus="handleLegendSearch(this.value)">
                        <span class="legend-search-clear" onclick="clearLegendSearch()">×</span>
                        <div class="search-results" id="legendSearchResults"></div>
                    </div>
                </div>
            </div>

            <div class="legend-section">
                <h4>📊 Статистический анализ</h4>
                <button class="open-stats-modal-btn" onclick="openStatsModal()">
                    <span>📊</span>
                    <span>Открыть панель статистики</span>
                </button>
            </div>

            <div class="legend-section" id="visualizationControlSection" style="display: none;">
                <h4>🎨 Визуализация метрик</h4>
                <div style="background: rgba(108, 92, 231, 0.1); padding: 12px; border-radius: 8px; margin-bottom: 8px;">
                    <div style="color: #fff; font-size: 12px; margin-bottom: 8px;">
                        Активна: <strong id="currentVisualizationMetric">-</strong>
                    </div>
                    <button class="legend-button" onclick="resetNodeSizes()" style="width: 100%;">
                        🔄 Сбросить визуализацию
                    </button>
                </div>
            </div>

            <div class="legend-section">
                <h4 class="collapsible-header" onclick="toggleSection('philosophers')">
                    <span>Философы:</span>
                </h4>
                <div id="philosophers-content" class="collapsible-content">
                    <div class="filter-controls">
                        <button onclick="selectAllPhilosophers()">Все</button>
                        <button onclick="deselectAllPhilosophers()">Сбросить</button>
                    </div>
                    <div id="philosopherFilters"></div>
                </div>
            </div>
        
            <div class="legend-section">
                <h4>
                    <span>Режим фильтрации:</span>
                </h4>
                <div class="legend-item">
                    <select id="filterMode" name="filterMode" onchange="changeFilterMode(this.value)" style="font-size: 11px; width: 100%;">
                        <option value="all" selected>Только выбранные философы</option>
                        <option value="internal">Только внутренние связи</option>
                        <option value="context">С соседними узлами</option>
                        <option value="external">Только внешние связи</option>
                        <option value="cross_selected">Межфилософские связи выбранных</option>
                        <option value="chains">Связанные сети</option>
                        <option value="unique_chains">Сквозные цепочки</option>
                    </select>
                </div>
                <div style="font-size: 10px; color: #7f8c8d; margin-top: 8px; padding: 8px; background: rgba(108, 92, 231, 0.05); border-radius: 5px; line-height: 1.4;">
                    <strong>Режимы:</strong><br>
                    • <em>Только выбранные</em> - узлы систем выбранных философов и связи между выбранными философами<br>
                    • <em>Только внутренние</em> - узлы систем выбранных философов без связей с другими философами<br>
                    • <em>С соседними</em> - включая связанные узлы систем невыбранных философов<br>
                    • <em>Только внешние</em> - только узлы, связанные с другими философами, в том числе невыбранными<br>
                    • <em>Межфилософские связи выбранных</em> - только узлы выбранных философов, связанные между собой<br>
                    • <em>Связанные сети</em> - узлы выбранных философов, образующие сеть непрерывных путей друг от друга<br>
                    • <em>Сквозные цепочки</em> - непрерывные цепочки с однократным участием узла каждого философа
                </div>
            </div>

            <div class="legend-section">
                <h4>
                    <span>Отображение связей:</span>
                </h4>
                <div class="legend-item">
                    <input type="checkbox" id="uniformLinkWidth" onchange="toggleUniformLinkWidth()">
                    <label for="uniformLinkWidth" style="font-size: 11px;">
                        <span>Одинаковая толщина связей</span>
                    </label>
                </div>
            </div>
        
            <div class="legend-section">
                <h4 class="collapsible-header collapsed" onclick="toggleSection('relations')">
                    <span>Типы связей:</span>
                </h4>
                <div id="relations-content" class="collapsible-content collapsed">
                    <div class="filter-controls">
                        <button onclick="selectAllRelations()">Все</button>
                        <button onclick="deselectAllRelations()">Сбросить</button>
                    </div>
                    <div id="relationFilters"></div>
                    <div class="weight-legend">
                        <div class="weight-item">
                            <div class="weight-line weak"></div>
                            <span>Слабое влияние</span>
                        </div>
                        <div class="weight-item">
                            <div class="weight-line medium"></div>
                            <span>Среднее влияние</span>
                        </div>
                        <div class="weight-item">
                            <div class="weight-line strong"></div>
                            <span>Сильное влияние</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="legend-section">
                <h4 class="collapsible-header collapsed" onclick="toggleSection('rubrics')">
                    <span>Рубрики:</span>
                </h4>
                <div id="rubrics-content" class="collapsible-content collapsed">
                    <div class="filter-controls">
                        <button onclick="selectAllRubrics()">Все</button>
                        <button onclick="deselectAllRubrics()">Сбросить</button>
                    </div>
                    <div id="rubricFilters"></div>
                </div>
            </div>
        
            <div class="filter-stats" id="filterStats">
                Показано: все концепции и связи
            </div>
        </div>
        
        <!-- Панель поиска пути -->
        <div id="pathFinder">
            <h3>
                <span class="panel-title">🔍 Путь между концепциями</span>
                <button class="collapse-btn" onclick="togglePanel('pathFinder')" title="Свернуть/Развернуть">
                    <span class="expand-icon">−</span>
                </button>
            </h3>
            <div class="panel-content">
                <div class="path-select-group">
                    <label>От концепции:</label>
                    <div class="custom-select-wrapper">
                        <input type="text" 
                               class="custom-select-input" 
                               id="sourceSelectInput" 
                               placeholder="Начните вводить название..."
                               autocomplete="off"
                               onfocus="showCustomSelectDropdown('source')"
                               oninput="filterCustomSelect('source', this.value)">
                        <span class="custom-select-arrow">▼</span>
                        <div class="custom-select-dropdown" id="sourceSelectDropdown"></div>
                    </div>
                </div>
                <div class="path-select-group">
                    <label>К концепции:</label>
                    <div class="custom-select-wrapper">
                        <input type="text" 
                               class="custom-select-input" 
                               id="targetSelectInput" 
                               placeholder="Начните вводить название..."
                               autocomplete="off"
                               onfocus="showCustomSelectDropdown('target')"
                               oninput="filterCustomSelect('target', this.value)">
                        <span class="custom-select-arrow">▼</span>
                        <div class="custom-select-dropdown" id="targetSelectDropdown"></div>
                    </div>
                </div>
                <button id="findPathBtn" onclick="findAndShowPath()">Найти путь</button>
                
                <div style="margin-top: 10px; padding-top: 10px; border-top: 1px solid #dfe6e9;">
                    <div style="font-size: 11px; margin-bottom: 8px;">
                        <label style="display: flex; align-items: center; margin-bottom: 5px; cursor: pointer;">
                            <input type="checkbox" id="respectChronology" checked style="margin-right: 8px;">
                            <span>Учитывать хронологию</span>
                        </label>
                        <label style="display: flex; align-items: center; margin-bottom: 5px; cursor: pointer;">
                            <input type="checkbox" id="respectDirectionPath" checked style="margin-right: 8px;">
                            <span>Учитывать направленность связей</span>
                        </label>
                        <label style="display: flex; align-items: center; cursor: pointer;">
                            <input type="checkbox" id="useWeightsPath" checked style="margin-right: 8px;">
                            <span>Учитывать веса связей</span>
                        </label>
                    </div>
                    
                    <!-- Режим строгости хронологии -->
                    <div class="chronology-mode-selector" id="chronologyModeContainer">
                        <label for="chronologyModeSelect">Режим хронологии:</label>
                        <select id="chronologyModeSelect">
                            <option value="strict">Строгий (периоды активности)</option>
                            <option value="moderate">Умеренный (±50 лет)</option>
                            <option value="loose">Свободный (±100 лет)</option>
                        </select>
                        <div class="chronology-info" id="chronologyModeInfo">
                            <strong>Строгий режим:</strong> учитывает реальные периоды жизни и активности философов. Блокирует анахронизмы.
                        </div>
                    </div>
                </div>
                
                <div id="pathResult"></div>
            </div>
        </div>

        <div id="controls">
            <button onclick="resetSimulation()">🔄 Перезапустить</button>
            <button onclick="centerGraph()">🎯 Центрировать</button>
            <button id="groupBtn" onclick="toggleGrouping()">📦 Группировать</button>
            <div id="exportButtons">
                <button onclick="exportToPNG()">💾 PNG</button>
                <button onclick="exportToSVG()">💾 SVG</button>
            </div>
        </div>

        <div id="info">
            💡 Клик - подсветка • Ctrl+клик - множественный выбор • Двойной клик - детали • Перетаскивайте • Колесо - масштаб
        </div>

        <div class="tooltip" id="tooltip"></div>
    </div>

    <!-- ============================================ -->
    <!-- МОДАЛЬНОЕ ОКНО РАСШИРЕННОЙ СТАТИСТИКИ -->
    <!-- ============================================ -->
    <div id="statsModal">
        <div class="stats-modal-content">
            <!-- Заголовок -->
            <div class="stats-modal-header">
                <div class="stats-modal-title-section">
                    <h2>📊 Расширенный статистический анализ</h2>
                    <p class="stats-modal-subtitle">Полный набор метрик для историко-философского анализа сети концепций</p>
                </div>
                
                <div class="stats-header-controls">
                    <!-- Переключатель весов -->
                    <div class="stats-parameter-toggle" title="Учитывать веса связей при расчёте">
                        <input type="checkbox" id="statsUseWeightsToggle" onchange="handleStatsParameterChange()">
                        <label for="statsUseWeightsToggle">Учитывать веса</label>
                    </div>
                    
                    <!-- Переключатель направленности -->
                    <div class="stats-parameter-toggle" title="Учитывать направления связей при расчёте">
                        <input type="checkbox" id="statsRespectDirectionToggle" onchange="handleStatsParameterChange()">
                        <label for="statsRespectDirectionToggle">Учитывать направленность</label>
                    </div>
                    
                    <!-- Кнопка закрытия -->
                    <button class="stats-close-btn" onclick="closeStatsModal()" title="Закрыть (Esc)">×</button>
                </div>
            </div>
            
            <!-- Тело модального окна -->
            <div class="stats-modal-body">
                <!-- Навигационная панель слева -->
                <div class="stats-navigation">
                    <!-- Базовые метрики сети -->
                    <div class="stats-nav-group">
                        <div class="stats-nav-group-title">
                            <span>🔍</span>
                            <span>Базовые метрики</span>
                        </div>
                        <div class="stats-nav-item" onclick="switchStatsView('overview')">
                            <span class="stats-nav-item-icon">📈</span>
                            <span class="stats-nav-item-text">Общий обзор</span>
                        </div>
                        <div class="stats-nav-item" onclick="switchStatsView('degree')">
                            <span class="stats-nav-item-icon">🔗</span>
                            <span class="stats-nav-item-text">Степень связности</span>
                        </div>
                        <div class="stats-nav-item" onclick="switchStatsView('pagerank')">
                            <span class="stats-nav-item-icon">⭐</span>
                            <span class="stats-nav-item-text">PageRank</span>
                        </div>
                        <div class="stats-nav-item" onclick="switchStatsView('betweenness')">
                            <span class="stats-nav-item-icon">🌉</span>
                            <span class="stats-nav-item-text">Betweenness</span>
                        </div>
                        <div class="stats-nav-item" onclick="switchStatsView('closeness')">
                            <span class="stats-nav-item-icon">🎯</span>
                            <span class="stats-nav-item-text">Closeness</span>
                        </div>
                        <div class="stats-nav-item" onclick="switchStatsView('eigenvector')">
                            <span class="stats-nav-item-icon">🏆</span>
                            <span class="stats-nav-item-text">Eigenvector</span>
                        </div>
                        <div class="stats-nav-item" onclick="switchStatsView('weighted-clustering')">
                            <span class="stats-nav-item-icon">🕸️</span>
                            <span class="stats-nav-item-text">Взвешенная кластеризация</span>
                        </div>
                        <div class="stats-nav-item" onclick="switchStatsView('local-cohesion')">
                            <span class="stats-nav-item-icon">🔵</span>
                            <span class="stats-nav-item-text">Локальная когезия</span>
                        </div>
                        <div class="stats-nav-item" onclick="switchStatsView('rich-club')">
                            <span class="stats-nav-item-icon">👑</span>
                            <span class="stats-nav-item-text">Rich-Club</span>
                        </div>
                    </div>

                    <!-- Философские метрики проблемности и критичности -->
                    <div class="stats-nav-group">
                        <div class="stats-nav-group-title">
                            <span>⚡</span>
                            <span>Проблемность и критика</span>
                        </div>
                        <div class="stats-nav-item" onclick="switchStatsView('problem-generation')">
                            <span class="stats-nav-item-icon">💥</span>
                            <span class="stats-nav-item-text">Индекс проблемности</span>
                        </div>
                        <div class="stats-nav-item" onclick="switchStatsView('critical-power')">
                            <span class="stats-nav-item-icon">⚔️</span>
                            <span class="stats-nav-item-text">Критическая сила</span>
                        </div>
                        <div class="stats-nav-item" onclick="switchStatsView('tension')">
                            <span class="stats-nav-item-icon">⚖️</span>
                            <span class="stats-nav-item-text">Индекс напряжения</span>
                        </div>
                    </div>

                    <!-- Философские метрики революционности -->
                    <div class="stats-nav-group">
                        <div class="stats-nav-group-title">
                            <span>🔥</span>
                            <span>Революционность и новизна</span>
                        </div>
                        <div class="stats-nav-item" onclick="switchStatsView('revolutionary')">
                            <span class="stats-nav-item-icon">🌟</span>
                            <span class="stats-nav-item-text">Индекс революционности</span>
                        </div>
                        <div class="stats-nav-item" onclick="switchStatsView('paradigm-shift')">
                            <span class="stats-nav-item-icon">🌐</span>
                            <span class="stats-nav-item-text">Парадигмальный сдвиг</span>
                        </div>
                    </div>

                    <!-- Философские метрики влияния -->
                    <div class="stats-nav-group">
                        <div class="stats-nav-group-title">
                            <span>💫</span>
                            <span>Влияние и центральность</span>
                        </div>
                        <div class="stats-nav-item" onclick="switchStatsView('influence')">
                            <span class="stats-nav-item-icon">🎭</span>
                            <span class="stats-nav-item-text">Индекс влияния</span>
                        </div>
                        <div class="stats-nav-item" onclick="switchStatsView('foundational')">
                            <span class="stats-nav-item-icon">🏛️</span>
                            <span class="stats-nav-item-text">Индекс основополагания</span>
                        </div>
                    </div>

                    <!-- Философские метрики синтеза и диалога -->
                    <div class="stats-nav-group">
                        <div class="stats-nav-group-title">
                            <span>🧩</span>
                            <span>Синтез и диалог</span>
                        </div>
                        <div class="stats-nav-item" onclick="switchStatsView('synthetic')">
                            <span class="stats-nav-item-icon">🔗</span>
                            <span class="stats-nav-item-text">Индекс синтетичности</span>
                        </div>
                        <div class="stats-nav-item" onclick="switchStatsView('dialogical')">
                            <span class="stats-nav-item-icon">💬</span>
                            <span class="stats-nav-item-text">Индекс диалогичности</span>
                        </div>
                    </div>

                    <!-- Философские метрики когерентности -->
                    <div class="stats-nav-group">
                        <div class="stats-nav-group-title">
                            <span>🔮</span>
                            <span>Когерентность системы</span>
                        </div>
                        <div class="stats-nav-item" onclick="switchStatsView('coherence')">
                            <span class="stats-nav-item-icon">✨</span>
                            <span class="stats-nav-item-text">Внутренняя когерентность</span>
                        </div>
                    </div>

                    <!-- Продвинутые метрики трансформации -->
                    <div class="stats-nav-group">
                        <div class="stats-nav-group-title">
                            <span>🦋</span>
                            <span>Трансформация и развитие</span>
                        </div>
                        <div class="stats-nav-item" onclick="switchStatsView('transformation')">
                            <span class="stats-nav-item-icon">🔄</span>
                            <span class="stats-nav-item-text">Индекс трансформации</span>
                        </div>
                        <div class="stats-nav-item" onclick="switchStatsView('fertility')">
                            <span class="stats-nav-item-icon">🌱</span>
                            <span class="stats-nav-item-text">Концептуальная плодовитость</span>
                        </div>
                    </div>

                    <!-- Продвинутые метрики сложности -->
                    <div class="stats-nav-group">
                        <div class="stats-nav-group-title">
                            <span>🧠</span>
                            <span>Сложность и структура</span>
                        </div>
                        <div class="stats-nav-item" onclick="switchStatsView('complexity')">
                            <span class="stats-nav-item-icon">📊</span>
                            <span class="stats-nav-item-text">Концептуальная сложность</span>
                        </div>
                        <div class="stats-nav-item" onclick="switchStatsView('continuity')">
                            <span class="stats-nav-item-icon">📜</span>
                            <span class="stats-nav-item-text">Индекс преемственности</span>
                        </div>
                    </div>

                    <!-- Временные метрики -->
                    <div class="stats-nav-group">
                        <div class="stats-nav-group-title">
                            <span>⏳</span>
                            <span>Временная динамика</span>
                        </div>
                        <div class="stats-nav-item" onclick="switchStatsView('temporal-influence')">
                            <span class="stats-nav-item-icon">🕐</span>
                            <span class="stats-nav-item-text">Временное влияние</span>
                        </div>
                    </div>

                    <!-- Метрики философов -->
                    <div class="stats-nav-group">
                        <div class="stats-nav-group-title">
                            <span>👤</span>
                            <span>Метрики философов</span>
                        </div>
                        <div class="stats-nav-item" onclick="switchStatsView('philosopher-profile')">
                            <span class="stats-nav-item-icon">📖</span>
                            <span class="stats-nav-item-text">Профиль философа</span>
                        </div>
                        <div class="stats-nav-item" onclick="switchStatsView('philosopher-systematic')">
                            <span class="stats-nav-item-icon">📚</span>
                            <span class="stats-nav-item-text">Систематичность</span>
                        </div>
                        <div class="stats-nav-item" onclick="switchStatsView('philosopher-reach')">
                            <span class="stats-nav-item-icon">🌍</span>
                            <span class="stats-nav-item-text">Исторический охват</span>
                        </div>
                        <div class="stats-nav-item" onclick="switchStatsView('philosopher-interdisciplinary')">
                            <span class="stats-nav-item-icon">🔬</span>
                            <span class="stats-nav-item-text">Междисциплинарность</span>
                        </div>
                    </div>

                    <!-- Сравнительный анализ -->
                    <div class="stats-nav-group">
                        <div class="stats-nav-group-title">
                            <span>⚖️</span>
                            <span>Сравнительный анализ</span>
                        </div>
                        <div class="stats-nav-item" onclick="switchStatsView('concept-rankings')">
                            <span class="stats-nav-item-icon">🏅</span>
                            <span class="stats-nav-item-text">Рейтинги концепций</span>
                        </div>
                        <div class="stats-nav-item" onclick="switchStatsView('philosopher-rankings')">
                            <span class="stats-nav-item-icon">🎖️</span>
                            <span class="stats-nav-item-text">Рейтинги философов</span>
                        </div>
                    </div>
                </div>

                <!-- Контентная область справа -->
                <div class="stats-content-area" id="statsContentArea">
                    <!-- Контент будет динамически загружаться здесь -->
                    <div class="empty-state">
                        <div class="empty-state-icon">📊</div>
                        <div class="empty-state-text">Выберите метрику из меню слева</div>
                        <div class="empty-state-hint">
                            Используйте переключатели "Учитывать веса" и "Учитывать направленность" 
                            для изменения способа расчёта метрик
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="analysisProgress" class="stats-progress-indicator" style="display: none;">
            <div class="stats-progress-text" id="progressLabel">Расчёт метрики...</div>
            <div class="stats-progress-bar">
                <div class="stats-progress-fill" id="progressBar" style="width: 0%;"></div>
            </div>
            <div class="stats-progress-text" id="progressPercent">0%</div>
        </div>

    </div>

    

    <script>
        // ============================================
        // 1. ФИЛОСОФЫ (единый источник истины)
        // ============================================
        const philosophers = [
            { 
                id: "pythagoras", name: "Пифагор", nameRu: "Пифагор", color: "#8E44AD", birth: -570, death: -495, years: "570-495 до н.э.",
                description: "Пифагор Самосский — древнегреческий философ и математик, основатель пифагорейской школы, оказавший огромное влияние на развитие западной философии и науки. Он создал религиозно-философское учение, в центре которого находилась идея о числе как первоначале всего сущего и основе гармонии космоса.\n\nГлавное в философии Пифагора — учение о том, что число есть сущность всех вещей, а математические отношения определяют структуру реальности. Он открыл математические закономерности в музыкальной гармонии, что привело его к выводу о математической природе космоса. Пифагорейцы верили в переселение душ (метемпсихоз), считая душу бессмертной и способной перевоплощаться не только в человеческие, но и в животные тела. Это учение требовало этического образа жизни и аскетической практики для очищения души.\n\nПифагор создал первую в истории философскую школу-общину с строгим уставом, тайным учением и специфическим образом жизни. Его последователи делились на «акусматиков» (слушателей, знающих только предписания) и «математиков» (посвящённых в теоретическое учение). Эта организация стала прообразом многих позднейших философских и религиозных общин.\n\nВ истории философии значение Пифагора трудно переоценить: он первым назвал себя философом (любителем мудрости), ввёл понятие космоса как упорядоченного целого, заложил основы научного мышления через математизацию познания. Его идеи о гармонии, числовых отношениях и музыке сфер влияли на античную науку и философию на протяжении веков.\n\nПифагор испытал влияние египетской и вавилонской математики и религиозных учений, возможно орфизма. Его учение оказало прямое воздействие на Парменида и элейскую школу, на атомистов Левкиппа и Демокрита, особенно сильно повлияло на Платона, который развил математический подход к познанию идей. Через неоплатонизм пифагорейские идеи проникли в христианскую философию средневековья, а в Новое время вдохновляли таких мыслителей как Коперник, Кеплер и Галилей."
            },
            { 
                id: "heraclitus", name: "Гераклит", nameRu: "Гераклит", color: "#E74C3C", birth: -535, death: -475, years: "535-475 до н.э.",
                description: "Гераклит Эфесский — один из величайших древнегреческих философов-досократиков, прозванный «Тёмным» за глубину и загадочность своих изречений. Он создал диалектическое учение о всеобщей изменчивости и единстве противоположностей, ставшее одним из краеугольных камней европейской философской традиции.\n\nЦентральная идея философии Гераклита — «всё течёт, всё изменяется» (panta rhei). Он учил, что мир находится в постоянном движении и превращении, что нельзя дважды войти в одну и ту же реку. Первоначалом всего Гераклит считал огонь — наиболее подвижную и изменчивую стихию, символизирующую вечное становление. Мировой процесс он описывал как вечный круговорот: огонь превращается в воду, вода в землю, и обратно.\n\nГераклит разработал учение о логосе — универсальном мировом законе, разумном принципе, управляющем космосом. Хотя логос един и всеобщ, большинство людей живут так, словно имеют собственный разум, не понимая единства всего сущего. Важнейшее открытие Гераклита — принцип единства противоположностей: борьба есть отец всего, противоположности не исключают, а предполагают друг друга, переходят одна в другую. День и ночь, жизнь и смерть, холод и тепло — всё это моменты единого процесса.\n\nГераклит был аристократом, презиравшим толпу и демократию, что отразилось в его элитарном понимании мудрости. Он считал, что истина доступна лишь немногим, способным проникнуть за покров видимости к пониманию логоса. Его афористичный, парадоксальный стиль письма был сознательным выбором: истина должна быть добыта усилием мысли, а не получена в готовом виде.\n\nВлияние Гераклита на историю философии огромно. Его диалектика предвосхитила гегелевскую философию становления. Стоики развили его учение о логосе и космическом огне. В XIX-XX веках к Гераклиту обращались Гегель, Ницше, Хайдеггер. Идея единства противоположностей стала основой диалектического метода в немецкой классической философии и марксизме. Гераклит повлиял на всю последующую философию изменения, становления, процесса — от Платона (диалог «Кратил») до современных процессуальных философий."
            },
            { 
                id: "parmenides", name: "Парменид", nameRu: "Парменид", color: "#3498DB", birth: -515, death: -450, years: "515-450 до н.э.",
                description: "Парменид Элейский — древнегреческий философ, основатель элейской школы, создавший учение о едином неизменном бытии и тем самым заложивший фундамент европейской онтологии и логики. Его философская поэма «О природе» стала одним из важнейших текстов античной философии, определившим развитие метафизики на две с половиной тысячи лет.\n\nГлавное в философии Парменида — радикальное противопоставление истинного бытия и мнимого мира чувственных явлений. Он первым чётко сформулировал фундаментальный принцип: бытие есть, небытия нет, ибо небытие немыслимо и невыразимо. Из этого положения Парменид вывел, что истинное бытие едино, вечно, неподвижно, неизменно, непрерывно и завершено в себе (подобно шару). Множественность, движение и изменение, которые мы наблюдаем в чувственном мире, — это лишь обманчивые мнения, а не истина.\n\nПарменид различал два пути познания: путь истины (познание умом единого бытия) и путь мнения (чувственное восприятие множественного изменчивого мира). Эта дихотомия стала основой всей западной эпистемологии. Он показал, что мышление и бытие тождественны — можно мыслить только то, что есть. Это положение легло в основу рационализма: истина постигается разумом, а не чувствами.\n\nПарменид испытал влияние пифагорейцев, у которых, возможно, учился в юности, что проявилось в строгости его логических доказательств и геометрической образности. Однако он пошёл против пифагорейского учения о множественности и создал противоположную концепцию абсолютного единства.\n\nВлияние Парменида на философию колоссально. Его апории о невозможности движения и множественности были развиты его учеником Зеноном в знаменитых парадоксах. Платон посвятил ему диалог «Парменид» и развил учение об истинном умопостигаемом бытии идей, противопоставленном чувственному миру становления. Аристотель критиковал элейскую неподвижность, но сохранил различение сущности и явления. В Новое время к Парменидову противопоставлению бытия и мышления обращались рационалисты от Декарта до Гегеля. В XX веке Хайдеггер увидел в Пармениде основоположника западной метафизики бытия."
            },
            { 
                id: "socrates", name: "Сократ", nameRu: "Сократ", color: "#2ECC71", birth: -469, death: -399, years: "469-399 до н.э.",
                description: "Сократ — величайший древнегреческий философ, совершивший переворот в философии, направив её от натурфилософских вопросов о природе к этическим проблемам человека и общества. Он не оставил письменных сочинений, но через учеников (прежде всего Платона и Ксенофонта) оказал решающее влияние на всю западную философию. Казнённый афинскими демократами в 399 году до н.э., Сократ стал символом философа, верного истине до смерти.\n\nГлавное в философии Сократа — требование самопознания («познай самого себя») и убеждение, что добродетель есть знание. Он считал, что никто не делает зла сознательно — люди поступают дурно по неведению, а истинное знание о благе неизбежно ведёт к правильному поведению. Эта позиция, названная «этический интеллектуализм» или «сократический парадокс», утверждает единство знания и добродетели, теории и практики.\n\nСократ создал особый метод философствования — диалектику в форме вопросов и ответов. Его «сократический метод» включал иронию (притворное незнание, выявляющее противоречия собеседника) и майевтику («повивальное искусство» — помощь в рождении истины в душе собеседника). Через серию вопросов Сократ приводил собеседника к осознанию собственного незнания, что было первым шагом к истинному знанию. Знаменитое «я знаю, что ничего не знаю» означало превосходство сократовской мудрости над мнимым знанием софистов.\n\nСократ боролся с софистикой — движением платных учителей риторики, которые учили «делать слабое мнение сильным» и отрицали объективную истину и мораль. Против софистического релятивизма Сократ утверждал существование всеобщих понятий (универсалий) — единых определений добродетели, справедливости, мужества, которые можно познать разумом.\n\nНа Сократа повлияли софисты (против которых он полемизировал), Анаксагор с его идеей мирового разума, возможно Парменид и Гераклит. Прямое влияние Сократа огромно: он воспитал Платона, который создал на основе его учения величайшую философскую систему античности; киники (Антисфен), киренаики (Аристипп), мегарики развивали различные стороны сократовского учения. Через Платона сократовский метод и этика повлияли на всю западную философию — от стоиков и христианских мыслителей до современного критического рационализма. Образ Сократа стал архетипом философа в западной культуре."
            },
            { 
                id: "plato", name: "Платон", nameRu: "Платон", color: "#F39C12", birth: -428, death: -348, years: "428-348 до н.э.",
                description: "Платон — величайший философ античности, ученик Сократа, основатель Академии (первого высшего учебного заведения в Европе), создатель первой всеобъемлющей философской системы и один из родоначальников европейской философии. Его учение об идеях определило развитие западной метафизики, эпистемологии, этики и политической философии на два тысячелетия.\n\nВ центре философии Платона — учение об идеях (эйдосах): истинное бытие принадлежит не чувственным вещам, а вечным, неизменным, умопостигаемым сущностям — идеям. Чувственный мир — лишь несовершенное отражение, тень мира идей. Это учение объясняет, почему возможно всеобщее знание: мы познаём не изменчивые единичные вещи, а их вечные сущности. Высшая идея — идея Блага, источник бытия и познаваемости всех других идей, аналог солнца в умопостигаемом мире.\n\nПлатон развил теорию познания как припоминания (анамнесис): душа до рождения созерцала идеи, а чувственное восприятие лишь пробуждает это забытое знание. Отсюда вытекает учение о бессмертии души и её трёхчастном строении (разумная, яростная и вожделеющая части). В диалоге «Государство» Платон построил теорию идеального государства, управляемого философами-правителями, где каждое сословие выполняет свою функцию в соответствии с природной справедливостью.\n\nПлатон был первым философом, систематически использовавшим диалогическую форму письма, что позволяло показать живой процесс философствования. Его диалоги — не просто изложение доктрин, но драматические произведения, приглашающие читателя к самостоятельному размышлению. Главный герой большинства диалогов — Сократ, через которого Платон развивал собственные идеи.\n\nГлавное влияние на Платона оказал Сократ — его учитель и герой философии. От пифагорейцев Платон воспринял идею бессмертия души, математический подход к познанию и учение о гармонии. От элеатов (Парменида) — различение истинного бытия и мира явлений. Гераклита Платон критиковал за учение о всеобщей текучести, но признавал его правоту в отношении чувственного мира.\n\nВлияние Платона на мировую философию невозможно переоценить. Его прямой ученик Аристотель создал альтернативную философскую систему. Неоплатонизм (Плотин, Прокл) развил платоническую метафизику. Христианская философия усвоила платонизм через Августина. В Средние века платонизм противостоял аристотелизму. В Новое время платоновские идеи возрождались в философии Декарта, Лейбница, немецкого идеализма. Уайтхед сказал, что вся западная философия — это примечания к Платону."
            },
            { 
                id: "aristotle", name: "Аристотель", nameRu: "Аристотель", color: "#1ABC9C", birth: -384, death: -322, years: "384-322 до н.э.",
                description: "Аристотель из Стагиры — величайший философ античности, ученик Платона, воспитатель Александра Македонского, основатель перипатетической школы (Ликея) и создатель первой энциклопедической системы знаний. Он систематизировал все области знания своего времени и заложил основы логики, метафизики, этики, политики, биологии, физики и поэтики как самостоятельных наук.\n\nВ отличие от своего учителя Платона, Аристотель отверг учение о самостоятельном существовании идей, утверждая, что сущность (форма) существует не отдельно от вещей, а в самих вещах. Его метафизика строится на учении о четырёх причинах (материальной, формальной, действующей и целевой), о потенции и акте (возможности и действительности), о форме и материи. Первая философия Аристотеля исследует бытие как таковое и приходит к понятию неподвижного перводвигателя — чистой формы, мыслящей самое себя, источника всякого движения в космосе.\n\nАристотель создал формальную логику как самостоятельную науку, разработав теорию силлогизма, законы мышления, учение о категориях и определениях. Его «Органон» (собрание логических трактатов) оставался основой логики до XIX века. В этике Аристотель развил учение о добродетели как середине между крайностями и о высшем благе как созерцательной деятельности разума (теории). Его «Никомахова этика» — классический текст античной моральной философии.\n\nПолитическое учение Аристотеля основано на понимании человека как «политического животного» (zoon politikon), чья природа реализуется лишь в государстве. Он исследовал различные формы государственного устройства, классифицировал их на правильные и неправильные, защищал идею «политии» — смешанной формы правления. Аристотель провёл огромную эмпирическую работу, собрав описания 158 государственных устройств.\n\nНа Аристотеля решающее влияние оказал Платон, хотя Аристотель подверг критике платоновское учение об идеях. От досократиков он воспринял интерес к природе и эмпирическому исследованию. Медицинская традиция (его отец был врачом) повлияла на биологические и эмпирические интересы Аристотеля.\n\nВлияние Аристотеля колоссально. Его система определяла научное мышление античности и Средневековья. В исламской философии (Авиценна, Аверроэс) и христианской схоластике (Фома Аквинский) аристотелизм стал философской основой теологии. Логика Аристотеля господствовала до XIX века. В Новое время против него восстали эмпиризм и новая наука, но в XX веке интерес к Аристотелю возродился (этика добродетели, метафизика сущностей). Аристотель остаётся одним из самых влиятельных философов всех времён."
            },
            { 
                id: "plotinus", name: "Плотин", nameRu: "Плотин", color: "#9B59B6", birth: 204, death: 270, years: "204-270",
                description: "Плотин — величайший философ поздней античности, основатель неоплатонизма — последней великой философской системы древнего мира, синтезировавшей платоновскую метафизику, аристотелевскую логику и восточные мистические элементы. Его учение оказало решающее влияние на формирование христианской, исламской и иудейской теологии и философии.\n\nВ центре философии Плотина — учение о трёх ипостасях (уровнях бытия): Едином (Благе), Уме (Нусе) и Душе. Единое — абсолютно трансцендентный первопринцип, выше всякого бытия и познания, невыразимый и непостижимый. Из Единого путём эманации («излияния») происходит Ум — сфера идей и истинного бытия. Из Ума эманирует Мировая Душа, которая порождает чувственный космос. Эта иерархия бытия определила структуру средневековой метафизики.\n\nПлотин учил, что материя есть низшая ступень эманации, почти небытие, принцип зла и несовершенства. Душа человека, пав в материальный мир, стремится вернуться к своему источнику — Единому. Этот путь восхождения проходит через очищение от телесного, философское созерцание идей и, наконец, мистическое единение (экстаз) с Единым, которое Плотин испытал, по свидетельству ученика Порфирия, четыре раза за свою жизнь.\n\nФилософия Плотина сочетает строгую метафизическую систему с мистическим опытом. Он защищал платонизм от критики стоиков, эпикурейцев и гностиков, показав его способность объяснить единство и множественность, вечность и время, благо и зло. Его «Эннеады» (сочинения, изданные учеником Порфирием в 54 трактатах, разбитых на шесть групп по девять) — вершина античной метафизики.\n\nНа Плотина повлияли прежде всего Платон (которого он интерпретировал), Аристотель (особенно учение об уме-нусе), стоики (космология, учение о душе). Он учился у загадочного философа Аммония Саккаса в Александрии, где соприкоснулся с восточными религиозно-философскими традициями.\n\nВлияние Плотина огромно. Его ученик Порфирий и последующие неоплатоники (Ямвлих, Прокл) развили его систему. Через Августина неоплатонизм вошёл в христианскую теологию, определив понимание Бога, творения, души, зла. В Средние века Плотина изучали и на Востоке (Авиценна), и на Западе. В Новое время его идеи возродились в немецком идеализме (Шеллинг, Гегель). Плотин остаётся важнейшим источником западной мистической традиции."
            },
            { 
                id: "augustine", name: "Августин", nameRu: "Августин", color: "#34495E", birth: 354, death: 430, years: "354-430",
                description: "Аврелий Августин (Блаженный Августин) — величайший христианский философ и теолог поздней античности и раннего Средневековья, один из Отцов Церкви, чья мысль определила развитие западного христианства, философии и культуры на тысячелетие. Его автобиографическая «Исповедь» стала первой психологической автобиографией в европейской литературе.\n\nВ центре философии Августина — синтез христианского вероучения и платонической (неоплатонической) философии. Он утверждал примат веры над разумом: «верую, чтобы понимать» (credo ut intelligam), но при этом использовал философские аргументы для прояснения истин веры. Августин создал христианское учение о Боге как абсолютной личности, трансцендентном творце мира из ничего, противопоставив это античной идее вечного космоса.\n\nАвгустин разработал оригинальную концепцию времени: время существует только в душе человека как растяжение (distentio) между памятью (прошлое), вниманием (настоящее) и ожиданием (будущее). Вне души, в вечности Бога, времени нет. Эта теория предвосхитила феноменологию времени и субъективистские концепции времени в философии Нового времени.\n\nЕго учение о зле как отсутствии блага (privatio boni), заимствованное у неоплатоников, позволило согласовать всеблагость Бога-творца с существованием зла в мире. В полемике с Пелагием Августин развил учение о первородном грехе, благодати и предопределении, которое стало основой западной христианской антропологии. Он учил, что после грехопадения человеческая воля повреждена и спасение возможно только через божественную благодать.\n\nВ политической философии Августин создал концепцию двух градов — Града Божьего (Civitas Dei) и града земного, борющихся в истории. История человечества есть драма спасения, движение к эсхатологическому финалу. Это христианско-линейное понимание истории противостояло античной идее циклического времени.\n\nНа Августина повлияли платонизм и неоплатонизм (особенно Плотин), стоицизм, скептицизм (который он преодолел), манихейство (от которого отошёл), христианские апологеты. Решающую роль сыграли святой Амвросий и чтение апостола Павла.\n\nВлияние Августина на западную культуру неизмеримо. Он определил характер западного христианства, его понимание благодати, греха, спасения. В философии через него платонизм вошёл в Средневековье. Августинианство противостояло томизму в схоластике. В Новое время к нему обращались Декарт (cogito), Паскаль, янсенисты. В XX веке его идеи актуализировали экзистенциалисты, персоналисты, Арендт, Рикёр. Августин — один из создателей европейской интроспективной традиции, философии субъективности и истории."
            },
            { 
                id: "aquinas", name: "Фома Аквинский", nameRu: "Фома Аквинский", color: "#D35400", birth: 1225, death: 1274, years: "1225-1274",
                description: "Фома Аквинский (Фома Аквинат) — величайший философ и теолог Средневековья, доминиканский монах, создатель монументального синтеза аристотелевской философии и христианского вероучения, получившего название томизм. Его система стала официальной философией Католической Церкви и остаётся влиятельной до наших дней.\n\nВ центре философии Фомы — гармонизация веры и разума: он доказывал, что истины веры и истины разума не противоречат друг другу, поскольку происходят от одного источника — Бога. Философия (основанная на естественном разуме) и теология (основанная на откровении) — две автономные, но взаимодополняющие области знания. Некоторые истины доступны и вере, и разуму (например, существование Бога), другие — только откровению (Троица, воплощение).\n\nФома разработал пять доказательств бытия Бога (quinque viae): от движения, от производящей причины, от необходимости и случайности, от степеней совершенства, от целевой причины. Эти аргументы, основанные на аристотелевской метафизике причинности, стали классикой естественной теологии. Он учил о различии сущности и существования: в Боге они тождественны (Бог есть само Бытие), в тварях — различны (существование привходит к сущности).\n\nФома создал всеобъемлющую этическую систему, основанную на аристотелевском учении о добродетелях, но переосмысленную в христианском ключе. Высшее благо человека — созерцание Бога (beatitudo), достигаемое в загробной жизни. Он разработал учение о естественном законе как участии вечного божественного закона в разумной природе человека, что стало основой католической моральной теологии и теории естественного права.\n\nГлавное произведение Фомы — «Сумма теологии» (Summa Theologiae) — энциклопедический труд, систематически излагающий всё христианское учение в форме вопросов, возражений и ответов. Этот метод схоластической диспутации достиг у Фомы совершенства ясности и логической строгости.\n\nНа Фому решающее влияние оказал Аристотель, чьи сочинения были заново открыты в XIII веке через арабские переводы и комментарии. Фома усвоил аристотелевскую метафизику, логику, этику, но адаптировал их к христианству. Также на него повлияли неоплатонизм (через Августина и Псевдо-Дионисия), Авиценна, Аверроэс (которого он критиковал), его учитель Альберт Великий.\n\nВлияние Фомы Аквинского огромно. Томизм стал официальной доктриной Католической Церкви (особенно после энциклики Aeterni Patris 1879 года). Неотомизм в XX веке (Жильсон, Маритен) возродил его идеи. Его естественная теология влияла на философию религии. Учение о естественном праве определило католическую социальную доктрину. Даже критики Фомы (Дунс Скот, Оккам, позже протестанты и философы Нового времени) формировались в диалоге с его системой."
            },
            { 
                id: "bacon", name: "Бэкон", nameRu: "Фрэнсис Бэкон", color: "#16A085", birth: 1561, death: 1626, years: "1561-1626",
                description: "Фрэнсис Бэкон — английский философ, государственный деятель, родоначальник эмпиризма и экспериментальной науки Нового времени. Он первым систематически обосновал необходимость нового метода познания природы, основанного на опыте и индукции, противопоставив его схоластической дедукции и умозрительной натурфилософии.\n\nВ центре философии Бэкона — программа «Великого Восстановления Наук» (Instauratio Magna): радикальное обновление всей системы знания на новых основаниях. «Знание — сила» — этот афоризм Бэкона выражает новое понимание науки не как созерцания истины, а как инструмента покорения природы и улучшения человеческой жизни. Цель науки — практическая польза, власть человека над природой.\n\nБэкон разработал учение об «идолах» (idola) — систематических заблуждениях, препятствующих истинному познанию. Он выделил четыре вида идолов: идолы рода (заблуждения, свойственные человеческой природе), идолы пещеры (индивидуальные предрассудки), идолы площади (заблуждения, порождаемые неточностью языка), идолы театра (ложные философские системы и авторитеты). Очищение ума от идолов — необходимое условие истинного познания.\n\nВ противовес аристотелевской дедукции Бэкон разработал новую индуктивную логику — метод восхождения от частных наблюдений к общим законам через систематический сбор фактов, составление таблиц присутствия, отсутствия и степеней, элиминацию гипотез. Его «Новый Органон» должен был заменить аристотелевский «Органон» как инструмент научного познания.\n\nБэкон классифицировал науки по трём способностям души: история соответствует памяти, поэзия — воображению, философия — рассудку. Эта классификация повлияла на структуру «Энциклопедии» Дидро и Д'Аламбера. Хотя сам Бэкон не был выдающимся учёным-экспериментатором, его методологическая программа вдохновила развитие экспериментальной науки.\n\nНа Бэкона повлияли гуманизм Возрождения, скептицизм Монтеня (критика схоластики), практическая ориентация алхимии и магии (Парацельс), реформация с её критикой авторитета. Он восхищался изобретениями (порох, компас, книгопечатание), показавшими практическую мощь знания.\n\nВлияние Бэкона на формирование новоевропейской науки огромно. Он вдохновил создание Королевского общества в Англии и научных академий в Европе. Его индуктивный метод развивали Джон Стюарт Милль и позитивисты. Идеал науки как власти над природой определил технократическое сознание Нового времени. Критика идолов предвосхитила социологию знания. В XX веке Бэкона критиковали за наивный индуктивизм (Поппер), но его роль в становлении научного мировоззрения неоспорима."
            },
            { 
                id: "descartes", name: "Декарт", nameRu: "Декарт", color: "#C0392B", birth: 1596, death: 1650, years: "1596-1650",
                description: "Рене Декарт — французский философ, математик, физик, физиолог, основатель новоевропейского рационализма и современной философии. Его знаменитое «Cogito, ergo sum» («Мыслю, следовательно, существую») стало отправной точкой философии Нового времени, основанной на субъекте и достоверности самосознания.\n\nВ центре философии Декарта — поиск абсолютно достоверного основания знания через методическое сомнение. Отбросив всё, в чём можно усомниться (чувственный опыт, математические истины, даже существование внешнего мира), Декарт обнаружил первую несомненную истину: сам акт сомнения (мышления) доказывает существование мыслящего субъекта. Cogito стало архимедовой точкой, из которой Декарт выводил всё остальное знание: существование Бога, истинность ясных и отчётливых идей, существование материального мира.\n\nДекарт создал дуалистическую метафизику, радикально противопоставив две субстанции: мыслящую (res cogitans) и протяжённую (res extensa). Душа — чистое мышление без протяжённости, тело — чистый механизм, протяжённая материя, действующая по законам геометрии и механики. Проблема взаимодействия души и тела (психофизическая проблема) стала одной из центральных в философии Нового времени.\n\nДекарт разработал рационалистический метод познания, основанный на четырёх правилах: принимать за истинное только ясное и отчётливое; делить сложное на простое; восходить от простого к сложному; проверять полноту анализа. Он утверждал существование врождённых идей (Бога, души, математических истин), данных разуму до всякого опыта. Познание для Декарта — дедукция из самоочевидных аксиом, а не индукция из опыта.\n\nВ науке Декарт создал аналитическую геометрию, ввёл координаты, алгебраическую символику. Его механистическая физика (вихревая теория, закон сохранения количества движения) и физиология (рефлекторная дуга) оказали большое влияние, хотя позже были заменены ньютоновской механикой.\n\nНа Декарта повлияли схоластика (которую он изучал у иезуитов), скептицизм Монтеня (который он преодолевал), математика и новая механика (Галилей). Августин предвосхитил cogito, но Декарт придал ему методологическую функцию основоположения философии.\n\nВлияние Декарта колоссально. Он определил проблематику философии Нового времени: эпистемология как первая философия, субъект как основание, дуализм души и тела, проблема существования внешнего мира. Рационалисты (Спиноза, Лейбниц, Мальбранш) развивали его метод. Эмпиристы (Локк) полемизировали с врождёнными идеями. Кант синтезировал рационализм и эмпиризм. Гуссерль видел в Декарте начало трансцендентальной феноменологии. Декарт — отец современной философии субъективности."
            },
            { 
                id: "locke", name: "Локк", nameRu: "Локк", color: "#27AE60", birth: 1632, death: 1704, years: "1632-1704",
                description: "Джон Локк — английский философ, основатель эмпиризма и либерализма Нового времени, оказавший решающее влияние на философию Просвещения и политическую мысль. Его «Опыт о человеческом разумении» заложил основы эмпирической эпистемологии, а «Два трактата о правлении» — теории либеральной демократии и естественных прав человека.\n\nВ центре философии Локка — критика учения о врождённых идеях и утверждение, что весь материал знания происходит из опыта. Сознание новорождённого — «чистая доска» (tabula rasa), на которой опыт пишет свои письмена. Локк различал два источника опыта: внешний (ощущения от внешних объектов) и внутренний (рефлексия — наблюдение ума за собственными операциями). Все идеи — простые и сложные — строятся из этого эмпирического материала.\n\nЛокк разработал различение первичных и вторичных качеств: первичные (протяжённость, форма, движение, число) принадлежат самим вещам и вызывают идеи, похожие на них; вторичные (цвет, звук, вкус, запах) существуют только как наши субъективные ощущения, в самих вещах им соответствуют лишь способности вызывать эти ощущения. Это различение стало фундаментальным для новоевропейской теории познания.\n\nЛокк признавал ограниченность человеческого познания: мы не знаем реальной сущности (внутренней природы) вещей, а только их номинальную сущность (совокупность наблюдаемых свойств). Познание не может быть абсолютно достоверным, но может достигать вероятности, достаточной для практической жизни. Эта эпистемологическая скромность характерна для эмпиризма.\n\nВ политической философии Локк развил теорию естественных прав (на жизнь, свободу, собственность), договорного происхождения государства и народного суверенитета. Государство создаётся для защиты естественных прав, и если оно их нарушает, народ имеет право на сопротивление. Локк обосновал разделение властей, ограниченное правление, веротерпимость. Его идеи легли в основу либеральной демократии и повлияли на американскую Декларацию независимости.\n\nНа Локка повлияли Декарт (которого он критиковал за врождённые идеи), Гоббс (договорная теория), английская эмпирическая традиция (Бэкон), корпускулярная философия Бойля, медицина (Локк был врачом), протестантизм (религиозная терпимость).\n\nВлияние Локка огромно. Его эмпиризм развивали Беркли и Юм, критиковал Лейбниц. Французские просветители (Вольтер, Кондильяк) распространили его идеи. Кант пытался преодолеть противоположность локковского эмпиризма и рационализма. Его политическая философия вдохновила Американскую и Французскую революции, стала основой либерализма XIX-XX веков. Локк — один из создателей современной эпистемологии и политической теории."
            },
            { 
                id: "spinoza", name: "Спиноза", nameRu: "Спиноза", color: "#7F8C8D", birth: 1632, death: 1677, years: "1632-1677",
                description: "Бенедикт (Барух) Спиноза — нидерландский философ-рационалист, создатель монистической метафизической системы пантеистического типа, один из самых радикальных и последовательных мыслителей Нового времени. Отлучённый от еврейской общины за еретические взгляды, он жил скромно, зарабатывая шлифовкой линз, и создал философию, повлиявшую на всё последующее развитие европейской мысли.\n\nВ центре философии Спинозы — учение о единой субстанции, которую он отождествляет с Богом и Природой (Deus sive Natura). В противоположность картезианскому дуализму, Спиноза утверждает существование только одной субстанции — бесконечной, вечной, самопричинной. Эта субстанция имеет бесконечное множество атрибутов (из которых нам известны только два — протяжённость и мышление), а всё конечное — это модусы (проявления) единой субстанции.\n\nСпиноза построил свою систему геометрическим методом (more geometrico): из определений и аксиом дедуктивно выводятся теоремы и следствия. Его главное произведение «Этика» написано в форме математического трактата, что подчёркивает рационалистический характер его философии. Всё существующее следует с необходимостью из природы Бога-субстанции; случайности не существует, всё детерминировано.\n\nУчение Спинозы о человеке строится на понимании души и тела не как двух отдельных субстанций, но как двух аспектов (под атрибутами мышления и протяжённости) одного и того же конечного модуса. Психофизический параллелизм: порядок и связь идей те же, что порядок и связь вещей. Человеческие аффекты (страсти) Спиноза анализирует с той же геометрической необходимостью, как свойства фигур.\n\nЦель этики Спинозы — освобождение человека через познание. Страсти возникают из неадекватного (смутного) познания; истинное (адекватное) познание ведёт к свободе. Высшая форма познания — интуитивное познание, «интеллектуальная любовь к Богу» (amor Dei intellectualis), в которой индивидуальный ум созерцает себя как вечную часть бесконечного божественного ума. Свобода — это познанная необходимость.\n\nНа Спинозу повлияли Декарт (картезианский рационализм и метод), схоластика (метафизические категории), стоицизм (этика), еврейская средневековая философия (Маймонид), возможно каббала. Он радикализировал рационализм Декарта, преодолев дуализм субстанций.\n\nВлияние Спинозы было противоречивым: при жизни его называли атеистом. Однако его идеи глубоко повлияли на немецкий идеализм (Шеллинг, Гегель видели в нём предшественника), романтизм (Гёте), материализм (отождествление Бога и природы). В XX веке к Спинозе обращались структурализм (Альтюссер), Делёз. Спиноза остаётся одним из самых влиятельных метафизиков, создавшим наиболее последовательную монистическую систему западной философии."
            },
            { 
                id: "leibniz", name: "Лейбниц", nameRu: "Лейбниц", color: "#2980B9", birth: 1646, death: 1716, years: "1646-1716",
                description: "Готфрид Вильгельм Лейбниц — немецкий философ, математик, физик, юрист, дипломат, последний «универсальный гений» европейской культуры. Он создал плюралистическую метафизику монад, разработал дифференциальное и интегральное исчисление (независимо от Ньютона), заложил основы математической логики и выдвинул проект универсального языка науки.\n\nВ центре философии Лейбница — учение о монадах: реальность состоит из бесконечного множества простых, неделимых, духовных субстанций — монад. Каждая монада — это замкнутый мир, «не имеющий окон», отражающий всю вселенную со своей уникальной точки зрения. Монады не взаимодействуют физически, но находятся в предустановленной гармонии, согласованные Богом как совершенные часы.\n\nЛейбниц развил принцип достаточного основания: ничего не происходит без достаточного основания, почему это именно так, а не иначе. Вместе с принципом непротиворечия он составляет основу всякого познания. Бог создал наш мир как лучший из возможных миров (оптимизм Лейбница), выбрав его из бесконечного множества возможных по принципу максимума совершенства при минимуме средств.\n\nЛейбниц различал истины разума (необходимые, аналитические, основанные на противоречии) и истины факта (случайные, синтетические, основанные на достаточном основании). Это различение предвосхитило кантовское разделение аналитических и синтетических суждений. Он защищал учение о врождённых идеях против локковского эмпиризма: «нет ничего в разуме, чего прежде не было бы в чувствах, кроме самого разума».\n\nВ логике Лейбниц разработал идеи исчисления понятий, характеристики универсалис — универсального символического языка, в котором философские споры решались бы вычислением. Эти идеи предвосхитили математическую логику XIX-XX веков (Буль, Фреге, Рассел). В математике он ввёл понятие бесконечно малых, создал удобную нотацию дифференциального исчисления.\n\nНа Лейбница повлияли схоластика (особенно Суарес), картезианство (которое он преобразовал), платонизм, Гоббс (номинализм), Спиноза (с которым полемизировал), новая наука (механика, оптика). Его переписка с Кларком (защитником Ньютона) важна для понимания его взглядов.\n\nВлияние Лейбница огромно. Вольф систематизировал и распространил его философию в Германии, создав школьную метафизику. Кант критиковал лейбницианско-вольфовскую метафизику, но воспринял многие его идеи. В XIX веке к Лейбницу обращались идеалисты, в XX — Рассел, Уайтхед, логические позитивисты. Его логические идеи стали основой современной формальной логики. Концепция возможных миров влияет на современную модальную логику и метафизику. Лейбниц — один из создателей классической рационалистической метафизики."
            },
            { 
                id: "berkeley", name: "Беркли", nameRu: "Беркли", color: "#8E44AD", birth: 1685, death: 1753, years: "1685-1753",
                description: "Джордж Беркли — ирландский философ, англиканский епископ, создатель последовательного субъективного идеализма (имматериализма), утверждавший, что материя не существует, а реальность состоит только из духов (умов) и идей. Его парадоксальная философия оказала глубокое влияние на развитие эмпиризма и теории познания.\n\nВ центре философии Беркли — радикальная критика понятия материальной субстанции и утверждение принципа «esse est percipi» (быть — значит быть воспринимаемым). Беркли доводит локковский эмпиризм до логического конца: если всё наше знание происходит из идей (ощущений), то мы не можем знать ничего, кроме идей. Материя как субстрат, существующий вне восприятия, непознаваема и излишня — это пустая абстракция, порождающая скептицизм и атеизм.\n\nБеркли отвергает различение первичных и вторичных качеств: все качества одинаково субъективны, существуют только в восприятии. Вещь — это комплекс ощущений (идей), не имеющий материального носителя. Однако мир не исчезает, когда мы его не воспринимаем: вещи существуют постоянно, будучи воспринимаемыми бесконечным божественным умом. Бог — гарант непрерывности и упорядоченности нашего опыта.\n\nИмматериализм Беркли имел религиозную мотивацию: он стремился опровергнуть материализм и атеизм, показав, что реальность по своей природе духовна. Устранение материи устраняет почву для механистического мировоззрения. Природа — это язык, на котором Бог говорит с нами, визуальный язык, непосредственно данный нашему духу.\n\nБеркли разработал оригинальную теорию зрения, утверждая, что восприятие расстояния и пространства не дано непосредственно зрению, а является результатом ассоциации зрительных и осязательных ощущений. Зрительные идеи — это знаки осязательных идей, а не копии объектов. Эта теория повлияла на психологию восприятия.\n\nНа Беркли повлияли Локк (эмпиризм, теория познания), Мальбранш (окказионализм), христианский платонизм, схоластическая критика абстракций. Он критиковал ньютоновскую механику за использование понятий абсолютного пространства и времени, предвосхитив релятивистские идеи.\n\nВлияние Беркли значительно. Юм развил его скептические выводы, распространив критику на понятия субстанции души и причинности. Кант критиковал берклианский идеализм, но учёл его аргументы против наивного реализма. В XIX-XX веках феноменализм (Мах, Авенариус), логический позитивизм (ранний Карнап), феноменология близки берклианским темам. Берклианские парадоксы стимулировали развитие теории познания и онтологии."
            },
            { 
                id: "hume", name: "Юм", nameRu: "Юм", color: "#E67E22", birth: 1711, death: 1776, years: "1711-1776",
                description: "Дэвид Юм — шотландский философ, историк, экономист, представитель эмпиризма и скептицизма Просвещения, оказавший решающее влияние на всю последующую философию. Он довёл эмпиризм до радикальных скептических выводов, подорвав рационалистические основания метафизики, теологии и науки, и тем самым, по словам Канта, пробудил его от «догматического сна».\n\nВ центре философии Юма — критический анализ основных понятий философии и науки. Он радикализировал берклианский эмпиризм, применив принцип «нет идеи без предшествующего впечатления» ко всем понятиям. Юм показал, что многие фундаментальные понятия (причинность, субстанция, самотождественность Я) не имеют эмпирического обоснования и являются фикциями, порождёнными привычкой и воображением.\n\nЦентральная часть философии Юма — критика идеи причинности. Мы не наблюдаем необходимую связь между причиной и следствием, а только постоянное следование одного за другим. Представление о необходимой причинной связи возникает из привычки ожидать после одного события другое, постоянно за ним следовавшее. Это психологическое объяснение подрывает рационалистическую метафизику и саму возможность научного знания как познания необходимых законов.\n\nЮм отвергает понятие субстанции — как материальной, так и духовной. Я — это не неизменная субстанция-душа, а лишь «пучок или связка перцепций» (bundle of perceptions), постоянный поток меняющихся впечатлений и идей. Единство личности — иллюзия, создаваемая памятью и воображением. Этот анализ предвосхитил феноменологию сознания и современные дискуссии о личностной идентичности.\n\nВ этике Юм отстаивал сентиментализм: основа морали не разум, а чувство (сочувствие, симпатия). Разум сам по себе не может быть мотивом действия — он «раб страстей». Юм формулирует принцип: из сущего нельзя вывести должное (закон Юма), что стало основополагающим для метаэтики. В философии религии он критикует доказательства бытия Бога, особенно телеологический аргумент, и анализирует веру в чудеса.\n\nНа Юма повлияли Локк и Беркли (эмпиризм), Бейль (скептицизм), Мальбранш (окказионализм), Ньютон (метод экспериментальной науки о человеческой природе). Юм стремился создать «науку о человеческой природе» по образцу ньютоновской физики.\n\nВлияние Юма огромно. Кант пытался преодолеть его скептицизм, создав критическую философию. Шотландская школа здравого смысла (Рид) защищала здравый смысл от юмовского скептицизма. Позитивизм (Конт, Милль) развил юмовский феноменализм. Логический позитивизм (Венский кружок) видел в Юме предшественника. Аналитическая философия XX века постоянно обращается к юмовским проблемам причинности, индукции, личностной идентичности. Юм — один из самых влиятельных критических философов, поставивший проблемы, актуальные до сих пор."
            },
            { 
                id: "kant", name: "Кант", nameRu: "Кант", color: "#2C3E50", birth: 1724, death: 1804, years: "1724-1804",
                description: "Иммануил Кант — величайший философ эпохи Просвещения, основатель немецкой классической философии и критицизма, совершивший «коперниканский переворот» в философии. Его три «Критики» (чистого разума, практического разума, способности суждения) определили развитие европейской мысли на два столетия и остаются фундаментом современной философии.\n\nВ центре философии Канта — критический анализ возможностей и границ человеческого познания. Кант осуществил синтез рационализма и эмпиризма: познание начинается с опыта, но не сводится к нему. Он различал апостериорное (опытное) и априорное (доопытное) знание, аналитические (разъясняющие понятие) и синтетические (расширяющие знание) суждения. Ключевой вопрос: как возможны синтетические суждения a priori — суждения, расширяющие знание, но необходимые и всеобщие (например, математика и основоположения науки)?\n\nКантовский «коперниканский переворот»: не наше познание сообразуется с предметами, а предметы сообразуются с нашим познанием. Мы познаём вещи не такими, каковы они сами по себе (вещи-в-себе, ноумены), а такими, какими они являются нам (феномены) — через априорные формы чувственности (пространство и время) и рассудка (категории: субстанция, причинность и др.). Пространство и время — не свойства вещей, а формы нашего созерцания; категории — не свойства бытия, а формы мышления.\n\nКант показал, что традиционная метафизика (рациональная психология, космология, теология) невозможна как наука, ибо выходит за пределы возможного опыта. Он опроверг все доказательства бытия Бога. Разум, стремясь к безусловному, впадает в неразрешимые противоречия (антиномии). Метафизика возможна лишь как критика самого разума, установление границ познания.\n\nВ этике Кант создал деонтологию долга, противопоставив её утилитаризму и эвдемонизму. Моральный закон — категорический императив: «Поступай так, чтобы максима твоей воли могла стать принципом всеобщего законодательства». Мораль основана на автономии воли, свободе, достоинстве личности как самоцели. Человек принадлежит двум мирам: как феномен — царству природной необходимости, как ноумен — царству свободы и морального закона.\n\nВ «Критике способности суждения» Кант разработал теорию эстетического и телеологического суждений, показав их роль как посредников между теоретическим и практическим разумом. Прекрасное — это то, что нравится без понятия и без интереса, в свободной игре познавательных способностей.\n\nНа Канта повлияли рационализм Лейбница-Вольфа (который он изучал), скептицизм Юма (пробудивший его от догматизма), Руссо (влияние на этику), Ньютон (идеал науки), пиетизм (моральная серьёзность). Кант синтезировал все основные течения философии Нового времени.\n\nВлияние Канта неизмеримо. Он определил проблематику всей последующей философии: трансцендентальный метод, теория познания как первая философия, проблема априорного, феномены и вещи-в-себе. Немецкий идеализм (Фихте, Шеллинг, Гегель) развил и преобразовал его систему. Неокантианство XIX века возродило критическую философию. В XX веке к Канту обращались феноменология, аналитическая философия, этика, философия науки. Кант — создатель современной философской парадигмы."
            },
            { 
                id: "fichte", name: "Фихте", nameRu: "Фихте", color: "#1ABC9C", birth: 1762, death: 1814, years: "1762-1814",
                description: "Иоганн Готлиб Фихте — немецкий философ, первый представитель немецкого идеализма, радикализировавший кантовский трансцендентализм и создавший систему субъективного идеализма, основанную на принципе самополагания Я. Его «Наукоучение» (Wissenschaftslehre) стремилось вывести всю реальность из единого принципа абсолютного Я.\n\nВ центре философии Фихте — преодоление кантовского дуализма феноменов и вещей-в-себе. Фихте отвергает вещь-в-себе как непоследовательность: если вещь-в-себе непознаваема, то мы не можем ничего о ней сказать, даже утверждать её существование. Реальность должна быть выведена из единого принципа — из самополагающего Я, которое есть чистая деятельность, акт самосознания.\n\nФихте формулирует три основоположения Наукоучения: (1) Я полагает самого себя (тезис); (2) Я полагает не-Я (антитезис); (3) Я полагает в Я делимое Я и делимое не-Я (синтез). Абсолютное Я — не индивидуальное эмпирическое сознание, а трансцендентальный принцип, деятельность, которая создаёт и субъект, и объект. Не-Я (объективный мир) необходимо Я как препятствие, преодолевая которое Я осознаёт себя, развивает свою свободу.\n\nФихте создаёт философию как строгую науку, систему, выводимую из единого самоочевидного принципа дедуктивным путём. Однако первый принцип постигается не дискурсивно, а через интеллектуальную интуицию — непосредственное самосознание Я как деятельности. Эта идея станет важной для всего немецкого идеализма.\n\nЭтика Фихте активистична: человек — это то, чем он себя делает; свобода реализуется в бесконечном моральном стремлении. Долг требует преодоления эмпирического Я и утверждения чистого Я. В поздних работах Фихте развивал идею Абсолюта как божественной жизни, приближаясь к религиозной метафизике. Он разработал теорию нации и государства, идеи которой повлияли на немецкий национализм.\n\nВ «Речах к немецкой нации» (1807-1808) Фихте призывал к национальному возрождению Германии через образование и моральное совершенствование. Его философия образования подчёркивала роль воспитания в формировании свободной личности и нации.\n\nНа Фихте решающее влияние оказал Кант, систему которого он стремился завершить и освободить от противоречий. Также повлияли Спиноза (идея единой субстанции), Руссо (идеи свободы), события Французской революции (энтузиазм свободы).\n\nВлияние Фихте значительно. Он определил направление развития немецкого идеализма от субъективного к абсолютному идеализму. Шеллинг начинал как фихтеанец, затем преодолел субъективизм Фихте. Гегель критиковал фихтевское Я, но усвоил диалектический метод и идею развития духа. Романтики (Новалис, Шлегель) воодушевлялись его философией творческого Я. Идея самополагающего субъекта повлияла на феноменологию (Гуссерль) и экзистенциализм (Сартр). Фихте — создатель философии активного субъекта и самосознания."
            },
            { 
                id: "schelling", name: "Шеллинг", nameRu: "Фридрих Шеллинг", color: "#A569BD", birth: 1775, death: 1854, years: "1775-1854",
                description: "Фридрих Вильгельм Йозеф Шеллинг — немецкий философ, представитель немецкого идеализма и романтизма, создавший натурфилософию и философию тождества, преодолевший субъективизм Фихте и подготовивший почву для гегелевского абсолютного идеализма. Его мысль прошла несколько этапов развития, оказав влияние на самые разные философские направления.\n\nВ ранний период Шеллинг развивал натурфилософию — философию природы как живого целого, развивающегося организма, а не мёртвого механизма. Природа — это «видимый дух», дух в становлении, бессознательная духовная деятельность. Шеллинг преодолевает фихтевское противопоставление Я и не-Я: природа не просто полагается Я, но имеет собственную продуктивность, творческую силу. Он видит в природе диалектическое развитие от низших форм к высшим, кульминацией которого является человеческое сознание.\n\nВ период философии тождества (Identitätsphilosophie) Шеллинг утверждает абсолютное тождество субъекта и объекта, духа и природы, мышления и бытия в Абсолюте. Абсолют — это безразличие (индифференция) всех противоположностей, «ночь, в которой все кошки серы» (по иронической характеристике Гегеля). И идеальное, и реальное — два аспекта единого Абсолюта, две «потенции», развивающиеся параллельно.\n\nШеллинг создал оригинальную философию искусства: искусство — высшая форма познания Абсолюта, синтез сознательного и бессознательного, свободы и необходимости. В художественном творчестве гений бессознательно выражает то, что философия познаёт сознательно. Искусство — «орган философии», дающий интуитивное созерцание Абсолюта. Эти идеи глубоко повлияли на эстетику романтизма.\n\nВ поздний период («философия откровения») Шеллинг противопоставляет «негативной философии» (рационалистической философии сущности, развитой Гегелем) «позитивную философию» — философию существования, опирающуюся на опыт, историю, откровение. Он критикует гегелевский рационализм за неспособность объяснить иррациональность существования, зло, свободу. Эти идеи предвосхитили экзистенциализм.\n\nШеллинг развил мифологическую философию, видя в мифах не простые фантазии, а выражение глубинных метафизических истин. Его теософские идеи о свободе, зле, падении оказали влияние на русскую религиозную философию (Соловьёв, Бердяев).\n\nНа Шеллинга повлияли Кант (трансцендентализм), Фихте (у которого он учился), Спиноза (идея единой субстанции), неоплатонизм (эманация), Бёме (теософия), романтизм (Новалис), Гёте (натурфилософия). Шеллинг был другом Гегеля в молодости, позже они разошлись.\n\nВлияние Шеллинга многогранно. Его натурфилософия повлияла на романтическую науку, Гёте, Окена. Философия тождества — на Гегеля (который превзошёл учителя). Поздняя философия — на Кьеркегора (слушавшего лекции Шеллинга), экзистенциализм, персонализм. Философия мифологии — на символизм, Юнга, Кассирера. В XX веке к Шеллингу обращались Хайдеггер, Ясперс, русская философия. Шеллинг — самый многосторонний из немецких идеалистов."
            },
            { 
                id: "hegel", name: "Гегель", nameRu: "Гегель", color: "#F1C40F", birth: 1770, death: 1831, years: "1770-1831",
                description: "Георг Вильгельм Фридрих Гегель — величайший представитель немецкого классического идеализма, создатель всеобъемлющей философской системы и диалектического метода, оказавший колоссальное влияние на всю последующую философию, от марксизма до экзистенциализма и постмодернизма. Его система стремилась охватить всю реальность как развитие Абсолютного Духа.\n\nВ центре философии Гегеля — идея развития, становления, процесса. Истина — не готовый результат, а процесс: «истина есть целое», которое осуществляется через своё развитие. Гегель создал диалектику — учение о развитии через противоречие: тезис порождает антитезис, их противоречие снимается (aufheben) в синтезе, который становится новым тезисом. Противоречие — не дефект мышления, а двигатель развития реальности.\n\nГегель преодолевает кантовский дуализм феноменов и вещей-в-себе: «всё действительное разумно, всё разумное действительно». Реальность — это саморазвитие Абсолютной Идеи (Абсолютного Духа) через отчуждение в природу и возвращение к себе в человеческом духе. Философия — самопознание Абсолюта, мышление, постигающее своё собственное содержание. История — не случайность, а разумный процесс осуществления свободы.\n\nСистема Гегеля трёхчастна: (1) Логика — наука о чистой Идее, развитие категорий от бытия через сущность к понятию; (2) Философия природы — Идея в форме инобытия, отчуждения; (3) Философия духа — возвращение Идеи к себе через субъективный дух (психология), объективный дух (право, мораль, государство) и абсолютный дух (искусство, религия, философия как высшая форма самопознания Абсолюта).\n\nГегель создал грандиозную философию истории как прогресса в осознании свободы: восточный мир знал, что свободен один (деспот), греко-римский — что свободны некоторые, германский христианский мир знает, что свободны все. Всемирная история — «прогресс духа в сознании свободы». Государство — действительность нравственной идеи, воплощение объективного духа.\n\nВ «Феноменологии духа» Гегель описывает путь индивидуального сознания от чувственной достоверности через различные формы (восприятие, рассудок, самосознание, разум) к абсолютному знанию. Знаменитая диалектика господина и раба показывает, как через труд и страх смерти раб достигает самосознания и свободы.\n\nНа Гегеля повлияли все предшествующие философы, особенно Кант (которого он критиковал за абстрактность), Фихте (диалектический метод), Шеллинг (тождество противоположностей), Спиноза (субстанция), Гераклит (становление), христианство (идея развития, воплощения, троичности).\n\nВлияние Гегеля беспрецедентно. Гегельянство разделилось на правых (консервативных) и левых (радикальных). Младогегельянцы (Фейербах, Маркс) перевернули его систему, создав диалектический материализм. Кьеркегор восстал против гегелевского рационализма. В XX веке гегельянство возродилось (Бредли, Кроче, Гентиле), повлияло на марксизм (Лукач, Франкфуртская школа), феноменологию (Гуссерль учился на Гегеле), экзистенциализм (Сартр, Кожев), герменевтику (Гадамер), постструктурализм. Гегель — самый систематичный философ, создавший последнюю великую метафизическую систему."
            },
            { 
                id: "schopenhauer", name: "Шопенгауэр", nameRu: "Шопенгауэр", color: "#BDC3C7", birth: 1788, death: 1860, years: "1788-1860",
                description: "Артур Шопенгауэр — немецкий философ, создатель пессимистической метафизики воли, резкий критик гегелевского оптимизма и рационализма. Его главное произведение «Мир как воля и представление» стало одной из самых влиятельных философских работ XIX века, предвосхитив многие идеи ницшеанства, психоанализа и экзистенциализма.\n\nВ центре философии Шопенгауэра — различение мира как представления и мира как воли. Мир как представление — это мир феноменов, подчинённый кантовским формам созерцания (пространство, время) и категории причинности. Это мир видимости, «покрывало Майи», иллюзия. Но за этим покровом скрывается истинная реальность — мир как воля: слепая, бессознательная, иррациональная сила, космическая воля к жизни.\n\nШопенгауэр отождествляет кантовскую вещь-в-себе с волей, которую мы непосредственно познаём в самих себе. Воля — едина, вне времени и пространства; множественность и индивидуация — иллюзии мира как представления. Воля проявляется на разных ступенях объективации: от неорганических сил через растительную и животную жизнь к человеку. Однако воля безосновна, бесцельна, никогда не удовлетворяется — отсюда вечное страдание всего живого.\n\nФилософия Шопенгауэра глубоко пессимистична: жизнь — это страдание, ибо воля никогда не может быть удовлетворена. Удовлетворение желания даёт лишь временное облегчение, за которым следует скука или новое желание. Жизнь колеблется между страданием (неудовлетворённое желание) и скукой (отсутствие желаний). Оптимизм — это не просто заблуждение, но «поистине безбожная манера мышления».\n\nШопенгауэр указывает два пути избавления от страдания: эстетическое созерцание и аскеза. В эстетическом созерцании (особенно в музыке — непосредственном выражении воли) человек временно освобождается от служения воле, становится «чистым безвольным субъектом познания». Но полное освобождение достигается только через аскетическое отрицание воли к жизни, угашение желаний — путь, близкий к буддистской нирване.\n\nЭтика Шопенгауэра основана на сострадании: познав метафизическое единство всех существ (все — проявления единой воли), человек сострадает чужому страданию как своему. Мораль возникает не из разума или долга (Кант), а из мистической интуиции единства всего живого.\n\nНа Шопенгауэра повлияли Кант (вещь-в-себе, феноменальный мир), Платон (идеи как ступени объективации воли), индийская философия (Упанишады, буддизм — пессимизм, нирвана), Гёте (учение о цвете). Шопенгауэр презирал Гегеля и всю университетскую философию своего времени.\n\nВлияние Шопенгауэра огромно, особенно во второй половине XIX века. Ницше начинал как его ученик, затем преодолел пессимизм учителя. Вагнер черпал вдохновение в его эстетике. Фрейд признавал влияние идеи бессознательной воли. Экзистенциалисты восприняли его пессимизм и иррационализм. Идеи Шопенгауэра повлияли на Толстого, Тургенева, Томаса Манна, Пруста. Он открыл Европе индийскую философию и утвердил иррационализм как респектабельную философскую позицию."
            },
            { 
                id: "comte", name: "Конт", nameRu: "Огюст Конт", color: "#E74C3C", birth: 1798, death: 1857, years: "1798-1857",
                description: "Огюст Конт — французский философ, основатель позитивизма и социологии как науки. Он создал систему «положительной философии», отвергающей метафизику и теологию и основывающей знание исключительно на наблюдаемых фактах и научном методе. Конт стремился реорганизовать общество на научных основаниях.\n\nВ центре философии Конта — закон трёх стадий развития человеческого ума: (1) теологическая стадия — объяснение явлений действием сверхъестественных сил и божеств; (2) метафизическая стадия — объяснение через абстрактные сущности и причины; (3) позитивная (научная) стадия — описание явлений через установление постоянных отношений (законов) между наблюдаемыми фактами. Человечество и каждая наука проходят эти три стадии, двигаясь от религии через метафизику к позитивной науке.\n\nКонт утверждает, что позитивное знание должно ограничиться наблюдаемым: мы можем знать только феномены и их отношения, но не сущности и первопричины. Вопросы о природе вещей, абсолютных началах, конечных целях объявляются бессмысленными и бесплодными. Наука не объясняет, почему происходят явления, а описывает, как они происходят. Это «позитивная» установка противопоставляется «негативному» критицизму и метафизическим спекуляциям.\n\nКонт создал классификацию наук по степени общности и сложности: математика, астрономия, физика, химия, биология, социология (которую он называл «социальной физикой»). Каждая наука опирается на предыдущие, но несводима к ним. Социология — вершина иерархии, наука об обществе, призванная открыть законы социального развития и помочь рациональной реорганизации общества.\n\nВ поздний период Конт создал «религию человечества» — позитивистский культ Великого Существа (человечества как целого), с ритуалами, календарём, катехизисом. Он стремился заменить традиционную религию научной религией, сохранив социальную функцию религии (солидарность, моральное воспитание) без сверхъестественных элементов. Эта утопия оттолкнула многих его последователей.\n\nКонт разработал позитивистскую политику и мораль: общество должно управляться не политиками, а учёными и инженерами (технократия); мораль основана на альтруизме (термин введён Контом) и служении человечеству. Он защищал порядок и прогресс: «порядок и прогресс» — девиз позитивизма.\n\nНа Конта повлияли французское Просвещение (Кондорсе), Сен-Симон (у которого он был секретарём), реакция на Французскую революцию (потребность в социальном порядке), шотландские моралисты (Юм, Адам Смит), развитие естественных наук.\n\nВлияние Конта значительно. Позитивизм распространился по Европе и Латинской Америке (девиз на бразильском флаге — контовский). Джон Стюарт Милль развивал позитивистскую эпистемологию. Дюркгейм, основатель французской социологической школы, испытал влияние Конта. Логический позитивизм XX века (Венский кружок) возродил многие контовские идеи. Критика метафизики, культ науки, идея стадий развития, социология — всё это наследие Конта, определившее дух научного мировоззрения XIX-XX веков."
            },
            { 
                id: "kierkegaard", name: "Кьеркегор", nameRu: "Кьеркегор", color: "#3498DB", birth: 1813, death: 1855, years: "1813-1855",
                description: "Сёрен Кьеркегор — датский философ и религиозный мыслитель, основоположник экзистенциализма, радикальный критик гегелевской системы и официального христианства. Его философия экзистенции (существования) утверждает первенство конкретного индивида перед абстрактным понятием, страсти перед разумом, субъективной истины перед объективной системой.\n\nВ центре философии Кьеркегора — единичный, существующий индивид, заброшенный в ситуацию выбора и ответственности. Против гегелевской философии, растворяющей индивида во всеобщем, Кьеркегор утверждает: «истина — это субъективность», истина — не объективная система, а экзистенциальная вовлечённость, страстное отношение к собственному существованию. Важно не что я знаю, а как я существую, как я отношусь к истине.\n\nКьеркегор описывает три стадии жизненного пути: (1) эстетическая — жизнь в погоне за наслаждением, в моменте, завершающаяся отчаянием; (2) этическая — жизнь по всеобщему моральному закону, долгу (Кант, Гегель), но приводящая к осознанию вины и недостаточности собственных сил; (3) религиозная — «прыжок веры», абсурдное решение довериться Богу вопреки разуму. Переход между стадиями не логический, а экзистенциальный — через отчаяние и выбор.\n\nКьеркегор анализирует экзистенциальные феномены: страх (тревогу) как «головокружение свободы», отчаяние как «болезнь к смерти» (отчаяние быть собой или не быть собой), веру как парадокс и абсурд. Знаменитый анализ библейского Авраама показывает «телеологическое устранение этического»: вера требует нарушить всеобщий моральный закон (не убий) во имя абсолютного отношения к Абсолюту.\n\nКьеркегор критикует «объективное» христианство, превратившееся в культурную традицию и философскую систему. Истинное христианство — это скандал и парадокс (Богочеловек), требующий страстной субъективной веры, а не философского доказательства. Он критикует датскую государственную церковь за превращение христианства в комфортную буржуазную идеологию.\n\nКьеркегор писал под псевдонимами, каждый из которых представлял определённую экзистенциальную позицию. Это не литературный приём, а философский метод: косвенная коммуникация, побуждающая читателя к собственному выбору, а не навязывание системы. Его стиль — парадоксальный, иронический, страстный — противоположен академической философии.\n\nНа Кьеркегора повлияли Сократ (ирония, майевтика), Августин (субъективность), немецкий романтизм (Гаман, ирония), Гегель (которого он радикально критиковал), протестантизм (Лютер, вера), его собственная несчастная любовь к Регине Ольсен.\n\nВлияние Кьеркегора было отсроченным. При жизни он был мало известен за пределами Дании. В XX веке его открыли экзистенциалисты: Хайдеггер (анализ страха, бытие-к-смерти), Ясперс (пограничные ситуации), Сартр (свобода, выбор, тревога), Камю (абсурд). Его диалогическая философия повлияла на Бубера, Левинаса. Религиозные экзистенциалисты (Бердяев, Шестов, Тиллих, Марсель) развивали его идеи веры и абсурда. Кьеркегор — отец экзистенциализма и философии субъективности."
            },
            { 
                id: "marx", name: "Маркс", nameRu: "Маркс", color: "#2ECC71", birth: 1818, death: 1883, years: "1818-1883",
                description: "Карл Маркс — немецкий философ, экономист, социолог, создатель исторического материализма и научного коммунизма, оказавший колоссальное влияние не только на философию, но и на политическую практику XX века. Его учение легло в основу марксизма — одной из самых влиятельных идеологий современности.\n\nВ центре философии Маркса — материалистическое переосмысление гегелевской диалектики: «переворачивание Гегеля с головы на ноги». Не идея определяет материальную жизнь, а материальные условия определяют сознание. Исторический материализм утверждает, что развитие общества определяется развитием производительных сил, а не идей. Экономический базис (способ производства) определяет политическую и идеологическую надстройку.\n\nМаркс разработал учение о общественно-экономических формациях — стадиях развития общества (первобытная, рабовладельческая, феодальная, капиталистическая, коммунистическая), сменяющих друг друга в результате революций, вызванных противоречием между производительными силами и производственными отношениями. История — это история классовой борьбы, двигатель социального прогресса.\n\nВ «Капитале» Маркс создал экономическую теорию капитализма, основанную на трудовой теории стоимости. Он показал механизм эксплуатации при капитализме: прибавочная стоимость создаётся трудом рабочих, но присваивается капиталистами. Капитализм содержит внутренние противоречия (падение нормы прибыли, кризисы перепроизводства), которые приведут к его неизбежному крушению и замене коммунизмом.\n\nМаркс развил теорию отчуждения (особенно в ранних работах): при капитализме рабочий отчуждён от продукта своего труда, от самого процесса труда, от своей родовой сущности, от других людей. Труд превращается из самореализации в средство выживания. Коммунизм должен преодолеть отчуждение, вернув человеку целостность.\n\nМаркс критиковал предшествующую философию как созерцательную: «Философы лишь различным образом объясняли мир, но дело заключается в том, чтобы изменить его». Его философия праксиса (практики) соединяет теорию и революционное действие. Познание неотделимо от практического преобразования мира, истина проверяется практикой.\n\nМаркс разработал учение об идеологии как ложном сознании, отражающем интересы господствующего класса и скрывающем реальные отношения эксплуатации. Религия — «опиум народа», иллюзорное утешение угнетённых. Преодоление идеологии возможно только через критику и революционную практику.\n\nНа Маркса повлияли Гегель (диалектика, история как процесс), Фейербах (материализм, критика религии), французские социалисты (Сен-Симон, Фурье), английская политэкономия (Смит, Рикардо), младогегельянцы (Бауэр), его товарищ и соавтор Фридрих Энгельс.\n\nВлияние Маркса беспрецедентно. Марксизм стал идеологией революционных движений и государств XX века (СССР, Китай, Куба). Ленин, Мао, Грамши, Лукач, Франкфуртская школа развивали марксистскую теорию. Марксистская социология, экономика, история доминировали в XX веке. Структурализм (Альтюссер) возрождал «научного» Маркса. Постмарксизм (Лаклау, Жижек) адаптирует марксизм к современности. Даже критики Маркса формируются в диалоге с ним. Маркс — самый влиятельный социальный мыслитель, изменивший мир."
            },
            { 
                id: "dilthey", name: "Дильтей", nameRu: "Вильгельм Дильтей", color: "#E8DAEF", birth: 1833, death: 1911, years: "1833-1911",
                description: "Вильгельм Дильтей — немецкий философ, историк, психолог, основатель философии жизни и герменевтики, создавший методологию «наук о духе» в противовес естественнонаучной методологии. Он стремился обосновать автономию гуманитарного познания, показав специфику понимания в отличие от объяснения.\n\nВ центре философии Дильтея — различение наук о природе (Naturwissenschaften) и наук о духе (Geisteswissenschaften). Естественные науки стремятся объяснять (erklären) явления, устанавливая причинные законы; науки о духе (гуманитарные науки: история, филология, искусствоведение) стремятся понимать (verstehen) смысл человеческих проявлений. Понимание — не подведение под общий закон, а проникновение в уникальную целостность индивидуального переживания.\n\nДильтей разработал философию жизни: жизнь — это первичная реальность, поток переживаний, предшествующий любым теоретическим конструкциям. Жизнь постигается не через абстрактное мышление, а через непосредственное переживание и понимание. «Природу мы объясняем, душевную жизнь мы понимаем». Понимание основано на способности вчувствоваться в чужую душевную жизнь, воспроизвести её переживания.\n\nЦентральное понятие Дильтея — переживание (Erlebnis): непосредственная данность жизни в сознании, целостный опыт, в котором субъект и объект ещё не разделены. Переживание структурировано смыслом, оно всегда уже осмысленно. Задача понимания — реконструировать смысл переживаний других людей, запечатлённый в текстах, произведениях искусства, исторических событиях.\n\nДильтей создал герменевтику как методологию понимания: понимание движется в герменевтическом круге от части к целому и обратно. Чтобы понять текст, нужно понять его части, но чтобы понять части, нужно предварительное понимание целого. Понимание — не психологическое вчувствование (как у романтиков), а реконструкция объективного смысла, запечатлённого в культурных объективациях.\n\nДильтей разработал типологию мировоззрений (натурализм, идеализм свободы, объективный идеализм), показав, что философские системы коренятся в различных жизненных установках. Это привело к проблеме историзма и релятивизма: если всё исторически обусловлено, возможна ли объективная истина? Дильтей пытался преодолеть релятивизм через идею объективного духа.\n\nНа Дильтея повлияли немецкий идеализм (Гегель — объективный дух), романтическая герменевтика (Шлейермахер), неокантианство (различение наук), историческая школа, Конт (позитивизм, против которого он полемизировал), философия жизни (Ницше).\n\nВлияние Дильтея значительно. Его различение объяснения и понимания стало фундаментальным для методологии гуманитарных наук. Вебер развил метод понимающей социологии. Хайдеггер преобразовал дильтеевскую герменевтику в онтологию понимания. Гадамер создал философскую герменевтику на основе Дильтея и Хайдеггера. Рикёр синтезировал герменевтику и феноменологию. Дильтей — основатель современной герменевтики и философии гуманитарного познания."
            },
            { 
                id: "brentano", name: "Брентано", nameRu: "Франц Брентано", color: "#D7BDE2", birth: 1838, death: 1917, years: "1838-1917",
                description: "Франц Брентано — австрийский философ и психолог, основатель дескриптивной психологии и теории интенциональности, оказавший решающее влияние на феноменологию и аналитическую философию сознания. Он возродил схоластическое понятие интенциональности и превратил его в ключевую характеристику психических феноменов.\n\nВ центре философии Брентано — различение психических и физических феноменов по критерию интенциональности. Психические акты (восприятие, мышление, желание, эмоция) всегда направлены на объект, содержат в себе предмет (интенциональный объект): восприятие всегда есть восприятие чего-то, мышление — мышление о чём-то. Физические феномены (цвет, звук, протяжённость) не обладают этой направленностью. Интенциональность — сущностная черта сознания.\n\nБрентано создал дескриптивную психологию как строгую науку, основанную на внутреннем восприятии (не интроспекции в обычном смысле, а непосредственной данности психических актов). Он стремился сделать психологию точной наукой, описывающей структуру сознания. Психические феномены классифицируются на три основных класса: представления, суждения и феномены любви-ненависти (эмоции, желания).\n\nБрентано развил теорию суждения, отличную от традиционной логики: суждение — это не связь понятий (субъекта и предиката), а утверждение или отрицание предмета. Суждение «Бог существует» — это не приписывание предиката «существование» субъекту «Бог», а утверждение предмета «Бог». Эта теория повлияла на Майнонга и австрийскую философию.\n\nВ этике Брентано защищал объективизм: ценности не субъективны, существуют объективно правильные эмоциональные отношения к вещам (правильная любовь и ненависть). Добро — это то, что достойно правильной любви. Эта теория ценностей повлияла на феноменологическую этику (Шелер) и Мура.\n\nБрентано защищал реизм (от лат. res — вещь): единственная онтологическая категория — конкретная вещь (субстанция); абстрактные сущности (свойства, отношения) — лингвистические фикции. В поздней философии он развивал номинализм и критику мейнонговских несуществующих предметов.\n\nНа Брентано повлияли Аристотель (которого он изучал), схоластика (откуда он взял понятие интенциональности), Конт (идеал научной философии), британский эмпиризм (Милль, Бэйн — психология как наука).\n\nВлияние Брентано огромно. Его ученики создали важнейшие направления XX века: Гуссерль (феноменология), Майнонг (теория предметов), Штумпф (психология), Марти (философия языка), Твардовский (Львовско-Варшавская школа). Интенциональность стала центральным понятием феноменологии и философии сознания. Его теория суждения повлияла на Фреге и Рассела. Брентано — ключевая фигура перехода от немецкого идеализма к феноменологии и аналитической философии."
            },
            { 
                id: "nietzsche", name: "Ницше", nameRu: "Ницше", color: "#9B59B6", birth: 1844, death: 1900, years: "1844-1900",
                description: "Фридрих Ницше — немецкий философ, филолог-классик, поэт, радикальный критик западной метафизики, морали и культуры, провозгласивший «смерть Бога», создавший учение о воле к власти, сверхчеловеке и вечном возвращении. Его афористический, пророческий стиль и радикальные идеи оказали огромное влияние на философию, литературу и культуру XX века.\n\nВ центре философии Ницше — радикальная критика всей европейской цивилизации, основанной на христианстве, платонизме, рационализме. Он провозглашает «переоценку всех ценностей»: традиционные ценности (истина, добро, милосердие) должны быть подвергнуты критике и отброшены как продукты декаданса, упадка жизни. «Бог умер» — не атеистический тезис, а диагноз культуры: христианские ценности больше не имеют силы, но человечество ещё не осознало последствий.\n\nНицше создал генеалогический метод: исследование происхождения ценностей вместо вопроса об их истинности. В «Генеалогии морали» он показывает, как христианская мораль возникла из «восстания рабов в морали»: слабые, не способные к активной жизни, переоценили ценности сильных (гордость, власть, красоту) как зло, а свои качества (смирение, сострадание, слабость) — как добро. Мораль — орудие слабых против сильных.\n\nЦентральное понятие Ницше — воля к власти: фундаментальный принцип реальности, присущий всему живому. Жизнь — это стремление к расширению власти, самоутверждению, превосходству. Воля к власти — не только биологический, но и метафизический принцип. Против шопенгауэровского пессимизма Ницше утверждает жизнь в её полноте, включая страдание.\n\nНицше создал образ сверхчеловека (Übermensch) — идеал будущего человека, преодолевшего себя, создавшего собственные ценности, утверждающего жизнь. Сверхчеловек — не биологический тип, а символ творческого самопреодоления, «смысл земли». «Заратустра» Ницше — поэтическое провозглашение сверхчеловека и критика «последнего человека» — массового, посредственного типа современности.\n\nУчение о вечном возвращении: всё, что происходит, будет повторяться бесконечное число раз. Это не космологическая теория, а экзистенциальный тест: можешь ли ты утвердить свою жизнь так, чтобы желать её вечного повторения? Это высшая форма жизнеутверждения (amor fati — любовь к судьбе).\n\nНицше развил концепцию «перспективизма»: нет абсолютной истины, есть только множество перспектив, интерпретаций, обусловленных волей к власти. Познание не отражение реальности, а её интерпретация в интересах жизни. Это предвосхитило постмодернистский релятивизм.\n\nНа Ницше повлияли Шопенгауэр (философия воли, от которой он отошёл), досократики (Гераклит — становление, борьба), Вагнер (от которого он отрёкся), французские моралисты (Ларошфуко), Стендаль, дарвинизм (борьба за существование).\n\nВлияние Ницше огромно и противоречиво. Экзистенциалисты (Ясперс, Хайдеггер, Камю, Сартр) развивали его темы. Постструктурализм (Фуко, Деррида, Делёз) воспринял генеалогию и критику метафизики. Его идеи использовали и искажали нацисты. Влияние на литературу (Гессе, Томас Манн, Шоу), психологию (Фрейд, Юнг, Адлер), культурологию неизмеримо. Ницше — самый радикальный критик западной традиции, «философ с молотом», определивший проблематику современности."
            },
            { 
                id: "frege", name: "Фреге", nameRu: "Готлоб Фреге", color: "#F39C12", birth: 1848, death: 1925, years: "1848-1925",
                description: "Готлоб Фреге — немецкий логик, математик, философ, основатель современной математической логики и философии языка, создавший логицизм — программу сведения математики к логике. Его революционные идеи, непризнанные при жизни, стали фундаментом аналитической философии XX века.\n\nВ центре философии Фреге — создание формальной логики, способной выразить всю математику. Он разработал исчисление предикатов (логику первого порядка), включая кванторы (для всех, существует), функции и переменные. Это был революционный прорыв, превосходящий традиционную аристотелевскую силлогистику и создавший инструмент для точного анализа языка и математических доказательств.\n\nФреге разработал семантическую теорию, различающую смысл (Sinn) и значение (Bedeutung) выражений. «Утренняя звезда» и «вечерняя звезда» имеют одно значение (планета Венера), но разный смысл (способ данности объекта). Это различение позволило решить проблему информативности тождественных высказываний («а = а» тривиально, «а = b» информативно) и стало фундаментальным для философии языка.\n\nФреге создал теорию значения, основанную на принципе контекстуальности: значение слова определяется его употреблением в предложении, значение предложения (мысль) — его вкладом в условия истинности. Он различал насыщенные выражения (имена) и ненасыщенные (предикаты, функции), требующие дополнения. Предложение анализируется как функция, аргументами которой являются имена.\n\nФреге защищал платонизм в отношении логических и математических объектов: числа, множества, истинностные значения существуют объективно, независимо от человеческого мышления. Логические законы — не законы мышления (психологизм), а объективные законы истины. Его критика психологизма в логике оказала огромное влияние на Гуссерля.\n\nПрограмма логицизма Фреге — сведение арифметики к чистой логике — потерпела крах, когда Рассел обнаружил противоречие в его системе (парадокс Рассела). Это было личной трагедией Фреге, подорвавшей работу всей жизни. Однако его логические и семантические идеи пережили крушение логицизма.\n\nНа Фреге повлияли Лейбниц (идея универсального языка), Кант (априорное знание), математика XIX века (потребность в строгом обосновании), критика психологизма. Он работал относительно изолированно, не зная о параллельных разработках Пирса.\n\nВлияние Фреге стало очевидным только в XX веке. Рассел, Витгенштейн, Карнап, Куайн опирались на его логику и семантику. Его различение смысла и значения стало основой философии языка. Логика Фреге — фундамент современной формальной логики. Критика психологизма повлияла на феноменологию (Гуссерль). Фреге — отец аналитической философии и современной логики, один из самых влиятельных философов, признанный посмертно."
            },
            { 
                id: "meinong", name: "Мейнонг", nameRu: "Алексиус Мейнонг", color: "#5DADE2", birth: 1853, death: 1920, years: "1853-1920",
                description: "Алексиус Мейнонг — австрийский философ, ученик Брентано, создатель теории предметов (Gegenstandstheorie) и оригинальной онтологии, допускающей существование несуществующих объектов. Его парадоксальные идеи о золотой горе и круглом квадрате стимулировали развитие логики, онтологии и философии языка XX века.\n\nВ центре философии Мейнонга — различение существования и бытия (subsistence). Предмет мысли не обязательно должен существовать реально, чтобы быть объектом интенционального акта. Когда мы мыслим о золотой горе или круглом квадрате, эти объекты не существуют, но они суть нечто, обладают бытием как объекты мысли. Мейнонг утверждает: «Есть объекты, о которых справедливо, что таких объектов нет».\n\nМейнонг создал теорию предметов как общую науку об объектах любого рода — существующих, возможных, невозможных. Он различал полное (реальное существование в пространстве-времени), неполное (существование идеальных объектов: числа, отношения) бытие и внебытие (Aussersein) чистых предметов. Предмет может обладать свойствами (золотая гора золотая), не существуя.\n\nМейнонг развил теорию ценности и желания: желание направлено на несуществующее положение дел (которое мы хотим осуществить). Ценность — объективное свойство объектов, познаваемое через эмоции. Его ученик Эренфельс развил эту теорию, повлияв на феноменологию ценностей (Шелер).\n\nМейнонг различал объекты высшего порядка (гештальты, целостности) и объекты низшего порядка (элементы). Мелодия — объект высшего порядка, не сводимый к сумме звуков. Эта идея повлияла на гештальтпсихологию и холизм.\n\nТеория Мейнонга породила знаменитые возражения Рассела: принятие несуществующих объектов приводит к противоречиям (существующий круглый квадрат был бы круглым и квадратным, что невозможно). Рассел разработал теорию дескрипций частично как ответ Мейнонгу, показав, как анализировать предложения о несуществующих объектах без постулирования их бытия.\n\nНа Мейнонга повлияли Брентано (интенциональность, учителем которого он был), Больцано (объективные представления), английский эмпиризм (Юм — теория отношений), Гербарт (психология).\n\nВлияние Мейнонга противоречиво. Рассел критиковал его, но мейнонговские проблемы стимулировали развитие логики и философии языка. В XX веке интерес к Мейнонгу возродился: философы возможных миров (Крипке), философы вымысла, сторонники свободной логики частично реабилитировали его идеи. Парсонс, Рутли, Прист развивали неомейнонгианские теории. Мейнонг поставил фундаментальные проблемы референции, существования, интенциональности, актуальные до сих пор."
            },
            { 
                id: "freud", name: "Фрейд", nameRu: "Зигмунд Фрейд", color: "#E59866", birth: 1856, death: 1939, years: "1856-1939",
                description: "Зигмунд Фрейд — австрийский врач, невролог, создатель психоанализа — революционной теории психики и метода лечения, изменивших понимание человека в XX веке. Хотя Фрейд не был философом в традиционном смысле, его идеи глубочайшим образом повлияли на философию, культуру, искусство, став неотъемлемой частью современного мировоззрения.\n\nВ центре учения Фрейда — открытие бессознательного как фундаментального уровня психики, определяющего сознательную жизнь. Психика состоит из трёх инстанций: Оно (Id) — бессознательные влечения, прежде всего сексуальные (либидо) и агрессивные; Я (Ego) — сознательная часть, принцип реальности; Сверх-Я (Super-Ego) — интериоризованные социальные нормы, совесть, идеалы. Психическая жизнь — результат конфликта между этими инстанциями.\n\nФрейд показал, что наше сознательное Я не хозяин в собственном доме: большая часть психических процессов бессознательна, сознание — лишь верхушка айсберга. Это было третьим великим ударом по человеческому нарциссизму (после Коперника, показавшего, что Земля не центр, и Дарвина, показавшего животное происхождение человека). Человек не прозрачен для самого себя, его мотивы скрыты от сознания.\n\nЦентральное понятие психоанализа — вытеснение: неприемлемые для сознания желания (особенно сексуальные) вытесняются в бессознательное, откуда воздействуют на поведение, проявляясь в сновидениях, оговорках, симптомах неврозов. Фрейд создал метод анализа сновидений как «королевской дороги к бессознательному»: сновидение — замаскированное исполнение вытесненного желания.\n\nФрейд развил теорию психосексуального развития: личность формируется в детстве через стадии (оральная, анальная, фаллическая), центральным событием является Эдипов комплекс — бессознательное сексуальное влечение ребёнка к родителю противоположного пола. Разрешение или неразрешение этих конфликтов определяет структуру личности и возможные неврозы.\n\nВ поздних работах Фрейд разработал теорию влечений: борьба Эроса (влечения к жизни, объединению) и Танатоса (влечения к смерти, разрушению) — фундаментальный принцип психики. Он применил психоанализ к культуре: религия — коллективный невроз, искусство — сублимация влечений, цивилизация требует подавления инстинктов, что порождает недовольство.\n\nФрейд создал метод психоаналитической терапии: через свободные ассоциации, анализ сновидений, интерпретацию переноса бессознательное делается осознанным, что приводит к исцелению. «Где было Оно, там должно стать Я».\n\nНа Фрейда повлияли романтическая философия бессознательного (Шеллинг, Шопенгауэр, Ницше), позитивизм (идеал науки), дарвинизм, невропатология (Шарко), античная трагедия (Софокл).\n\nВлияние Фрейда колоссально. Психоанализ породил множество школ (Юнг, Адлер, Кляйн, Винникотт, Лакан). Его идеи повлияли на экзистенциализм (Сартр), феноменологию (Мерло-Понти), франкфуртскую школу (Фромм, Маркузе), структурализм (Леви-Стросс), постструктурализм (Деррида, Делёз). Сюрреализм воспринял психоанализ. Понятия бессознательного, вытеснения, комплекса, Эдипа стали частью культурного языка. Фрейд — создатель «герменевтики подозрения», изменивший понимание человека."
            },
            { 
                id: "dewey", name: "Дьюи", nameRu: "Джон Дьюи", color: "#16A085", birth: 1859, death: 1952, years: "1859-1952",
                description: "Джон Дьюи — американский философ, психолог, педагог, ведущий представитель прагматизма и инструментализма, оказавший огромное влияние на американскую философию, образование и демократическую теорию. Его философия опыта и экспериментального исследования определила характер американской мысли XX века.\n\nВ центре философии Дьюи — идея опыта как взаимодействия организма со средой. Опыт — не пассивное созерцание, а активная практика, включающая действие и претерпевание последствий. Познание возникает из проблемных ситуаций: когда привычное действие нарушается, возникает исследование (inquiry) для восстановления равновесия. Мышление — инструмент решения практических проблем.\n\nДьюи развил инструментализм — версию прагматизма: идеи, теории, понятия — инструменты для решения проблем, а не копии реальности. Истина — не соответствие фактам, а успешность идеи в руководстве действием. Знание проверяется практикой, экспериментом. Дьюи натурализирует эпистемологию: познание — естественный биологический процесс адаптации.\n\nДьюи критиковал традиционную философию за дуализмы: субъект-объект, теория-практика, разум-чувство, цель-средство, знание-действие. Эти дуализмы проистекают из ложного понимания опыта и познания. Реальность — не готовая данность, а процесс, в котором организм и среда взаимодействуют и изменяют друг друга.\n\nДьюи создал влиятельную теорию образования: обучение должно исходить из опыта ребёнка, включать практическую деятельность, развивать критическое мышление и способность к исследованию. Образование — не передача готовых знаний, а развитие способности решать проблемы. Школа — лаборатория демократии, где дети учатся сотрудничеству и активной гражданственности.\n\nВ политической философии Дьюи защищал демократию не просто как форму правления, а как образ жизни, основанный на сотрудничестве, коммуникации, участии. Демократия требует образованных, критически мыслящих граждан. Он критиковал экономический либерализм, защищал «новый либерализм», требующий активной роли государства в обеспечении условий для свободного развития всех.\n\nДьюи применял экспериментальный метод к этике: моральные ценности и нормы — не абсолютные истины, а инструменты для решения этических проблем, они должны пересматриваться в свете изменяющегося опыта. Этика неотделима от социальной науки и политики.\n\nНа Дьюи повлияли Гегель (ранний период — идея развития), Дарвин (эволюционизм), американский прагматизм (Пирс, Джеймс), экспериментальная психология, дух американского демократизма.\n\nВлияние Дьюи огромно в США и за её пределами. Его педагогика революционизировала образование (прогрессивное образование). Прагматизм Дьюи стал доминирующим направлением американской философии середины XX века. Его демократическая теория повлияла на политическую мысль. В Китае Дьюи оказал влияние на реформаторов. Куайн, Патнэм, Рорти развивали прагматистские идеи в новых контекстах. Дьюи — классик американской философии, создавший оригинальный синтез прагматизма, натурализма и демократизма."
            },
            { 
                id: "bergson", name: "Бергсон", nameRu: "Анри Бергсон", color: "#D35400", birth: 1859, death: 1941, years: "1859-1941",
                description: "Анри Бергсон — французский философ, представитель философии жизни и интуитивизма, лауреат Нобелевской премии по литературе (1927), создавший оригинальную метафизику времени, сознания и жизненного порыва. Его философия противостояла позитивизму и механицизму, утверждая первичность длительности, творчества, интуиции.\n\nВ центре философии Бергсона — различение двух видов времени: абстрактного, пространственного времени науки (последовательность дискретных моментов, измеримое, обратимое) и конкретной длительности (durée) — непосредственно переживаемого потока сознания, качественной, непрерывной, необратимой временности. Истинное время — это длительность, в которой прошлое не исчезает, а накапливается, проникая в настоящее.\n\nБергсон критикует интеллект за то, что он пространственно мыслит время, разлагает непрерывное на дискретные элементы, останавливает движение. Интеллект полезен для практического действия, но искажает реальность. Истинное познание реальности достигается через интуицию — непосредственное вживание в предмет, «симпатию», позволяющую схватить текучесть изнутри.\n\nВ «Творческой эволюции» Бергсон создаёт метафизику жизни: жизнь движима жизненным порывом (élan vital) — творческой силой, производящей новое, непредсказуемое из законов физики и химии. Эволюция — не механический процесс, а творческое развитие. Бергсон критикует как механицизм (жизнь объяснима физикой), так и финализм (телеология): будущее не предопределено, творится в процессе развития.\n\nБергсон анализирует память: прошлое не хранится в мозге как материальный след, а сохраняется само по себе, в чистой памяти (духе). Мозг — не орган хранения памяти, а механизм её актуализации, отбора полезного для действия. Дух не сводим к материи, хотя взаимодействует с ней. Это спиритуализм, но не дуализм.\n\nВ «Двух источниках морали и религии» Бергсон различает закрытую (статическую, основанную на обязанности) и открытую (динамическую, основанную на любви) мораль; статическую (социальную функцию) и динамическую (мистическую) религию. Высшие формы морали и религии связаны с творческими личностями (мистиками, героями).\n\nБергсон критикует детерминизм: если будущее уже содержится в настоящем, то время иллюзорно. Он утверждает реальность свободы как творчества нового. Свобода — это действие, выражающее всю личность, а не выбор между готовыми возможностями.\n\nНа Бергсона повлияли французский спиритуализм (Равессон, Лашелье), английский эмпиризм (Юм, Спенсер), биология (эволюционизм), неоплатонизм, Плотин (творческое истечение).\n\nВлияние Бергсона было огромным в начале XX века. Его идеи повлияли на литературу (Пруст — время, память), модернизм, феноменологию (Мерло-Понти, Левинас), экзистенциализм, теологию (Тейяр де Шарден). В конце XX века интерес к Бергсону возродился: Делёз написал о нём книгу, актуализируя его философию различия и становления. Бергсон — создатель философии творческого времени, длительности и жизни."
            },
            { 
                id: "husserl", name: "Гуссерль", nameRu: "Гуссерль", color: "#34495E", birth: 1859, death: 1938, years: "1859-1938",
                description: "Эдмунд Гуссерль — немецкий философ, основатель феноменологии — одного из самых влиятельных направлений философии XX века. Он стремился создать философию как строгую науку, основанную на анализе структур сознания и способов данности предметов сознанию, открыв новый метод — феноменологическую редукцию.\n\nВ центре философии Гуссерля — требование «назад к самим вещам!» (zu den Sachen selbst): философия должна изучать феномены — то, что дано сознанию непосредственно, до всяких теорий и предпосылок. Феноменология описывает структуры опыта, эйдетические сущности, инвариантные способы явленности предметов. Это не эмпирическая психология, а априорная наука о сущностях сознания.\n\nГуссерль развивает идею интенциональности Брентано: сознание всегда есть сознание о чём-то, направлено на предмет. Но Гуссерль усложняет это: интенциональность имеет структуру ноэзис (акт сознания) — ноэма (предметный смысл, как предмет дан). Одному объекту соответствует множество ноэм (способов данности): куб может быть дан спереди, сбоку, в воспоминании, в фантазии.\n\nЦентральный метод Гуссерля — феноменологическая редукция (эпохé): заключение в скобки естественной установки, веры в существование внешнего мира. Мы временно воздерживаемся от суждений о существовании, чтобы изучать чистые структуры сознания. Это не отрицание мира (не идеализм Беркли), а методологическая процедура для прояснения конституирования смысла.\n\nГуссерль разработал учение о жизненном мире (Lebenswelt) — дотеоретическом мире повседневного опыта, который наука предполагает, но забывает. Кризис европейских наук связан с утратой связи с жизненным миром, объективизмом и натурализмом. Феноменология должна вернуть науку к её основаниям в опыте субъекта.\n\nГуссерль создал трансцендентальную феноменологию: после редукции мы открываем трансцендентальное Я — чистое сознание, конституирующее смысл всего сущего. Это не эмпирическое Я, а условие возможности всякого опыта (близко к кантовскому трансцендентальному субъекту). Однако Гуссерль столкнулся с проблемой солипсизма, пытаясь преодолеть её через интерсубъективность.\n\nГуссерль критиковал психологизм в логике (следуя Фреге): логические законы не эмпирические обобщения о человеческом мышлении, а априорные истины о идеальных предметах. Он защищал объективность истины против релятивизма и скептицизма.\n\nНа Гуссерля повлияли Брентано (интенциональность), Фреге и Больцано (критика психологизма, идеальные объекты), Декарт (cogito, метод сомнения), Кант (трансцендентальный субъект), математика (Вейерштрасс).\n\nВлияние Гуссерля огромно. Феноменология стала ведущим направлением континентальной философии. Его ученики и последователи: Хайдеггер (экзистенциальная феноменология), Сартр, Мерло-Понти (феноменология восприятия, тела), Левинас (этическая феноменология), Рикёр (герменевтическая феноменология), Деррида (деконструкция феноменологии). Феноменологический метод повлиял на психиатрию, социологию, теологию. Гуссерль — основатель одной из главных философских традиций XX века."
            },
            { 
                id: "russell", name: "Рассел", nameRu: "Бертран Рассел", color: "#C0392B", birth: 1872, death: 1970, years: "1872-1970",
                description: "Бертран Рассел — британский философ, логик, математик, общественный деятель, лауреат Нобелевской премии по литературе (1950), один из основателей аналитической философии и математической логики. Его работы в логике, философии языка, эпистемологии определили развитие англо-американской философии XX века.\n\nВ центре ранней философии Рассела (с Уайтхедом) — логицизм: попытка свести математику к логике в монументальных «Principia Mathematica». Он разработал теорию типов для преодоления парадоксов теории множеств (парадокс Рассела о множестве всех множеств, не содержащих себя). Хотя программа логицизма не была полностью реализована, «Principia» стала фундаментом современной логики.\n\nРассел создал теорию дескрипций — один из величайших вкладов в философию языка. Он показал, как анализировать предложения с определёнными описаниями («нынешний король Франции лыс»), избегая проблем референции к несуществующим объектам (против Мейнонга). Дескрипции не являются именами, они исчезают при логическом анализе, превращаясь в квантифицированные формулы. Это продемонстрировало, что грамматическая форма может вводить в заблуждение относительно логической формы.\n\nРассел развил теорию знания-знакомства: мы непосредственно знакомы только с чувственными данными (sense-data) и, возможно, универсалиями, но не с физическими объектами. Знание о внешнем мире — знание по описанию, основанное на логических конструкциях из данных. Это вариант феноменализма, стремящегося минимизировать метафизические допущения.\n\nРассел формулирует принцип: «Везде, где возможно, заменяй логические конструкции на выводимые сущности» — методологический номинализм, стремящийся избегать постулирования сомнительных сущностей. Физические объекты — логические конструкции из чувственных данных; числа — логические конструкции из классов; точки и моменты времени — логические конструкции из событий.\n\nВ метафизике Рассел защищал логический атомизм: мир состоит из атомарных фактов, которым соответствуют атомарные предложения. Молекулярные предложения строятся из атомарных посредством логических связок. Задача философии — анализ, разложение сложного на простое, достижение логически совершенного языка, отражающего структуру реальности.\n\nРассел был активным общественным деятелом: пацифист (тюремное заключение в Первую мировую), критик империализма, защитник свободы мысли, противник ядерного оружия. Его философия сочетала технический анализ с широким гуманистическим взглядом.\n\nНа Рассела повлияли Фреге (логика), Пеано (аксиоматизация), Мур (здравый смысл), Витгенштейн (его ученик, повлиявший на логический атомизм), английский эмпиризм (Юм).\n\nВлияние Рассела огромно. Он (вместе с Фреге) создал аналитическую традицию. Логический позитивизм (Венский кружок) развивал его идеи. Куайн критиковал и трансформировал его эмпиризм. Его теория дескрипций стала классикой философии языка (Крипке, Доннеллан развивали полемику с ней). Рассел сделал логику основой философии и показал силу логического анализа языка. Он — один из создателей аналитической философии, определивший её проблематику и методы."
            },
            { 
                id: "heidegger", name: "Хайдеггер", nameRu: "Хайдеггер", color: "#27AE60", birth: 1889, death: 1976, years: "1889-1976",
                description: "Мартин Хайдеггер — немецкий философ, один из самых влиятельных и противоречивых мыслителей XX века, создатель фундаментальной онтологии и экзистенциальной феноменологии, радикально переосмысливший вопрос о смысле бытия и положивший начало герменевтическому повороту в философии. Его нацистское прошлое остаётся предметом острой полемики.\n\nВ центре философии Хайдеггера — вопрос о бытии (Sein), забытый западной метафизикой, превратившей бытие в сущее (наличное, объектное). «Бытие и время» (1927) начинает с фундаментальной онтологии — анализа бытия того сущего, которое понимает бытие, — Dasein (присутствия, человеческого бытия-в-мире). Человек не субъект, противостоящий объектам, а бытие-в-мире, всегда уже включённое в практические контексты.\n\nХайдеггер описывает экзистенциалы — структуры Dasein: бытие-в-мире (не внутреннее сознание, а вовлечённость в значимый мир), подручность (вещи даны как инструменты в практике, не как объекты созерцания), заброшенность (мы обнаруживаем себя уже в определённой ситуации), настроение (Stimmung — не субъективное чувство, а способ открытости миру), забота (Sorge — фундаментальная структура, объединяющая временность Dasein).\n\nЦентральный экзистенциал — бытие-к-смерти: смерть — моя неповторимая возможность, не событие в будущем, а структура существования, конечность, определяющая смысл жизни. Подлинное существование принимает конечность, живёт в решимости перед лицом смерти. Неподлинное (das Man — «люди», анонимное «мы») бежит от смерти в обыденность, рассеянность, болтовню.\n\nВременность — смысл бытия Dasein. Время не последовательность моментов, а экстатическое единство будущего (бытие-к), прошлого (заброшенность) и настоящего (решимость). Подлинная временность определяется будущим (проект), неподлинная — настоящим (рассеянность в сиюминутном).\n\nВ поздней философии Хайдеггер отходит от субъективистской фундаментальной онтологии к мышлению бытия как события (Ereignis). Он развивает критику метафизики как забвения бытия, техники как предельного выражения метафизической воли к власти над сущим. Язык — «дом бытия», поэзия (Гёльдерлин) открывает истину бытия.\n\nХайдеггер разрабатывает герменевтику: понимание — не метод, а способ бытия Dasein. Герменевтический круг: понимание всегда предполагает предпонимание, мы всегда уже находимся внутри интерпретации. Это повлияло на Гадамера и философскую герменевтику.\n\nНа Хайдеггера повлияли Гуссерль (феноменология, учителем которого он был, но от которого отошёл), Кьеркегор и Ницше (экзистенциальные темы), досократики (особенно Парменид, Гераклит), Аристотель, Кант, немецкий идеализм, Дильтей (герменевтика).\n\nВлияние Хайдеггера огромно и противоречиво. Его экзистенциальная аналитика повлияла на Сартра, Камю, французский экзистенциализм. Гадамер развил его герменевтику. Деррида, Фуко, Левинас, Рикёр формировались в диалоге с Хайдеггером. Его критика техники и метафизики повлияла на экологическую философию, критическую теорию. Аналитические философы (Дрейфус, Рорти) обратились к нему. Хайдеггер — один из самых влиятельных философов XX века, несмотря на его нацистское прошлое, которое остаётся неразрешённой проблемой."
            },
            { 
                id: "wittgenstein", name: "Витгенштейн", nameRu: "Витгенштейн", color: "#7F8C8D", birth: 1889, death: 1951, years: "1889-1951",
                description: "Людвиг Витгенштейн — австро-британский философ, один из самых оригинальных и влиятельных мыслителей XX века, создавший две разные философии, каждая из которых революционизировала аналитическую традицию. Его «Логико-философский трактат» и «Философские исследования» определили развитие философии языка и сознания.\n\nРанний Витгенштейн («Трактат», 1921) создал логический атомизм: мир — совокупность фактов, а не вещей. Язык отображает (изображает) мир: предложения — логические картины фактов, имеющие общую с ними логическую форму. Простые (атомарные) предложения отображают атомарные факты; сложные строятся из простых посредством истинностных функций (логических операторов).\n\nВитгенштейн формулирует теорию значения как отображения: значение имени — обозначаемый объект; значение предложения — изображаемый факт (условия истинности). Логическая форма языка и мира тождественна, но невыразима в языке — она показывает себя. «О чём невозможно говорить, о том следует молчать»: метафизика, этика, эстетика пытаются выразить невыразимое и потому бессмысленны. Философия — не теория, а деятельность прояснения мыслей.\n\nПоздний Витгенштейн («Философские исследования», 1953) радикально пересматривает раннюю философию. Он отвергает теорию отображения и единую сущность языка. Значение слова — его употребление в языковой игре (практике, форме жизни). Нет частного языка для описания внутреннего опыта: язык существенно публичен, социален. Следование правилу возможно только в сообществе.\n\nВитгенштейн вводит понятие языковых игр: говорение — часть деятельности, формы жизни. Языковых игр множество (приказ, вопрос, описание, молитва), нет их общей сущности, только семейное сходство. Философские проблемы возникают, когда язык «уходит на каникулы» — вырывается из практического контекста. Задача философии — терапевтическая: показать муху выход из мухоловки, растворить проблемы через прояснение употребления языка.\n\nВитгенштейн критикует картезианскую концепцию сознания: нет внутреннего театра, где Я созерцает свои состояния. Психологические понятия получают значение не через указание на внутренние объекты, а через их роль в поведении и языковых играх. «Внутренний процесс нуждается во внешних критериях».\n\nВитгенштейн развивает аргумент против частного языка: язык для описания исключительно моих ощущений невозможен, ибо не было бы критерия правильности употребления слов. Это повлияло на дискуссии о других сознаниях, бихевиоризм, функционализм в философии сознания.\n\nНа раннего Витгенштейна повлияли Рассел (логика, атомизм), Фреге (логика, философия языка), Шопенгауэр (мистическое, невыразимое). На позднего — Шпенглер, Фрейд (терапия), прагматизм (хотя он его не изучал систематически).\n\nВлияние Витгенштейна огромно. Ранний повлиял на логический позитивизм (Венский кружок), Карнапа. Поздний — на обыденного языка философию (Райл, Остин), Малькольма, Энском. Его идеи повлияли на философию сознания (против картезианизма), эпистемологию (против фундаментализма), философию математики. Крипке, Дэвидсон, Патнэм формировались в диалоге с Витгенштейном. Он показал терапевтическую роль философии и центральность языка для философских проблем."
            },
            { 
                id: "gadamer", name: "Гадамер", nameRu: "Ханс-Георг Гадамер", color: "#48C9B0", birth: 1900, death: 2002, years: "1900-2002",
                description: "Ханс-Георг Гадамер — немецкий философ, создатель философской герменевтики, автор фундаментального труда «Истина и метод» (1960), определившего развитие континентальной философии второй половины XX века. Он превратил герменевтику из методологии гуманитарных наук в универсальную философию понимания и интерпретации.\n\nВ центре философии Гадамера — понимание как универсальный модус человеческого существования. Понимание — не метод познания, противостоящий объяснению (как у Дильтея), а фундаментальный способ бытия человека в мире (развитие хайдеггеровской идеи). Мы всегда уже понимаем, существуем в понимании, в традиции, в языке. Герменевтика — не техника интерпретации текстов, а онтология понимания.\n\nГадамер реабилитирует предрассудки (предсуждения, Vorurteile): Просвещение ошибочно видело в них только источник заблуждений. Понимание всегда исходит из предпонимания, укоренённого в традиции. Предрассудки — не помеха, а условие понимания. Мы понимаем благодаря, а не вопреки нашей исторической ситуации. «Предрассудки» часто оказываются истинными традициями.\n\nГерменевтический круг: часть понимается из целого, целое из частей; новое понимается через известное, известное переосмысливается через новое. Это не порочный круг, а продуктивная структура понимания. Понимание текста — слияние горизонтов (Horizontverschmelzung): горизонт текста и горизонт интерпретатора сливаются в новом понимании, обогащающем оба.\n\nГадамер подчёркивает временную дистанцию как продуктивный фактор понимания: время не препятствие, а условие понимания. Историческая дистанция позволяет отделить истинные от ложных предрассудков, увидеть то, что было скрыто для современников. История действий (Wirkungsgeschichte) — понимание определяется историей воздействия текста.\n\nЯзык — медиум понимания и бытия: «бытие, которое может быть понято, есть язык». Мы существуем в языке, а не владеем им как инструментом. Понимание происходит в языке, в разговоре-диалоге. Подлинный разговор — не обмен готовыми мнениями, а совместное движение к истине, в котором собеседники преображаются.\n\nГадамер критикует научный метод как универсальный путь к истине. В гуманитарных науках истина не достигается методом (объективацией), а открывается в опыте искусства, истории, философии. Опыт истины в искусстве — модель герменевтического понимания: произведение говорит с нами, мы отвечаем, происходит событие смысла.\n\nГадамер защищает авторитет и традицию против просвещенческой критики: авторитет — не слепое подчинение, а признание превосходства знания другого. Традиция — не застывшее наследие, а живой разговор с прошлым. Hermeneutical awareness — осознание собственной историчности и конечности понимания.\n\nНа Гадамера повлияли Хайдеггер (онтологический поворот герменевтики, учителем которого он был), Дильтей (науки о духе), Гегель (диалектика, дух), Гуссерль (феноменология), античная философия (особенно Платон — диалог, Аристотель — phronesis).\n\nВлияние Гадамера огромно в континентальной философии. Его герменевтика повлияла на Рикёра (герменевтика символа), Хабермаса (с которым он полемизировал), Деррида, Рорти. Герменевтический подход стал доминирующим в гуманитарных науках. Идея слияния горизонтов, реабилитация традиции, критика метода определили постметафизическое мышление. Гадамер — классик философской герменевтики, показавший универсальность понимания."
            },
            { 
                id: "lacan", name: "Лакан", nameRu: "Жак Лакан", color: "#2980B9", birth: 1901, death: 1981, years: "1901-1981",
                description: "Жак Лакан — французский психоаналитик и философ, создавший оригинальную интерпретацию Фрейда через структурализм и лингвистику, оказавший огромное влияние на континентальную философию, психоанализ, теорию культуры и феминизм. Его «возвращение к Фрейду» радикально переосмыслило психоанализ, поместив язык в центр теории субъекта.\n\nВ центре учения Лакана — тезис «бессознательное структурировано как язык». Бессознательное — не биологические влечения (как у Фрейда), а символический порядок, лингвистические структуры, определяющие субъекта. Лакан применяет структурную лингвистику Соссюра к психоанализу: означающее (звуковой образ) и означаемое (значение) разделены, означающее скользит по цепи означающих, не достигая окончательного означаемого.\n\nЛакан различает три регистра: Воображаемое (мир образов, иллюзия целостности Я), Символическое (языковой, культурный порядок, закон, имя Отца) и Реальное (то, что сопротивляется символизации, травматическое ядро, невыразимое). Субъект конституируется в пересечении этих регистров, прежде всего в Символическом.\n\nСтадия зеркала (6-18 месяцев) — ключевой момент формирования Я: ребёнок видит своё целостное отражение и идентифицируется с ним, хотя реально ещё не обладает моторной координацией. Я — это Воображаемое отчуждение, иллюзорная идентификация с образом. Я всегда другое (je est un autre), расщеплено между субъектом высказывания и субъектом высказанного.\n\nЖелание — фундаментальная категория Лакана. Желание отлично от потребности (биологической нужды) и требования (обращённого к Другому). Желание возникает в разрыве между требованием и потребностью, это желание желания Другого, желание быть признанным Другим. Желание структурировано нехваткой (manque), отсутствием, оно метонимично — скользит от объекта к объекту, никогда не достигая удовлетворения.\n\nЛакан вводит понятие objet petit a — объект-причина желания, недостижимый объект, вокруг которого организуется желание. Это не реальный объект, а фантазматическая конструкция. Субъект конституируется через отношение к objet a и к Большому Другому (символическому порядку, языку).\n\nЛакан переосмысливает Эдипов комплекс через символическое: имя Отца (Nom-du-Père) — означающее, вводящее ребёнка в символический порядок, закон, запрет инцеста. Отцовская функция — не биологический отец, а символическая инстанция. Психоз — результат отвержения (forclusion) имени Отца.\n\nЛакан формулирует знаменитые афоризмы: «Большого Другого не существует» (нет окончательной гарантии смысла), «женщина не существует» (нет универсальной женской сущности, женственность — не-вся), «не отступай от своего желания» (этический императив психоанализа).\n\nНа Лакана повлияли Фрейд (которого он переинтерпретировал), Соссюр (структурная лингвистика), Леви-Стросс (структурная антропология), Кожев (лекции о Гегеле — желание признания), сюрреализм, Хайдеггер (язык как дом бытия).\n\nВлияние Лакана огромно. Его психоанализ повлиял на Альтюссера (идеология), Жижека (лакановский марксизм), Батлер (теория перформативности гендера), кино- и литературоведение, феминизм (Кристева, Иригарэ — критика фаллогоцентризма). Славой Жижек популяризировал Лакана. Лакан — самый влиятельный психоаналитик после Фрейда, радикально переосмысливший субъект через язык и желание."
            },
            { 
                id: "sartre", name: "Сартр", nameRu: "Сартр", color: "#E67E22", birth: 1905, death: 1980, years: "1905-1980",
                description: "Жан-Поль Сартр — французский философ, писатель, драматург, ведущий представитель атеистического экзистенциализма, марксист, общественный деятель. Его философия свободы, аутентичности и ангажированности определила интеллектуальную атмосферу послевоенной Европы, сделав экзистенциализм массовым культурным движением.\n\nВ центре философии Сартра — радикальная свобода человека. «Существование предшествует сущности»: в отличие от вещей (молоток создаётся с определённой целью — его сущность предшествует существованию), человек сначала существует, затем определяет себя. Нет человеческой природы, Бога-творца, задающего сущность. Человек — это проект, он есть то, чем себя делает. Это абсолютная свобода, но и абсолютная ответственность.\n\nСартр различает бытие-в-себе (en-soi) — бытие вещей, плотное, непрозрачное, тождественное себе, и бытие-для-себя (pour-soi) — бытие сознания, не совпадающее с собой, «дыра» в бытии, ничто. Сознание — это свобода, способность отрицания, трансцендирования данного. Сознание всегда проектирует себя в будущее, никогда не является готовым, завершённым.\n\nСвобода — не свойство человека, а его структура: человек «осуждён быть свободным». Мы не можем не выбирать, даже отказ от выбора — выбор. Нет оправданий: ситуация, прошлое, характер не определяют выбора — мы свободно придаём им значение. Детерминизм — самообман, попытка бегства от свободы. Фундаментальный проект — изначальный выбор себя, определяющий все частные выборы.\n\nДурная вера (mauvaise foi) — самообман, отрицание своей свободы, попытка быть вещью (бытием-в-себе). Знаменитый пример: официант, играющий роль официанта, отождествляющий себя с социальной функцией, бегущий от свободы в механичность роли. Аутентичность — принятие свободы и ответственности, отказ от самообмана.\n\nВзгляд Другого объективирует меня, превращает в объект. «Ад — это другие»: Другой угрожает моей свободе, пытается зафиксировать меня в определённом качестве. Стыд — осознание себя объектом для Другого. Межличностные отношения — борьба за признание, попытки превратить Другого в объект или избежать объективации.\n\nВ поздний период Сартр пытался синтезировать экзистенциализм и марксизм. Марксизм — непревзойдённая философия нашего времени, но он нуждается в экзистенциальном измерении, учитывающем конкретного индивида, его свободу, проект. Сартр развивает концепцию ангажированности (engagement): интеллектуал должен быть политически вовлечён, отвечать за социальные последствия своих идей.\n\nСартр создал экзистенциальный психоанализ: понять человека — значит реконструировать его фундаментальный проект, изначальный выбор себя. Это не поиск бессознательных причин (как у Фрейда), а понимание свободного проекта, придающего смысл всем действиям.\n\nНа Сартра повлияли Гуссерль (феноменология, интенциональность), Хайдеггер (бытие-в-мире, экзистенциалы), Кьеркегор (свобода, тревога), Гегель (диалектика господина и раба через Кожева), марксизм, французская литература (Камю).\n\nВлияние Сартра огромно. Экзистенциализм стал культурным движением 1940-50-х. Его идеи повлияли на феминизм (Симона де Бовуар), деколониальную мысль (Фанон), Новых левых. Полемика Сартра с структурализмом (Леви-Стросс, Фуко, Лакан) определила интеллектуальную атмосферу 1960-х. Сартр — символ ангажированного интеллектуала, философ свободы, сделавший экзистенциализм общественным феноменом."
            },
            { 
                id: "levinas", name: "Левинас", nameRu: "Эммануэль Левинас", color: "#F8B229", birth: 1906, death: 1995, years: "1906-1995",
                description: "Эммануэль Левинас — французский философ литовско-еврейского происхождения, создатель этики Другого, радикально переосмысливший феноменологию в этическом ключе. Его философия, выросшая из опыта Холокоста, поместила этику прежде онтологии, ответственность перед Другим — в основание философии, оказав огромное влияние на континентальную мысль конца XX века.\n\nВ центре философии Левинаса — Другой (Autrui), чья инаковость абсолютна и несводима к моему пониманию. Лицо Другого (visage) — не эмпирическое лицо, а этическое явление, обращение, требование. Лицо говорит: «не убий», взывает к ответственности. Встреча с Лицом — исходный этический опыт, предшествующий всякому познанию и онтологии.\n\nЛевинас критикует всю западную философию как философию Того же (le Même), стремящуюся свести Другого к понятному, схватить тотальностью. Онтология — насилие, ибо подчиняет сущее бытию, Другого — моему пониманию. «Этика прежде онтологии»: не бытие, а отношение к Другому — первая философия. Я определяется не самосознанием (Декарт), не бытием-в-мире (Хайдеггер), а ответственностью.\n\nОтветственность — не следствие свободы (как у Сартра), а её основание. Я ответственен до всякого выбора, до Я. Ответственность асимметрична: я ответственен за Другого больше, чем он за меня. Я — «заложник» Другого, «один-за-другого» (l'un-pour-l'autre). Эта идея — радикальное переосмысление субъекта: не суверенное Я, а подчинённое требованию Другого.\n\nЛевинас различает Сказанное (le Dit) — тематизированное, объективированное содержание — и Говорение (le Dire) — сам акт обращения к Другому, этическое отношение, предшествующее всякому содержанию. Философия должна двигаться от Сказанного к Говорению, к дискурсу как этическому отношению, не подчиняющему Другого тотальности.\n\nВремя — не экстаз Dasein (Хайдеггер), а диахрония отношения к Другому: Другой приходит из абсолютного прошлого (анархического, до всякого начала моего Я) и открывает будущее (мессианское, эсхатологическое). Бесконечное — не объект познания, а идея Бесконечного (Декарт), превосходящая всякую способность схватывания, явленная в Лице Другого.\n\nЛевинас развивает идею избранности и замещения: я избран Другим до всякого выбора, я замещаю Другого, отвечаю вместо него. Это близко к библейской идее ответственности, жертвы. Третий (tiers) — появление третьего лица требует справедливости, политики, но справедливость должна быть пронизана любовью к Другому.\n\nЛевинас разрабатывает феноменологию эротического, отцовства, смерти: эрос — отношение к абсолютно Другому (женственность как инаковость), отцовство — трансцендирование через сына (будущее), смерть — невозможность возможности (против Хайдеггера), абсолютная пассивность.\n\nНа Левинаса повлияли Гуссерль (феноменология), Хайдеггер (которого он критикует за забвение этики), еврейская традиция (Талмуд, которому он посвятил талмудические чтения), Розенцвейг (философия диалога), опыт Холокоста (семья Левинаса погибла, он выжил в лагере для военнопленных).\n\nВлияние Левинаса огромно на постструктурализм и деконструкцию. Деррида посвятил ему работы, развил критику насилия тотальности. Его этика Другого повлияла на Рикёра, Бланшо, Лиотара, Батлер, теологию (Марион), политическую философию (Агамбен). Идея асимметричной ответственности определила дискуссии об этике, правах человека, гостеприимстве. Левинас — философ радикальной этики, поставивший Другого в центр философии."
            },
            { 
                id: "deleuze", name: "Делёз", nameRu: "Делёз", color: "#2C3E50", birth: 1925, death: 1995, years: "1925-1995",
                description: "Жиль Делёз — французский философ, один из самых оригинальных и влиятельных мыслителей второй половины XX века, создавший философию различия, становления и множественности. Его работы по истории философии, совместные книги с Гваттари, концепции ризомы, тела без органов, шизоанализа определили постструктурализм и постмодернизм.\n\nВ центре философии Делёза — утверждение различия как первичной онтологической категории. Против метафизики тождества (от Платона до Гегеля), подчиняющей различие идентичности, Делёз создаёт онтологию чистого различия: различие не между предшествующими идентичностями, а производящее идентичности. Бытие — не устойчивая субстанция, а процесс, становление, дифференциация.\n\nДелёз развивает концепцию повторения: повторение — не воспроизведение Того же, а производство нового через различие. Вечное возвращение Ницше — возвращение не одинакового, а различающегося, утверждение становления. Делёз создаёт философию утверждения жизни, множественности, креативности против негативности (Гегель), недостаточности (Кант), ресентимента.\n\nВместе с психоаналитиком Феликсом Гваттари Делёз пишет «Анти-Эдип» и «Тысячу плато» — радикальную критику психоанализа и философию желающих машин, шизоанализа, ризомы. Желание — не недостаток (Лакан), а производство, машинное производство реальности. Бессознательное — не театр репрезентаций (Эдип), а фабрика, производящая реальность.\n\nРизома — центральная метафора Делёза-Гваттари: нелинейная, множественная, децентрированная структура (корневище) в противовес древовидной, иерархической (корень-ствол-ветви). Ризома — сеть гетерогенных связей, линий бегства, территориализации и детерриториализации. Мышление должно быть ризоматическим, а не древовидным (логика, диалектика).\n\nТело без органов (ТбО) — концепт, заимствованный у Арто: не тело, лишённое органов, а тело, освобождённое от организации, навязанной организму. ТбО — предел интенсивностей, полюс имманентности, план консистенции, на котором циркулируют потоки желания. Капитализм и психоанализ блокируют ТбО, кодируют потоки.\n\nДелёз создаёт концепцию виртуального: виртуальное — не возможное (противоположное актуальному), а реальное, но не актуализированное. Виртуальное — поле различий, потенциальностей, множественностей, актуализирующихся в конкретных формах. Творчество — актуализация виртуального, производство нового.\n\nВ работах по кино Делёз разрабатывает концепцию образа-движения и образа-времени, показывая, как кино мыслит, создаёт новые концепты. В «Что такое философия?» (с Гваттари) он определяет философию как творчество концептов (не познание, не рефлексия). Концепт — не репрезентация, а событие мысли.\n\nДелёз переосмысливает историю философии: его книги о Юме, Ницше, Бергсоне, Спинозе — не комментарии, а философские события, создание новых концептов через встречу с философами. Он создаёт образ философии как «геофилософии», картографии, создания новых территорий мысли.\n\nНа Делёза повлияли Ницше (утверждение различия), Бергсон (длительность, творчество), Спиноза (имманентность, модусы), стоики (событие, бестелесное), Юм (эмпиризм), Лейбниц (складка, монады), структурализм (который он трансформировал).\n\nВлияние Делёза огромно. Его концепции повлияли на философию (Бадью, Агамбен, Негри, Брайдотти), культурные исследования, феминизм (киборг-феминизм), теорию медиа, архитектуру, искусство. Ризома, детерриториализация, тело без органов, номадология стали ключевыми концептами постструктурализма. Делёз — философ множественности и становления, создавший радикально новый способ философствования."
            },
            { 
                id: "foucault", name: "Фуко", nameRu: "Фуко", color: "#1ABC9C", birth: 1926, death: 1984, years: "1926-1984",
                description: "Мишель Фуко — французский философ, историк идей, теоретик власти и дискурса, один из самых влиятельных мыслителей XX века. Его археология знания, генеалогия власти, анализ дисциплинарных практик и сексуальности революционизировали понимание истории, субъекта, власти, определив развитие постструктурализма, культурных исследований, критической теории.\n\nВ центре ранних работ Фуко — археология знания: изучение не идей и их прогресса, а дискурсивных практик, эпистем — исторических конфигураций знания, определяющих, что может быть сказано, помыслено, познано в данную эпоху. Фуко показывает разрывы, дисконтинуитеты в истории: переход от Ренессанса к классической эпохе, от неё к современности — не прогресс, а радикальная трансформация эпистемы.\n\nВ «Истории безумия» Фуко демонстрирует, что «безумие» — не естественная данность, а историческая конструкция. Классическая эпоха исключает безумие (Великое заточение), современность медикализирует его. Рациональность конституируется через исключение иррационального. В «Рождении клиники» и «Словах и вещах» Фуко анализирует конституирование медицины, биологии, экономики, лингвистики.\n\nВ период генеалогии (под влиянием Ницше) Фуко переходит от археологии к анализу власти. Власть — не собственность (которую имеют), не репрессивная (только запрещающая), а продуктивная, создающая реальность, субъектов, знание. Власть распылена, действует через дискурсы, практики, институции. «Знание — власть»: знание не нейтрально, оно производится властными отношениями и их поддерживает.\n\n«Надзирать и наказывать» — анализ трансформации наказания от публичной казни к дисциплинарному заключению. Паноптикон Бентама — модель дисциплинарной власти: видимость и непроверяемость надзора интернализируются, субъект надзирает за собой. Дисциплинарное общество (тюрьма, школа, армия, завод) создаёт послушные, продуктивные тела через нормализацию, иерархический надзор, санкцию.\n\nВ «Истории сексуальности» Фуко показывает, что сексуальность — не природная данность, подавляемая Викторианской эпохой, а конструкт, производимый дискурсами (медицина, психиатрия, психоанализ). «Репрессивная гипотеза» ошибочна: не подавление секса, а его производство через говорение о нём, его классификацию, нормализацию. Исповедь — технология производства истины о себе через сексуальность.\n\nВ поздний период Фуко обращается к этике и практикам себя: как субъект конституирует себя, заботится о себе (epimeleia heautou), создаёт себя как произведение искусства. Этика — не послушание универсальному закону, а эстетика существования, практики свободы. Фуко изучает античную этику (стоики, Эпикур) как альтернативу христианской морали.\n\nФуко развивает концепцию биовласти: власть над жизнью популяций (рождаемость, смертность, здоровье), в отличие от суверенной власти (право смерти). Современность — эпоха биополитики, управления жизнью. Расизм, евгеника, здравоохранение — проявления биовласти. Это повлияло на современную политическую философию (Агамбен, Негри).\n\nНа Фуко повлияли Ницше (генеалогия, воля к власти), Хайдеггер (историчность истины), структурализм (который он трансформировал), Батай (трансгрессия), марксизм (от которого он отходил), история науки (Башляр, Кангилем).\n\nВлияние Фуко колоссально. Его концепции власти, дискурса, субъекта определили постструктурализм, cultural studies, гендерные исследования (Батлер), квир-теорию, постколониальную критику (Саид), исследования науки (STS). Археология и генеалогия стали методами критического анализа. Фуко — философ, показавший историческую конструированность «естественного», неразрывность знания и власти, возможность сопротивления."
            }
        ];
        
        // ============================================
        // 2. РУБРИКИ (тематические категории)
        // ============================================
        const rubrics = [
            {
                id: "being",
                name: "Бытие/Существование",
                description: "Фундаментальные вопросы о природе реальности и существования"
            },
            {
                id: "freedom",
                name: "Свобода",
                description: "Природа человеческой свободы и её ограничений"
            },
            {
                id: "knowledge",
                name: "Истина/Познание",
                description: "Вопросы познания, истины и её критериев"
            },
            {
                id: "consciousness",
                name: "Субъект/Сознание/Я",
                description: "Природа сознания, самосознания и субъективности"
            },
            {
                id: "matter",
                name: "Тело/Материя",
                description: "Материальное измерение реальности"
            },
            {
                id: "time",
                name: "Время",
                description: "Природа времени и темпоральности"
            },
            {
                id: "ethics",
                name: "Мораль/Этика",
                description: "Вопросы добра, зла и правильного действия"
            },
            {
                id: "politics",
                name: "Власть/Политика",
                description: "Социальные и политические отношения"
            },
            {
                id: "language",
                name: "Язык",
                description: "Роль языка в познании и коммуникации"
            },
            {
                id: "absolute",
                name: "Бог/Абсолют",
                description: "Божественное, абсолютное и метафизическое"
            },
            {
                id: "dialectics",
                name: "Диалектика/Процесс",
                description: "Динамика развития и преобразования"
            },
            {
                id: "will",
                name: "Воля/Желание",
                description: "Волевое и желающее измерение существования"
            },
            {
                id: "method",
                name: "Метод",
                description: "Философские методы и подходы"
            },
            {
                id: "outside",
                name: "Прочее",
                description: "Концепции вне рубрик или временно без рубрики"
            }
        ];
        
        // ============================================
        // 3. ТИПЫ СВЯЗЕЙ
        // ============================================
        const relationTypes = [
        // Исходные типы
        { id: "oppose", label: "противопоставление", color: "#E74C3C" },
        { id: "consequence", label: "следствие", color: "#3498DB" },
        { id: "develop", label: "развитие", color: "#2ECC71" },
        { id: "critique", label: "критика", color: "#F39C12" },
        { id: "synthesize", label: "синтез", color: "#9B59B6" },
        { id: "influence", label: "влияние", color: "#1ABC9C" },
        { id: "dialogue", label: "диалог", color: "#34495E" },
        { id: "internal_contradiction", label: "внутреннее противоречие", color: "#C0392B" },
        
        // Новые типы для внутренних связей
        { id: "presuppose", label: "предполагает", color: "#27AE60" },
        { id: "apply", label: "применяет", color: "#8E44AD" },
        { id: "condition", label: "условие", color: "#2980B9" },
        { id: "exemplify", label: "иллюстрация", color: "#D35400" },
        { id: "instrument", label: "инструмент для", color: "#7F8C8D" },
        { id: "complement", label: "дополняет", color: "#E67E22" },
        { id: "culminate", label: "кульминирует в", color: "#16A085" },
        { id: "mediate", label: "опосредует", color: "#F1C40F" },
        { id: "emerge_from", label: "возникает из", color: "#2C3E50" },
        { id: "limit", label: "ограничение", color: "#BDC3C7" }
        ];
        
        // ============================================
        // 4. КОНЦЕПЦИИ
        // ============================================
        const concepts = [
            // ПИФАГОР
            { 
                id: "number_essence", 
                label: "Число как сущность", 
                philosopher: "pythagoras", 
                rubrics: ["being"], 
                description: "Всё есть число",
                extendedDescription: "Фундаментальный принцип пифагореизма: 'всё есть число' (ἀριθμός). Числа не просто описывают вещи, но составляют их подлинную сущность и структуру. Через числовые отношения и пропорции раскрывается внутренняя природа космоса. Пифагорейцы открывали математические закономерности в музыке, астрономии, геометрии и видели в этом доказательство числовой природы реальности. Число - это не абстракция, а живая сущность, первопринцип бытия, предшествующий материи и форме."
            },
            { 
                id: "harmony_spheres", 
                label: "Гармония сфер", 
                philosopher: "pythagoras", 
                rubrics: ["being"], 
                description: "Математическая гармония космоса",
                extendedDescription: "Учение о том, что движение небесных тел порождает гармоническую музыку сфер, основанную на математических пропорциях. Расстояния между планетами соответствуют музыкальным интервалам, создавая космическую симфонию. Эта музыка неслышима для людей, привыкших к ней с рождения, но может быть постигнута разумом через математику. Гармония сфер выражает пифагорейскую идею космоса как упорядоченного, прекрасного целого (κόσμος), где всё подчинено числовым закономерностям. Это первая попытка математического описания вселенной."
            },
            { 
                id: "metempsychosis", 
                label: "Метемпсихоз", 
                philosopher: "pythagoras", 
                rubrics: ["consciousness"], 
                description: "Переселение душ",
                extendedDescription: "Учение о переселении душ (μετεμψύχωσις) - после смерти душа переходит в другое тело, причём не только человеческое, но и животное или растительное. Цель философии и аскетической жизни - освободить душу от колеса перерождений (цикла сансары) и вернуть её к божественному источнику. Этическое поведение и философское познание способствуют очищению души. Метемпсихоз связан с идеей родства всего живого и обосновывает пифагорейский вегетарианство и запрет на убийство животных."
            },
            { 
                id: "tetraktys", 
                label: "Тетрактида", 
                philosopher: "pythagoras", 
                rubrics: ["being"], 
                description: "Священная четверица: 1+2+3+4=10",
                extendedDescription: "Тетрактида (τετρακτύς) - священный пифагорейский символ: треугольное число 10, образованное суммой первых четырёх натуральных чисел (1+2+3+4). Эти числа символизируют точку, линию, плоскость и объём - основные геометрические принципы. Десятка считалась совершенным числом, объединяющим единицу (монаду) со множественностью. Пифагорейцы клялись тетрактидой как высшей святыней. В ней видели ключ к пониманию структуры космоса, гармонии, музыкальных интервалов и всей математической организации бытия."
            },
            { 
                id: "music_mathematics", 
                label: "Музыка и математика", 
                philosopher: "pythagoras", 
                rubrics: ["knowledge"], 
                description: "Математические пропорции в музыке",
                extendedDescription: "Пифагорейское открытие математических основ музыкальной гармонии - различные звуки соответствуют определённым числовым соотношениям длин струн. Октава выражается отношением 2:1, квинта - 3:2, кварта - 4:3. Это открытие стало первым примером математического закона в природе и подтвердило идею числа как сущности вещей. Музыкальная гармония рассматривалась как модель космической гармонии. Пифагорейцы считали музыку средством очищения души и её приближения к божественному порядку."
            },

            // ГЕРАКЛИТ
            { 
                id: "panta_rhei", 
                label: "Πάντα ῥεῖ", 
                philosopher: "heraclitus", 
                rubrics: ["being", "time"], 
                description: "Всё течёт, всё меняется",
                extendedDescription: "Знаменитый принцип универсального становления: 'всё течёт, всё меняется' (πάντα ῥεῖ), 'нельзя дважды войти в одну и ту же реку'. Для Гераклита изменение и становление - не иллюзия чувств, а подлинная природа реальности. Мир находится в состоянии непрерывного потока, где каждая вещь постоянно переходит в своё иное. Однако этот поток не хаотичен - он подчинён Логосу, всеобщему закону. Гераклит радикально противопоставляет себя элеатам, утверждая онтологический статус становления."
            },
            { 
                id: "logos_heraclitus", 
                label: "Логос", 
                philosopher: "heraclitus", 
                rubrics: ["being"], 
                description: "Всеобщий закон космоса",
                extendedDescription: "Логос у Гераклита - это универсальный разумный принцип, управляющий космосом и пронизывающий всё сущее. Это одновременно закон, разум, слово и мера всех вещей. Логос вечен, единосущен огню и тождествен самому процессу мирового становления. Хотя Логос общ для всех, большинство людей живут так, словно имеют собственный разум, не понимая всеобщего. Познание Логоса означает понимание единства противоположностей и необходимости борьбы как источника гармонии."
            },
            { 
                id: "fire", 
                label: "Огонь", 
                philosopher: "heraclitus", 
                rubrics: ["being", "matter"], 
                description: "Первоначало, вечно живой огонь",
                extendedDescription: "Огонь (πῦρ) - первоначало и субстанция космоса, вечно живой процесс, который 'мерами загорается и мерами угасает'. Огонь не просто физическая стихия, но символ самого процесса становления, превращения и обмена. Всё происходит через обмен с огнём: огонь превращается в другие стихии, а они - обратно в огонь. Огонь воплощает единство бытия и становления, материи и процесса, разрушения и созидания. Это живая, разумная сила, тождественная Логосу."
            },
            { 
                id: "unity_opposites", 
                label: "Единство противоположностей", 
                philosopher: "heraclitus", 
                rubrics: ["dialectics"], 
                description: "Противоположности тождественны",
                extendedDescription: "Центральная диалектическая идея Гераклита: противоположности не просто сосуществуют, но внутренне едины и переходят друг в друга. Один и тот же путь ведёт вверх и вниз; морская вода одновременно чистейшая (для рыб) и грязнейшая (для людей); день и ночь - одно. Противоположности нуждаются друг в друге и не могут существовать раздельно. Это единство не статично, а динамично - оно реализуется через постоянное напряжение и борьбу. Познание единства противоположностей есть познание Логоса."
            },
            { 
                id: "war_father", 
                label: "Война - отец всего", 
                philosopher: "heraclitus", 
                rubrics: ["dialectics"], 
                description: "Борьба как источник становления",
                extendedDescription: "Знаменитый фрагмент 'Война - отец всего и царь всего' (πόλεμος πάντων μὲν πατήρ ἐστι) выражает идею о том, что борьба противоположностей - это не разрушительная сила, а созидательное начало космоса. Через борьбу и конфликт возникает всё сущее, проявляются различия, устанавливается иерархия. Война в космическом смысле - это напряжённое противостояние противоположных сил, которое и создаёт мировой порядок. Без борьбы не было бы ни движения, ни становления, ни гармонии."
            },
            { 
                id: "hidden_harmony", 
                label: "Скрытая гармония", 
                philosopher: "heraclitus", 
                rubrics: ["dialectics"], 
                description: "Гармония из напряжения противоположностей",
                extendedDescription: "Гармония (ἁρμονία) для Гераклита возникает не из примирения, а из напряжения противоположностей - подобно луку или лире, где противоположно направленные силы создают единство. 'Скрытая гармония лучше явной' - истинное единство мира не лежит на поверхности, а постигается разумом через понимание Логоса. Эта гармония динамична и парадоксальна: она существует именно благодаря внутреннему конфликту и борьбе, а не вопреки им. Космический порядок - это не статичное равновесие, а подвижное равновесие противоположных сил."
            },

            // ПАРМЕНИД
            { 
                id: "being_is", 
                label: "Бытие есть", 
                philosopher: "parmenides", 
                rubrics: ["being"], 
                description: "Бытие существует, небытия нет",
                extendedDescription: "Фундаментальный тезис элейской школы: бытие есть, небытие не существует. Бытие не может возникнуть из небытия и не может в него перейти, поскольку небытие немыслимо и невыразимо. Это утверждение устанавливает абсолютное различие между бытием и небытием, отрицая возможность становления и изменения на онтологическом уровне. Парменид впервые формулирует проблему бытия как центральную философскую проблему."
            },
            { 
                id: "one_being", 
                label: "Единое бытие", 
                philosopher: "parmenides", 
                rubrics: ["being"], 
                description: "Бытие едино, неделимо и неизменно",
                extendedDescription: "Бытие представляет собой абсолютное единство, лишённое внутренних различий и множественности. Оно неделимо, поскольку любое деление предполагало бы небытие между частями. Бытие неизменно, так как изменение требовало бы перехода из бытия в небытие или наоборот. Эта концепция единого бытия противостоит чувственному опыту множественности и изменчивости мира."
            },
            { 
                id: "way_truth", 
                label: "Путь истины", 
                philosopher: "parmenides", 
                rubrics: ["knowledge"], 
                description: "Путь познания через разум",
                extendedDescription: "Путь истины (ὁδὸς ἀληθείας) - это путь рационального познания бытия, доступный только разуму (νοῦς), но не чувствам. Это метод мышления, который приводит к пониманию необходимых и вечных истин о природе бытия. Путь истины противопоставляется пути мнения и основан на логической необходимости: что есть, то не может не быть. Только разум способен постичь истинную природу бытия, преодолевая обманчивые свидетельства чувств."
            },
            { 
                id: "way_opinion", 
                label: "Путь мнения", 
                philosopher: "parmenides", 
                rubrics: ["knowledge"], 
                description: "Ложный путь чувственного познания",
                extendedDescription: "Путь мнения (δόξα) - это путь чувственного восприятия и обыденных представлений о мире, которые смертные принимают за истину. Этот путь основан на принятии небытия как существующего и приводит к противоречивым и ложным суждениям о становлении, изменении и множественности. Парменид не отрицает полностью ценность мнения для практической жизни, но подчёркивает его эпистемологическую неполноценность по сравнению с путём истины. Мнение имеет дело с миром явлений, но не может дать подлинного знания."
            },
            { 
                id: "immutability", 
                label: "Неизменность", 
                philosopher: "parmenides", 
                rubrics: ["being"], 
                description: "Истинное бытие неизменно",
                extendedDescription: "Бытие абсолютно неизменно и пребывает в вечном покое. Любое изменение предполагало бы, что нечто начинает быть тем, чем не было, или перестаёт быть тем, чем было, что невозможно без обращения к небытию. Неизменность бытия означает отсутствие возникновения, уничтожения и качественного изменения. Эта характеристика бытия резко противоречит чувственному опыту и становится источником философской проблемы отношения между видимостью и реальностью."
            },
            { 
                id: "sphere_being", 
                label: "Сфера бытия", 
                philosopher: "parmenides", 
                rubrics: ["being"], 
                description: "Бытие подобно совершенной сфере",
                extendedDescription: "Парменид уподобляет бытие совершенной сфере - геометрическому телу, равно отстоящему от центра во всех направлениях. Сфера символизирует завершённость, целостность и совершенство бытия. Эта метафора выражает идею о том, что бытие не имеет ни начала, ни конца, ни внутренних различий - оно равномощно во всех своих частях. Образ сферы также подчёркивает законченность и самодостаточность бытия, его независимость от чего-либо внешнего."
            },

            // СОКРАТ
            { 
                id: "maieutics", 
                label: "Майевтика", 
                philosopher: "socrates", 
                rubrics: ["knowledge", "method"], 
                description: "Метод извлечения знания через вопросы",
                extendedDescription: "Искусство философского акушерства, при котором Сократ через систему наводящих вопросов помогал собеседнику 'родить' истину из собственного разума. Основан на убеждении, что знание уже присутствует в душе человека и нуждается лишь в правильном способе извлечения. Метод предполагает последовательное опровержение ложных мнений и постепенное приближение к истинному знанию через диалектический процесс."
            },
            { 
                id: "know_nothing", 
                label: "Знаю, что ничего не знаю", 
                philosopher: "socrates", 
                rubrics: ["knowledge"], 
                description: "Осознание границ собственного знания",
                extendedDescription: "Фундаментальный принцип сократовской мудрости, утверждающий, что истинное знание начинается с признания собственного незнания. В отличие от софистов, претендовавших на обладание всеобъемлющим знанием, Сократ видел в осознании своего незнания путь к подлинной мудрости. Это не скептицизм, а методологическая установка, открывающая возможность для непрерывного познания и самопознания."
            },
            { 
                id: "virtue_knowledge", 
                label: "Добродетель = знание", 
                philosopher: "socrates", 
                rubrics: ["ethics", "knowledge"], 
                description: "Единство морали и познания",
                extendedDescription: "Сократовский тезис о том, что никто не творит зло сознательно - всякое дурное деяние есть результат незнания блага. Добродетель не может быть отделена от знания, ибо познавший благо не может не следовать ему. Этот интеллектуализм в этике утверждает, что моральное совершенствование неразрывно связано с интеллектуальным развитием, а порок - всегда следствие невежества."
            },
            { 
                id: "daimonion", 
                label: "Даймоний", 
                philosopher: "socrates", 
                rubrics: ["consciousness"], 
                description: "Внутренний голос совести",
                extendedDescription: "Божественный знак или внутренний голос, который предостерегал Сократа от неправильных поступков. Не позитивный советчик, а негативный ограничитель, удерживающий от ошибок. Представляет собой уникальное явление в античной философии - голос трансцендентного, обращенный к индивидуальному сознанию, предвосхищающий позднейшие концепции совести и внутреннего морального закона."
            },
            { 
                id: "care_soul", 
                label: "Забота о душе", 
                philosopher: "socrates", 
                rubrics: ["ethics"], 
                description: "Приоритет духовного развития",
                extendedDescription: "Центральная этическая максима Сократа, призывающая заботиться о душе превыше всех материальных благ. Душа - истинная сущность человека, и её совершенствование через познание и добродетель составляет главную цель жизни. Эта забота включает самопознание, очищение от ложных мнений и стремление к благу, что радикально противопоставляется заботе о теле, богатстве и внешней славе."
            },
            { 
                id: "soul", 
                label: "Душа", 
                philosopher: "socrates", 
                rubrics: ["consciousness"], 
                description: "Бессмертная сущность человека, объект заботы",
                extendedDescription: "Психея как подлинное 'я' человека, его разумная и моральная сущность, которая не сводима к телесному существованию. Бессмертная и божественная по своей природе, душа является носителем знания и добродетели. Именно душа делает человека человеком, и её состояние определяет подлинное благополучие личности независимо от внешних обстоятельств."
            },
            
            // ПЛАТОН
            { 
                id: "ideas", 
                label: "Мир идей", 
                philosopher: "plato", 
                rubrics: ["knowledge"], 
                description: "Вечный мир совершенных форм",
                extendedDescription: "Умопостигаемая реальность вечных, неизменных и совершенных сущностей, существующих независимо от чувственного мира. Идеи - не просто понятия, а онтологические первоначала, истинно сущее бытие, по отношению к которому материальные вещи являются лишь несовершенными копиями. Этот сверхчувственный мир образует иерархию, на вершине которой находится идея Блага как источник всего сущего."
            },
            { 
                id: "eidos", 
                label: "Эйдос", 
                philosopher: "plato", 
                rubrics: ["knowledge"], 
                description: "Идеальная сущность вещи",
                extendedDescription: "Отдельная идея как умопостигаемая форма и подлинная сущность класса вещей. Эйдос содержит в себе все существенные характеристики вещи в их чистом, неискаженном виде. Чувственные объекты причастны эйдосам и получают от них свою определенность, но всегда остаются неполными и изменчивыми по сравнению с вечным и совершенным эйдосом."
            },
            { 
                id: "anamnesis", 
                label: "Анамнесис", 
                philosopher: "plato", 
                rubrics: ["knowledge"], 
                description: "Воспоминание души об идеях",
                extendedDescription: "Теория познания как припоминания того, что душа созерцала до воплощения в теле. Душа, пребывая в мире идей до рождения, обладала полным знанием; воплощение вызывает забвение, а процесс обучения есть постепенное восстановление утраченного знания. Чувственный опыт служит лишь поводом для пробуждения дремлющих в душе воспоминаний об идеальных сущностях."
            },
            { 
                id: "the_one_plato", 
                label: "Единое", 
                philosopher: "plato", 
                rubrics: ["being", "absolute"], 
                description: "Высший принцип, превосходящий бытие и мышление (из диалога 'Парменид')",
                extendedDescription: "В диалоге 'Парменид' Платон исследует природу Единого через серию диалектических гипотез. Единое выступает как высший принцип, находящийся 'по ту сторону сущности' (ἐπέκεινα τῆς οὐσίας), превосходящий как бытие, так и мышление. Если Единое существует абсолютно само по себе, оно не может иметь частей, качеств или отношений. Эта концепция оказала решающее влияние на неоплатонизм Плотина, где Единое становится первоначалом, источником всякого бытия через эманацию. У Платона Единое тесно связано с Благом как высшей идеей."
            },
            { 
                id: "demiurge", 
                label: "Демиург", 
                philosopher: "plato", 
                rubrics: ["absolute"], 
                description: "Творец материального мира",
                extendedDescription: "Божественный мастер, устроитель космоса, который творит чувственный мир по образцу вечных идей. Не абсолютный творец из ничего, а искусный ремесленник, организующий предсуществующую материю (хору) в соответствии с умопостигаемыми образцами. Движимый благостью, Демиург стремится сделать космос максимально совершенным подражанием миру идей."
            },
            { 
                id: "cave", 
                label: "Миф о пещере", 
                philosopher: "plato", 
                rubrics: ["knowledge"], 
                description: "Аллегория познания истины",
                extendedDescription: "Центральная платоновская метафора, изображающая людей узниками в пещере, принимающими тени на стене за подлинную реальность. Освобождение и восхождение к солнечному свету символизирует философский путь от чувственного познания к интеллектуальному созерцанию идей. Возвращение освободившегося в пещеру представляет миссию философа - просвещать остающихся во тьме незнания, даже рискуя быть непонятым и отвергнутым."
            },
            { 
                id: "ideal_state", 
                label: "Идеальное государство", 
                philosopher: "plato", 
                rubrics: ["politics"], 
                description: "Справедливое политическое устройство",
                extendedDescription: "Проект совершенного общественного устройства, основанного на принципе справедливости и соответствия человеческой природе. Трехчастная структура государства (правители-философы, стражи, производители) отражает трехчастную структуру души. Справедливость достигается, когда каждое сословие исполняет свою функцию, а философы-правители, познавшие идею Блага, управляют обществом ради общего блага, а не частных интересов."
            },
            { 
                id: "tripartite_soul", 
                label: "Трёхчастная душа", 
                philosopher: "plato", 
                rubrics: ["consciousness"], 
                description: "Разум, воля, чувства",
                extendedDescription: "Психологическая концепция, согласно которой душа состоит из трех частей: разумной (логистикон), яростной/волевой (тимос) и вожделеющей (эпитюметикон). Разумная часть должна господствовать, направляя волевую часть на подчинение низших желаний. Гармоничное взаимодействие всех частей под руководством разума составляет добродетель и внутреннюю справедливость индивида, микрокосмически отражая устройство идеального государства."
            },
            { 
                id: "good", 
                label: "Благо", 
                philosopher: "plato", 
                rubrics: ["absolute"], 
                description: "Высшая идея, источник бытия и познания",
                extendedDescription: "Венец иерархии идей, аналог солнца в умопостигаемом мире, дающий всему сущему не только познаваемость, но и само бытие. Благо выше бытия и сущности, оно - беспредпосылочное начало всего, к которому восходит диалектическое познание. Созерцание Блага - высшая цель философии, достижение которой делает возможным истинное знание и правильное действие."
            },
            { 
                id: "eros", 
                label: "Эрос", 
                philosopher: "plato", 
                rubrics: ["knowledge"], 
                description: "Любовное восхождение к прекрасному и истине",
                extendedDescription: "Философский эрос как движущая сила восхождения души от любви к отдельным прекрасным телам через любовь к прекрасным душам и знаниям к созерцанию самой идеи Прекрасного. Это не просто чувственное влечение, а демоническая сила (метаксю), соединяющая человека с божественным. Эротическое стремление к обладанию благом и бессмертию через порождение в прекрасном составляет глубинную природу философии."
            },
            { 
                id: "methexis", 
                label: "Метексис", 
                philosopher: "plato", 
                rubrics: ["being"], 
                description: "Участие вещей в идеях, связь между мирами",
                extendedDescription: "Способ присутствия идей в чувственных вещах, их причастность идеальным образцам. Вещь становится прекрасной, поскольку причастна идее Прекрасного, человек справедлив, поскольку причастен идее Справедливости. Метексис разрешает проблему связи двух миров - вечного и изменчивого, - хотя сам механизм этого участия остается одной из главных апорий платонизма."
            },
            { 
                id: "mimesis", 
                label: "Мимесис", 
                philosopher: "plato", 
                rubrics: ["being"], 
                description: "Подражание, копирование идей",
                extendedDescription: "Отношение чувственного мира к миру идей как копии к оригиналу, подражания к подлинному. Вещи подражают идеям, но всегда несовершенно; искусство подражает вещам, становясь копией копии, удаленной от истины на два шага. Эта иерархия подражания объясняет несовершенство чувственного мира и обосновывает критику искусства, которое уводит от истины в царство призрачных образов."
            },
            { 
                id: "chora", 
                label: "Хора", 
                philosopher: "plato", 
                rubrics: ["being"], 
                description: "Пространство-вместилище, восприемница становления",
                extendedDescription: "Загадочное 'третье' начало между миром идей и миром становления - нечто вроде первоматерии или пространства, которое принимает в себя отпечатки идей. Хора не есть ни бытие, ни небытие; это чистая восприимчивость, лишенная собственных качеств, вечный материал для творения Демиурга. Постигается она 'незаконным рассуждением', представляя собой одну из самых темных и влиятельных концепций платонизма."
            },
            
            // АРИСТОТЕЛЬ
            { 
                id: "form", 
                label: "Форма", 
                philosopher: "aristotle", 
                rubrics: ["being"], 
                description: "Активное начало, определяющее вещь",
                extendedDescription: "Морфэ как актуальное осуществление вещи, её сущность и структурный принцип, делающий вещь тем, что она есть. В отличие от платоновских идей, аристотелевская форма не существует отдельно от материи, а составляет с ней единую конкретную вещь. Форма - источник движения и развития, она направляет материю к осуществлению заложенной в ней возможности."
            },
            { 
                id: "matter_ar", 
                label: "Материя", 
                philosopher: "aristotle", 
                rubrics: ["being", "matter"], 
                description: "Пассивное начало, субстрат",
                extendedDescription: "Хюлэ как потенциальное бытие, чистая возможность, которая сама по себе не имеет определенности, но способна принять любую форму. Материя относительна: то, что является материей на одном уровне, может быть формой на другом (бронза - материя для статуи, но форма для меди и олова). Первая материя - это чистая потенциальность без каких-либо актуальных определений."
            },
            { 
                id: "entelechy", 
                label: "Энтелехия", 
                philosopher: "aristotle", 
                rubrics: ["being"], 
                description: "Внутренняя цель, осуществление",
                extendedDescription: "Состояние полной актуализации, когда вещь достигла своей внутренне присущей ей цели и существует в совершенной полноте. Энтелехия - это не просто конечный результат, а сам процесс самоосуществления, имманентная телеология, когда цель содержится в самой природе вещи. Семя содержит энтелехию дерева, ребенок - энтелехию взрослого человека."
            },
            { 
                id: "four_causes", 
                label: "Четыре причины", 
                philosopher: "aristotle", 
                rubrics: ["being"], 
                description: "Материальная, формальная, движущая, целевая",
                extendedDescription: "Полное объяснение любой вещи требует указания четырех аспектов: из чего она сделана (материальная причина), что она есть (формальная причина), что привело её в движение (движущая причина) и ради чего она существует (целевая причина). Последняя, телеологическая причина особенно важна для Аристотеля - всё в природе имеет внутреннюю цель и стремится к её реализации."
            },
            { 
                id: "unmoved_mover", 
                label: "Перводвигатель", 
                philosopher: "aristotle", 
                rubrics: ["absolute"], 
                description: "Неподвижный источник движения",
                extendedDescription: "Чистая актуальность, вечный и неподвижный источник всякого движения в космосе, который движет, будучи предметом любви и стремления. Сам Перводвигатель не изменяется и не движется, он - мысль, мыслящая саму себя (ноэсис ноэсеос), чистая форма без материи. Как конечная причина всего сущего, он привлекает к себе весь космос, оставаясь при этом трансцендентным и самодостаточным."
            },
            { 
                id: "golden_mean", 
                label: "Золотая середина", 
                philosopher: "aristotle", 
                rubrics: ["ethics"], 
                description: "Этический принцип умеренности",
                extendedDescription: "Добродетель как нахождение правильной меры между двумя крайностями - избытком и недостатком. Мужество - середина между трусостью и безрассудством, щедрость - между скупостью и расточительством. Эта середина не арифметическая, а относительная к конкретному человеку и ситуации, определяемая практической мудростью (фронесис). Золотая середина - не компромисс, а вершина совершенства в каждой конкретной ситуации."
            },
            { 
                id: "categories", 
                label: "Категории", 
                philosopher: "aristotle", 
                rubrics: ["being"], 
                description: "Основные роды бытия",
                extendedDescription: "Десять высших родов, к которым сводятся все возможные способы высказывания о бытии: сущность, количество, качество, отношение, место, время, положение, обладание, действие, претерпевание. Категории - не просто лингвистические формы, но фундаментальные способы существования. Первая категория - сущность (усия) - онтологически первична, остальные существуют только как её определения."
            },
            { 
                id: "act_potency", 
                label: "Акт и потенция", 
                philosopher: "aristotle", 
                rubrics: ["being"], 
                description: "Энергия и возможность: фундаментальная пара бытия",
                extendedDescription: "Динамическое понимание реальности через противопоставление актуального (энергейя) и потенциального (динамис) бытия. Всё сущее представляет собой единство осуществленности и возможности к дальнейшему изменению. Движение - это переход от потенции к акту, становление того, что было возможным, действительным. Эта пара позволяет объяснить изменение, не впадая ни в элейский отказ от движения, ни в гераклитовский панфлуксизм."
            },
            { 
                id: "phronesis", 
                label: "Phronesis", 
                philosopher: "aristotle", 
                rubrics: ["ethics"], 
                description: "Практическая мудрость, благоразумие",
                extendedDescription: "Интеллектуальная добродетель, позволяющая правильно рассуждать о том, что хорошо и полезно для благой жизни. В отличие от теоретической мудрости (софия), фронесис направлена на действие и изменчивое, требует опыта и не может быть усвоена чисто рациональным путем. Это практический разум, который определяет золотую середину в каждой конкретной ситуации и направляет к эвдемонии."
            },
            { 
                id: "eudaimonia", 
                label: "Eudaimonia", 
                philosopher: "aristotle", 
                rubrics: ["ethics"], 
                description: "Благоденствие, счастье как цель жизни",
                extendedDescription: "Высшее благо человеческой жизни - не мимолетное удовольствие, а полнота осуществления человеческой природы в деятельности в соответствии с добродетелью. Эвдемония - это деятельная жизнь разумной души, созерцательная или практическая, совершенная и длящаяся на протяжении полной жизни. Она самодостаточна и является целью ради себя самой, а не средством для чего-то другого."
            },
            { 
                id: "logos", 
                label: "Логос", 
                philosopher: "aristotle", 
                rubrics: ["being"], 
                description: "Разумное начало, слово, принцип",
                extendedDescription: "Многозначное понятие, обозначающее разум, слово, определение, пропорцию, закон. У Аристотеля логос - это прежде всего определяющая формула сущности, выражающая в речи то, что есть вещь. Человек - логическое животное (зоон логон эхон), обладающее способностью к разумной речи. Логос пронизывает реальность как принцип рациональной упорядоченности и познаваемости бытия."
            },

            { 
                id: "theoria", 
                label: "Θεωρία", 
                philosopher: "aristotle", 
                rubrics: ["knowledge", "ethics"], 
                description: "Созерцательная жизнь, высшая форма деятельности",
                extendedDescription: "Высшая форма человеческой деятельности, превосходящая практическую жизнь (praxis) и ремесленное производство (poiesis). Теория - это созерцание вечных и неизменных истин ради них самих, деятельность, подобная божественной. В 'Никомаховой этике' Аристотель утверждает, что именно созерцательная жизнь философа приближает человека к божественному и составляет совершенное счастье (eudaimonia). Теория - это актуализация высшей части души (nous), деятельность чистого мышления, мыслящего само себя, подобно перводвигателю. Хотя человек смертен, в моменты теоретического созерцания он причастен бессмертному и божественному."
            },
            { 
                id: "nous_poietikos", 
                label: "Νοῦς ποιητικός", 
                philosopher: "aristotle", 
                rubrics: ["consciousness", "knowledge"], 
                description: "Творческий/активный ум",
                extendedDescription: "Активное начало познания, творящий или производящий ум, который делает потенциально мыслимое актуально мыслимым - подобно тому, как свет делает потенциально видимые цвета актуально видимыми. Это божественная часть души, вечная и бессмертная, не смешанная с телом. Nous poietikos 'приходит извне' и не возникает вместе с телом, он - чистая актуальность (energeia), всегда деятельный. Именно благодаря активному уму возможно абстрагирование форм от материи и постижение универсального в единичном. Загадочность этой концепции породила множество интерпретаций в средневековой философии, от Авиценны до Аверроэса, и повлияла на неоплатоническое понимание Ума."
            },
            { 
                id: "nous_pathetikos", 
                label: "Νοῦς παθητικός", 
                philosopher: "aristotle", 
                rubrics: ["consciousness"], 
                description: "Страдательный/пассивный ум",
                extendedDescription: "Пассивное, воспринимающее начало познания, потенциально способное стать всем мыслимым - подобно чистой доске (tabula rasa), на которой ещё ничего не написано. Это индивидуальный ум каждого человека, возникающий вместе с телом и погибающий вместе с ним. Пассивный ум получает формы от чувственного восприятия и хранит их в виде представлений (phantasmata). Он - материальная потенциальность, которая нуждается в активном уме для актуализации познания. В отличие от активного ума, пассивный ум смертен и связан с телесностью. Различение двух умов создаёт фундаментальную проблему: как бессмертный активный ум связан со смертным индивидом? Эта апория станет предметом многовековых споров."
            },
            
            // ПЛОТИН
            { 
                id: "the_one", 
                label: "Единое", 
                philosopher: "plotinus", 
                rubrics: ["being", "absolute"], 
                description: "То Эн - запредельное начало всего",
                extendedDescription: "Абсолютное первоначало, запредельное всякому бытию и мышлению, выше бытия и сущности. Единое не имеет никаких определений, ибо всякое определение вносило бы множественность; о нём нельзя сказать даже что оно есть. Как источник всего сущего, Единое порождает мир через эманацию, оставаясь при этом неизменным и неумаляемым, подобно солнцу, излучающему свет."
            },
            { 
                id: "emanation", 
                label: "Эманация", 
                philosopher: "plotinus", 
                rubrics: ["being"], 
                description: "Истечение бытия из Единого",
                extendedDescription: "Процесс порождения мира как переполнение и излияние из первоначала, образующий нисходящую иерархию: Единое → Ум → Душа → Материя. Каждая последующая ступень беднее и менее совершенна, чем предыдущая, но эманация происходит без ущерба для источника. Это не творение по воле, а необходимое следствие совершенства Единого, как свет необходимо истекает от солнца."
            },
            { 
                id: "nous", 
                label: "Ум", 
                philosopher: "plotinus", 
                rubrics: ["being"], 
                description: "Нус - первая ипостась, мир идей",
                extendedDescription: "Первое порождение Единого, где впервые появляется различие мыслящего и мыслимого, бытия и мышления, хотя они совпадают. Ум содержит в себе все идеи (эйдосы) как живое единство множественности, он одновременно мыслит и есть всё мыслимое. Это божественный интеллект, вечное самосозерцание, в котором пребывают платоновские идеи как его собственные мысли."
            },
            { 
                id: "world_soul", 
                label: "Мировая душа", 
                philosopher: "plotinus", 
                rubrics: ["being"], 
                description: "Вторая ипостась, душа космоса",
                extendedDescription: "Посредник между умопостигаемым и чувственным мирами, животворящее начало космоса. Душа созерцает Ум, но обращена также к материи, которую она оформляет и одушевляет. Индивидуальные души - части мировой души, но каждая сохраняет свою идентичность. Душа амбивалентна: высшей частью причастна вечности, низшей - вовлечена во временное становление."
            },
            { 
                id: "henosis", 
                label: "Генозис", 
                philosopher: "plotinus", 
                rubrics: ["absolute"], 
                description: "Мистическое единение с Единым",
                extendedDescription: "Высшая цель философии - экстатическое воссоединение души с Единым, превосходящее всякое мышление и дискурсивное познание. Достигается через аскетическое очищение, отрешение от телесного и даже от мыслящего 'я'. В этом опыте душа выходит за пределы себя, теряет всякую множественность и отдельность, переживая абсолютное единство. Это редкий и невыразимый опыт, доступный лишь немногим."
            },
            { 
                id: "matter_plotinus", 
                label: "Материя", 
                philosopher: "plotinus", 
                rubrics: ["being"], 
                description: "Абсолютное не-бытие, зло",
                extendedDescription: "Последняя ступень эманации, чистая потенциальность и лишенность, абсолютная неопределенность. Материя не имеет положительного существования - она лишь предел убывания бытия, тьма и небытие. Как таковая, она является метафизическим источником зла, ибо зло есть не что иное, как отсутствие блага, максимальная удаленность от Единого."
            },
            { 
                id: "contemplation", 
                label: "Созерцание", 
                philosopher: "plotinus", 
                rubrics: ["knowledge", "method"], 
                description: "Теория - путь восхождения души",
                extendedDescription: "Интеллектуальное видение умопостигаемого как основной способ познания и путь к спасению. Созерцание превосходит дискурсивное мышление, это прямое, невременное схватывание сущности. Вся иерархия бытия представляет собой различные уровни созерцания: Ум созерцает себя, Душа - Ум, природа - Душу. Через очищение и восхождение к созерцанию душа возвращается к своему источнику."
            },
            
            // АВГУСТИН
            { 
                id: "grace", 
                label: "Благодать", 
                philosopher: "augustine", 
                rubrics: ["absolute", "ethics"], 
                description: "Божественная милость к человеку",
                extendedDescription: "Незаслуженный дар Божий, необходимый для спасения после грехопадения. Человек настолько поврежден первородным грехом, что не может собственными силами творить добро и достичь спасения. Благодать предваряет всякое доброе намерение, действует в человеке и через человека. Августин разработал детальную теологию благодати в полемике с Пелагием, утверждая абсолютную зависимость человека от божественной помощи."
            },
            { 
                id: "original_sin", 
                label: "Первородный грех", 
                philosopher: "augustine", 
                rubrics: ["ethics"], 
                description: "Наследственная греховность",
                extendedDescription: "Грех Адама, передающийся всему человечеству через рождение и делающий природу человека извращенной. Не просто дурной пример, но онтологическое повреждение человеческой природы, лишившее её первоначальной целостности. В результате человек утратил свободу воли в отношении добра, став рабом похоти и смерти. Только крещение и благодать могут освободить от последствий этого греха."
            },
            { 
                id: "two_cities", 
                label: "Два града", 
                philosopher: "augustine", 
                rubrics: ["politics"], 
                description: "Град Божий и град земной",
                extendedDescription: "Два противоположных сообщества, определяемых различием любви: град Божий основан на любви к Богу до презрения к себе, град земной - на любви к себе до презрения к Богу. Это не географические или исторические образования, а мистические общности, смешанные в земной истории и разделяющиеся только в эсхатологическом исполнении. История человечества - драма взаимодействия этих двух градов от Каина и Авеля до Страшного суда."
            },
            { 
                id: "time_augustine", 
                label: "Время", 
                philosopher: "augustine", 
                rubrics: ["time"], 
                description: "Растяжение души",
                extendedDescription: "Радикально субъективная концепция времени как модуса сознания, растяжения (дистенсия) души между памятью о прошлом, вниманием к настоящему и ожиданием будущего. Времени нет вне души - прошлого уже нет, будущего еще нет, настоящее - неуловимое мгновение. Сам Бог пребывает в вечности вне времени, а тварный мир существует во времени, созданном вместе с миром. Эта теория предвосхитила феноменологию времени."
            },
            { 
                id: "confession", 
                label: "Исповедь", 
                philosopher: "augustine", 
                rubrics: ["consciousness"], 
                description: "Путь к Богу через самопознание",
                extendedDescription: "Жанр автобиографической рефлексии, где исследование собственной души становится путем богопознания. Августин открывает внутреннего человека через анализ памяти, воли, греха и обращения. Исповедь перед Богом - не просто признание грехов, но способ самопознания и богопознания, ибо познавая глубины своей души, человек обнаруживает в них присутствие Бога. 'Не выходи наружу, вернись в самого себя: истина обитает во внутреннем человеке.'"
            },
            { 
                id: "faith_reason", 
                label: "Вера и разум", 
                philosopher: "augustine", 
                rubrics: ["knowledge", "absolute"], 
                description: "Верю, чтобы понимать",
                extendedDescription: "Вера предшествует пониманию и делает его возможным: 'Верь, чтобы понимать, понимай, чтобы верить' (crede ut intelligas, intellige ut credas). Разум не противоположен вере, но вера очищает и просвещает разум, открывая ему сверхрациональные истины. Без веры разум блуждает в потемках греха; вера же, опираясь на авторитет Писания и Церкви, направляет разум к истине."
            },
            
            // ФОМА АКВИНСКИЙ
            { 
                id: "essence_existence", 
                label: "Сущность и существование", 
                philosopher: "aquinas", 
                rubrics: ["being"], 
                description: "Различение эссенции и экзистенции",
                extendedDescription: "Фундаментальное метафизическое различение между тем, что есть вещь (сущность, essentia), и тем, что она есть (существование, esse). В тварных вещах эти два аспекта реально различны - сущность не содержит в себе существование, получая его от Бога. Только в Боге сущность и существование тождественны, Он есть чистый акт бытия (ipsum esse subsistens). Это различение объясняет контингентность творения и абсолютность Творца."
            },
            { 
                id: "five_ways", 
                label: "Пять путей", 
                philosopher: "aquinas", 
                rubrics: ["absolute"], 
                description: "Доказательства бытия Бога",
                extendedDescription: "Пять рациональных аргументов в пользу существования Бога: от движения, от производящей причины, от возможности и необходимости, от степеней совершенства, от целевой причины. Все пути имеют сходную структуру: от наблюдаемых фактов о мире через принцип невозможности бесконечного регресса к необходимости первоначала. Эти доказательства - не математически строгие дедукции, а рациональное обоснование веры, демонстрирующее разумность теизма."
            },
            { 
                id: "natural_law", 
                label: "Естественный закон", 
                philosopher: "aquinas", 
                rubrics: ["ethics"], 
                description: "Рациональная основа морали",
                extendedDescription: "Участие разумного творения в вечном законе Бога через естественную склонность к должному действию. Естественный закон доступен разуму всех людей независимо от Откровения и включает основные моральные принципы: стремись к благу, избегай зла, сохраняй жизнь, воспитывай потомство, познавай истину, живи в обществе. Это не произвольное установление, а отражение рациональной природы человека и божественного замысла."
            },
            { 
                id: "analogy", 
                label: "Аналогия бытия", 
                philosopher: "aquinas", 
                rubrics: ["absolute"], 
                description: "Подобие между Богом и творением",
                extendedDescription: "Способ предицирования терминов о Боге и творениях - не унивокально (одинаково) и не эквивокально (совершенно различно), а аналогически. Между Творцом и творением есть как сходство, так и бесконечно большее различие. Когда мы говорим 'Бог благ' и 'человек благ', термин 'благой' используется аналогически - есть некоторое подобие, но божественная благость бесконечно превосходит человеческую. Это позволяет богопознанию, избегая агностицизма и антропоморфизма."
            },
            { 
                id: "thomistic_synthesis", 
                label: "Синтез Аристотеля", 
                philosopher: "aquinas", 
                rubrics: ["knowledge"], 
                description: "Христианизация философии Аристотеля",
                extendedDescription: "Грандиозный проект гармонизации аристотелевской философии с христианской теологией. Фома интегрирует понятия формы и материи, акта и потенции, четырех причин в христианскую метафизику, переосмысливая их в контексте творения и провидения. Разум и вера, философия и теология различны, но не противоречат друг другу: философия исследует истины, доступные естественному разуму, теология - истины Откровения. Это синтез определил западную интеллектуальную традицию на века."
            },
            { 
                id: "accidents", 
                label: "Акциденции", 
                philosopher: "aquinas", 
                rubrics: ["being"], 
                description: "Несущественные свойства субстанции",
                extendedDescription: "То, что существует в другом (в субстанции) и может изменяться, не затрагивая сущность вещи. Девять категорий Аристотеля, кроме субстанции, являются акциденциями: количество, качество, отношение и др. Акциденции зависят от субстанции в своем бытии, но могут отделяться от неё (как в чуде евхаристии, где акциденции хлеба и вина существуют без их субстанций). Различение субстанции и акциденций критично для метафизики и сакраментальной теологии."
            },
            { 
                id: "actual_being", 
                label: "Актуальное бытие", 
                philosopher: "aquinas", 
                rubrics: ["being"], 
                description: "Реализованное существование",
                extendedDescription: "Акт существования (actus essendi) как фундаментальная метафизическая реальность, которая актуализирует потенциальность сущности. Бытие - не абстрактное понятие, а конкретный акт, делающий вещь существующей. В этом смысле бытие - самое актуальное из всего актуального, совершенство всех совершенств. Томистский акцент на акте бытия (в отличие от сущностного подхода) открывает экзистенциальное измерение метафизики."
            },
            { 
                id: "participatio", 
                label: "Participatio", 
                philosopher: "aquinas", 
                rubrics: ["being"], 
                description: "Участие творения в божественном бытии",
                extendedDescription: "Все сотворенные вещи обладают бытием не по своей природе, а через участие (participatio) в божественном бытии. Бог - единственный, кто существует по сущности (per essentiam), всё остальное существует через участие (per participationem). Эта концепция, синтезирующая платоновский метексис и аристотелевскую метафизику, объясняет как зависимость творения от Творца, так и реальность тварного бытия."
            },
            
            // ФРЭНСИС БЭКОН
            { 
                id: "idols", 
                label: "Идолы познания", 
                philosopher: "bacon", 
                rubrics: ["knowledge"], 
                description: "Четыре источника заблуждений",
                extendedDescription: "Учение об 'идолах' (idola) - систематических источниках человеческих заблуждений, препятствующих истинному познанию природы. Бэкон выделяет четыре класса идолов: рода, пещеры, рынка и театра. Преодоление идолов необходимо для построения новой науки, основанной на экспериментальном методе. Критика идолов - это своеобразная 'негативная' часть бэконовского метода, очищающая разум от предрассудков перед применением индуктивного метода. Учение об идолах - первая систематическая критика источников познавательных ошибок в философии Нового времени."
            },
            { 
                id: "idols_tribe", 
                label: "Идолы рода", 
                philosopher: "bacon", 
                rubrics: ["knowledge"], 
                description: "Заблуждения человеческой природы",
                extendedDescription: "Идолы рода (idola tribus) - заблуждения, присущие всему человеческому роду в силу самой природы человека. К ним относятся: антропоморфизм (приписывание природе человеческих качеств), стремление к упорядочиванию и систематизации там, где её нет, преобладание того, что поражает чувства, над незаметным, предпочтение подтверждающих примеров опровергающим. Человеческий разум подобен неровному зеркалу, которое искажает отражение природы, примешивая к ней собственную природу. Эти заблуждения невозможно полностью устранить, но осознание их необходимо для правильного познания."
            },
            { 
                id: "idols_cave", 
                label: "Идолы пещеры", 
                philosopher: "bacon", 
                rubrics: ["knowledge"], 
                description: "Индивидуальные предрассудки",
                extendedDescription: "Идолы пещеры (idola specus) - индивидуальные заблуждения, связанные с личными особенностями каждого человека: воспитанием, образованием, авторитетами, случайными впечатлениями, темпераментом. Название отсылает к платоновской пещере, но у Бэкона каждый человек имеет свою собственную пещеру, преломляющую свет природы по-своему. Эти предрассудки создают субъективную окраску познания. Преодоление идолов пещеры требует критического отношения к собственному опыту и убеждениям, готовности пересматривать устоявшиеся взгляды."
            },
            { 
                id: "idols_marketplace", 
                label: "Идолы рынка", 
                philosopher: "bacon", 
                rubrics: ["knowledge", "language"], 
                description: "Заблуждения от языка и общения",
                extendedDescription: "Идолы рынка (idola fori) - заблуждения, порождаемые неправильным употреблением языка и общением между людьми. Слова часто не соответствуют вещам: либо обозначают несуществующее, либо плохо определены и многозначны. Язык создан обыденным сознанием, поэтому содержит множество ложных различений и обобщений. Философские споры часто сводятся к спорам о словах. Идолы рынка особенно опасны, так как навязываются разуму через язык постоянно и незаметно. Бэкон настаивает на точном определении терминов и критическом отношении к языку."
            },
            { 
                id: "idols_theatre", 
                label: "Идолы театра", 
                philosopher: "bacon", 
                rubrics: ["knowledge"], 
                description: "Догмы философских школ",
                extendedDescription: "Идолы театра (idola theatri) - заблуждения, перенятые из ложных философских учений и доктрин, похожих на театральные представления - искусственные выдуманные миры. Бэкон критикует три типа философий: софистическую (основанную на диалектике, как у Аристотеля), эмпирическую (основанную на узком опыте, как у алхимиков) и суеверную (смешивающую философию с теологией). Эти системы оторваны от реального опыта, замкнуты на себя и препятствуют истинному познанию природы. Преодоление идолов театра требует отказа от авторитетов и обращения к самой природе через эксперимент."
            },
            { 
                id: "induction", 
                label: "Индукция", 
                philosopher: "bacon", 
                rubrics: ["method"], 
                description: "Метод восхождения от частного к общему",
                extendedDescription: "Бэконовская индукция - систематический метод обобщения от частных наблюдений к общим законам природы, противопоставленный силлогистической дедукции схоластики. Это не простое перечисление примеров, а тщательный анализ природных явлений через составление таблиц присутствия, отсутствия и степеней. Индукция должна быть постепенной, восходя от простейших аксиом к более общим. Она опирается на эксперимент, а не на случайное наблюдение. Правильная индукция - это 'interpretatio naturae', истолкование природы, ведущее к власти над ней."
            },
            { 
                id: "knowledge_power", 
                label: "Знание - сила", 
                philosopher: "bacon", 
                rubrics: ["knowledge"], 
                description: "Scientia potentia est",
                extendedDescription: "Знаменитый афоризм 'Знание - сила' (scientia potentia est, или 'nam et ipsa scientia potestas est') выражает практическую, инструментальную ориентацию бэконовской философии. Истинное знание природы даёт власть над ней, способность преобразовывать её для блага человечества. Цель науки - не созерцание истины ради неё самой, а улучшение человеческой жизни через технические изобретения. Познать природу - значит научиться ей повиноваться, чтобы затем господствовать над ней. Это радикальный разрыв со средневековой традицией, видевшей в познании путь к созерцанию Бога."
            },
            { 
                id: "new_organon", 
                label: "Новый Органон", 
                philosopher: "bacon", 
                rubrics: ["method"], 
                description: "Новая логика научного исследования",
                extendedDescription: "'Новый Органон' (Novum Organum) - главный труд Бэкона, призванный заменить аристотелевский 'Органон' как руководство к познанию. Это новая логика, основанная на индукции, а не дедукции, на эксперименте, а не на силлогизме. Бэкон предлагает систематическую программу перестройки наук на эмпирических основаниях. Метафора органона (инструмента) подчёркивает практическую направленность: познание - это инструмент преобразования природы. 'Новый Органон' закладывает методологические основы экспериментальной науки Нового времени."
            },

            // ДЕКАРТ
            { 
                id: "cogito", 
                label: "Cogito ergo sum", 
                philosopher: "descartes", 
                rubrics: ["consciousness"], 
                description: "Я мыслю, следовательно существую",
                extendedDescription: "Первая абсолютно достоверная истина, обнаруженная в процессе методического сомнения. Даже если я сомневаюсь во всем, я не могу сомневаться в том, что я, сомневающийся, существую. Это интуиция, а не силлогизм; непосредственная самоочевидность мыслящего 'я'. Cogito становится архимедовой точкой новой философии, фундаментом, на котором Декарт возводит здание достоверного знания. Открытие субъективности как отправного пункта философствования."
            },
            { 
                id: "dualism", 
                label: "Дуализм", 
                philosopher: "descartes", 
                rubrics: ["being"], 
                description: "Разделение мышления и протяжения",
                extendedDescription: "Радикальное онтологическое различение двух видов субстанций: мыслящей (res cogitans) и протяженной (res extensa). Они абсолютно различны по сущности: душа непротяженна, неделима и свободна; тело протяженно, делимо и подчинено механическим законам. Эти субстанции реально различны и могут существовать отдельно друг от друга. Проблема их взаимодействия в человеке становится одной из главных апорий картезианства."
            },
            { 
                id: "res_cogitans", 
                label: "Res cogitans", 
                philosopher: "descartes", 
                rubrics: ["consciousness"], 
                description: "Мыслящая субстанция",
                extendedDescription: "Нематериальная субстанция, чья единственная сущностная характеристика - мышление в широком смысле (включая сомнение, понимание, утверждение, отрицание, волю, воображение, ощущение). Мыслящая субстанция непротяженна, неделима, бессмертна. Как чистое сознание, она познает себя непосредственно и достоверно, в отличие от познания внешнего мира, требующего обоснования."
            },
            { 
                id: "res_extensa", 
                label: "Res extensa", 
                philosopher: "descartes", 
                rubrics: ["matter"], 
                description: "Протяженная субстанция",
                extendedDescription: "Материальная субстанция, чья сущность - протяжение в длину, ширину и глубину. Все материальные тела - модусы единой протяженной субстанции, различающиеся лишь формой, положением и движением частей. Материя полностью механистична, лишена всяких качественных определений, действует исключительно по законам механики. Нет пустоты - там, где нет тела, есть тонкая материя."
            },
            { 
                id: "infinite_idea", 
                label: "Идея бесконечного", 
                philosopher: "descartes", 
                rubrics: ["absolute", "knowledge"], 
                description: "Врожденная идея бесконечного совершенства как доказательство Бога",
                extendedDescription: "В третьем размышлении 'Метафизических размышлений' Декарт развивает доказательство существования Бога, основанное на идее бесконечного. Конечное существо (ego cogitans) не может само произвести идею бесконечного совершенства, поскольку следствие не может превосходить причину по степени реальности. Идея бесконечного переполняет cogito, превосходит его способность к постижению. Следовательно, эта идея должна быть врожденной и вложена в человеческий разум самим Богом как его 'печать на творении'. Эта концепция оказала глубокое влияние на Левинаса, который развил идею бесконечного в контексте этики отношения к Другому."
            },
            { 
                id: "method", 
                label: "Метод сомнения", 
                philosopher: "descartes", 
                rubrics: ["method"], 
                description: "Радикальный скептицизм как путь к истине",
                extendedDescription: "Методическое, систематическое сомнение во всех прежних убеждениях с целью обнаружить абсолютно достоверное основание знания. Надо отбросить всё, в чём можно хоть немного усомниться: чувственный опыт (иллюзии), физическую реальность (сон), даже математику (злой демон). Это не скептицизм ради скептицизма, а инструмент очищения разума от предрассудков. Сомнение временное и инструментальное, ведущее к несомненной истине cogito."
            },
            { 
                id: "clear_distinct", 
                label: "Ясные и отчётливые идеи", 
                philosopher: "descartes", 
                rubrics: ["knowledge"], 
                description: "Критерий истинности",
                extendedDescription: "Правило истины: всё, что мы воспринимаем ясно и отчетливо, истинно. Ясность - это присутствие идеи внимательному уму, отчетливость - её отделенность от всех других идей. Cogito - парадигма ясной и отчетливой идеи. Бог, будучи совершенным и не-обманщиком, гарантирует, что наша ясно воспринятая интеллектуальная интуиция не может нас обманывать. Это мост от субъективной достоверности к объективной истине."
            },
            { 
                id: "innate_ideas", 
                label: "Врождённые идеи", 
                philosopher: "descartes", 
                rubrics: ["knowledge"], 
                description: "Априорное знание",
                extendedDescription: "Идеи, присущие уму от рождения, не приобретенные из опыта: идея Бога, идея субстанции, математические и логические истины. Эти идеи не обязательно осознаются с рождения, но присутствуют как врожденные способности или диспозиции ума. Против эмпиризма Декарт утверждает, что опыт лишь пробуждает эти идеи, но не создает их. Врожденность гарантирует их достоверность и универсальность."
            },
            
            // ЛОКК
            { 
                id: "tabula_rasa", 
                label: "Tabula rasa", 
                philosopher: "locke", 
                rubrics: ["knowledge"], 
                description: "Чистая доска - нет врожденных идей",
                extendedDescription: "Радикальный эмпиристский тезис: ум при рождении подобен чистой доске, не содержащей никаких врожденных идей или принципов. Всё знание происходит из опыта - внешнего (sensation) и внутреннего (reflection). Не существует врожденных теоретических или моральных принципов, известных всем людям от рождения. Даже то, что кажется универсальным, на самом деле приобретено из опыта. Это атака на рационализм и обоснование эмпиризма."
            },
            { 
                id: "simple_ideas", 
                label: "Простые идеи", 
                philosopher: "locke", 
                rubrics: ["knowledge"], 
                description: "Элементарные чувственные данные",
                extendedDescription: "Атомарные, неразложимые далее элементы познания, получаемые пассивно из ощущения или рефлексии. Примеры: белизна, твердость, холод, мышление, желание. Ум не может создавать или уничтожать простые идеи, он только принимает их от внешних объектов через органы чувств или от рефлексии над собственными операциями. Простые идеи - строительные блоки всего знания."
            },
            { 
                id: "complex_ideas", 
                label: "Сложные идеи", 
                philosopher: "locke", 
                rubrics: ["knowledge"], 
                description: "Комбинации простых идей",
                extendedDescription: "Идеи, которые ум активно конструирует из простых идей путем соединения, сравнения и абстрагирования. Ум здесь активен, создавая новые сложные идеи: субстанций (золото, человек), модусов (треугольник, благодарность), отношений (причина, тождество). Эта способность комбинирования делает возможным неограниченное расширение знания за пределы непосредственного опыта, но все сложные идеи в конечном счете сводимы к простым."
            },
            { 
                id: "primary_qualities", 
                label: "Первичные качества", 
                philosopher: "locke", 
                rubrics: ["knowledge"], 
                description: "Объективные свойства тел",
                extendedDescription: "Качества, действительно принадлежащие телам независимо от восприятия: плотность, протяженность, форма, движение, число. Эти качества неотделимы от тела, всегда присутствуют в нем. Наши идеи первичных качеств сходны с самими качествами - они репрезентируют реальные свойства объектов. Это объективная основа материального мира, познаваемая через механическое воздействие тел на наши органы чувств."
            },
            { 
                id: "secondary_qualities", 
                label: "Вторичные качества", 
                philosopher: "locke", 
                rubrics: ["knowledge"], 
                description: "Субъективные ощущения",
                extendedDescription: "Качества, которые не существуют в самих телах, а являются силами вызывать в нас определенные ощущения: цвет, звук, вкус, запах, температура. В самих объектах есть только расположение и движение мельчайших частиц (первичные качества), которые производят в нас идеи вторичных качеств. Эти идеи не сходны с чем-либо в самих телах - цвет не находится в объекте, а только в восприятии."
            },
            { 
                id: "substance_locke", 
                label: "Субстанция", 
                philosopher: "locke", 
                rubrics: ["being"], 
                description: "Неизвестный носитель качеств",
                extendedDescription: "Предполагаемый носитель или подложка, в которой существуют качества. Мы не можем воспринимать субстанцию саму по себе, только её качества; поэтому идея субстанции смутна и неопределенна - это 'нечто, мы не знаем что' (something, we know not what). Субстанция - необходимое допущение для объяснения связности качеств, но её природа остается скрытой. Это агностическая позиция по отношению к метафизике."
            },
            { 
                id: "personal_identity", 
                label: "Личная идентичность", 
                philosopher: "locke", 
                rubrics: ["consciousness"], 
                description: "Тождество через память",
                extendedDescription: "Идентичность личности во времени определяется не тождеством субстанции (души или тела), а непрерывностью сознания, прежде всего памяти. Лицо есть лицо постольку, поскольку может осознавать себя как то же самое мыслящее существо в разные времена и места. Где нет сознания, нет личности. Это революционная психологическая концепция личности, отделяющая её от метафизической субстанции души."
            },
            { 
                id: "property_theory", 
                label: "Теория собственности", 
                philosopher: "locke", 
                rubrics: ["politics"], 
                description: "Труд как основание собственности",
                extendedDescription: "В естественном состоянии человек приобретает право собственности на вещь, примешивая к ней свой труд. Каждый человек имеет собственность на свою личность и свой труд; следовательно, то, с чем он смешивает свой труд, становится его собственностью. Это право естественно и предшествует государству. Ограничение: можно присваивать ровно столько, сколько можно использовать без порчи и при условии оставления достаточного и столь же хорошего для других."
            },
            
            // СПИНОЗА
            { 
                id: "substance_spinoza", 
                label: "Субстанция", 
                philosopher: "spinoza", 
                rubrics: ["being", "absolute"], 
                description: "Бог или природа (Deus sive Natura)",
                extendedDescription: "Единственная, бесконечная, самопричинная субстанция, которая есть причина самой себя (causa sui) и всего остального. Бог и Природа - два имени одной реальности, рассматриваемой то как активное начало (natura naturans), то как совокупность следствий (natura naturata). Субстанция абсолютно бесконечна, обладает бесконечными атрибутами, из которых нам известны два: мышление и протяжение. Это имманентный пантеизм, отождествляющий Бога с тотальностью природы."
            },
            { 
                id: "modes", 
                label: "Модусы", 
                philosopher: "spinoza", 
                rubrics: ["being"], 
                description: "Проявления единой субстанции",
                extendedDescription: "Состояния или модификации субстанции - всё, что существует в другом и познается через другое. Отдельные вещи, включая человеческие умы и тела, - конечные модусы двух атрибутов субстанции. Модусы не имеют самостоятельного существования, они целиком зависят от субстанции. Различие между бесконечными и конечными модусами: первые непосредственно следуют из природы атрибута, вторые - из других конечных модусов в бесконечной цепи причин."
            },
            { 
                id: "attributes", 
                label: "Атрибуты", 
                philosopher: "spinoza", 
                rubrics: ["matter"], 
                description: "Мышление и протяжение",
                extendedDescription: "То, что интеллект усматривает в субстанции как составляющее её сущность. Субстанция обладает бесконечными атрибутами, но человеческому уму доступны только два: мышление (cogitatio) и протяжение (extensio). Каждый атрибут выражает вечную и бесконечную сущность субстанции; атрибуты параллельны и независимы, но представляют одну и ту же реальность. Порядок и связь идей те же, что порядок и связь вещей."
            },
            { 
                id: "conatus", 
                label: "Conatus", 
                philosopher: "spinoza", 
                rubrics: ["will"], 
                description: "Стремление к самосохранению",
                extendedDescription: "Фундаментальное стремление каждой вещи пребывать в своем бытии, противясь всему, что могло бы его уменьшить или уничтожить. Не инстинкт самосохранения, а онтологический принцип: сама сущность вещи состоит в усилии продолжать существовать. В человеке conatus проявляется как желание (cupiditas), являющееся самой сущностью человека. Из него выводятся все аффекты: радость (увеличение способности действовать) и печаль (её уменьшение)."
            },
            { 
                id: "intellectual_love", 
                label: "Интеллектуальная любовь", 
                philosopher: "spinoza", 
                rubrics: ["absolute"], 
                description: "Amor Dei intellectualis",
                extendedDescription: "Высшая форма познания и высшее благо - интеллектуальная любовь ума к Богу, которая есть часть бесконечной любви, которой Бог любит самого себя. Это не эмоциональная привязанность, а познание единства всех вещей в Боге sub specie aeternitatis (под знаком вечности). Достигается через адекватное познание третьего рода, ведущее к блаженству и свободе. Ум, познающий себя и тело под формой вечности, тем самым познает Бога."
            },
            { 
                id: "determinism", 
                label: "Детерминизм", 
                philosopher: "spinoza", 
                rubrics: ["freedom"], 
                description: "Необходимость всего существующего",
                extendedDescription: "Абсолютный детерминизм: всё происходит с необходимостью из вечной природы Бога. Нет случайности, нет свободы воли в традиционном смысле - всё предопределено бесконечной цепью причин и следствий. Однако свобода возможна как познанная необходимость: когда человек адекватно познает причины своих действий и понимает их необходимость, он становится свободным. Свобода не в выборе, а в понимании и принятии необходимости."
            },
            { 
                id: "natura_naturans", 
                label: "Natura naturans", 
                philosopher: "spinoza", 
                rubrics: ["absolute"], 
                description: "Природа творящая, Бог как активная причина",
                extendedDescription: "Бог, рассматриваемый как свободная причина, производящая все вещи из необходимости своей природы. Это активный, порождающий аспект субстанции - Бог в его атрибутах как вечная творческая мощь. Natura naturans - не личный творец, действующий по произволу, а безличная продуктивная природа, с необходимостью производящая бесконечное многообразие модусов. Имманентная, а не трансцендентная причинность."
            },
            { 
                id: "natura_naturata", 
                label: "Natura naturata", 
                philosopher: "spinoza", 
                rubrics: ["being"], 
                description: "Природа сотворённая, следствия субстанции",
                extendedDescription: "Всё, что следует из необходимости природы Бога - совокупность модусов, выражающих атрибуты субстанции. Это пассивный, произведенный аспект - мир как система следствий, конечные и бесконечные модусы. Natura naturata не отделена от Бога, а составляет его бесконечное самовыражение в модусах. Различие natura naturans и natura naturata - не онтологическое, а аспектуальное: две стороны единой божественной природы."
            },
            { 
                id: "adequate_ideas", 
                label: "Адекватные идеи", 
                philosopher: "spinoza", 
                rubrics: ["knowledge"], 
                description: "Истинное, полное познание",
                extendedDescription: "Идеи, которые в самих себе, безотносительно к объекту, обладают всеми свойствами истинной идеи - ясностью, отчетливостью и внутренней согласованностью. Адекватная идея полностью объясняет свой объект через его причину, познавая вещь в её необходимости. Это познание второго и третьего рода - рациональное и интуитивное, в отличие от смутного чувственного познания. Чем больше адекватных идей имеет ум, тем меньше он подвержен пассивным аффектам и тем свободнее."
            },
            
            // ЛЕЙБНИЦ
            { 
                id: "monads", 
                label: "Монады", 
                philosopher: "leibniz", 
                rubrics: ["being"], 
                description: "Простые неделимые субстанции",
                extendedDescription: "Истинные атомы природы, простые субстанции, лишенные частей, протяжения и формы. Каждая монада - живое зеркало универса, отражающее всю вселенную со своей уникальной точки зрения. Монады абсолютно замкнуты, 'не имеют окон' - не взаимодействуют напрямую, но согласованы предустановленной гармонией. Иерархия монад от минимального восприятия до высшей монады - Бога, обладающего совершенным знанием."
            },
            { 
                id: "preestablished", 
                label: "Предустановленная гармония", 
                philosopher: "leibniz", 
                rubrics: ["being"], 
                description: "Согласованность монад",
                extendedDescription: "Божественное установление совершенного соответствия между всеми монадами, объясняющее видимость взаимодействия при фактической изоляции. Бог при творении синхронизировал внутренние программы всех монад так, что их перцепции и апперцепции взаимно согласованы. Это решает психо-физическую проблему без реального взаимодействия души и тела: они подобны синхронизированным часам, каждые идут сами по себе, но всегда показывают одно время."
            },
            { 
                id: "best_worlds", 
                label: "Лучший из миров", 
                philosopher: "leibniz", 
                rubrics: ["absolute"], 
                description: "Теодицея",
                extendedDescription: "Бог, будучи совершенно благим, мудрым и могущественным, из бесконечного множества возможных миров выбрал для актуализации наилучший - максимизирующий добро при минимуме зла. Зло существует, но либо как необходимое следствие метафизических ограничений конечности, либо как средство для большего добра. Оптимизм Лейбница не отрицает зло, но утверждает, что любой альтернативный мир содержал бы больше зла или меньше добра."
            },
            { 
                id: "petites_perceptions", 
                label: "Малые перцепции", 
                philosopher: "leibniz", 
                rubrics: ["consciousness"], 
                description: "Бессознательные восприятия",
                extendedDescription: "Бесчисленные минутные восприятия, не достигающие порога сознания, но составляющие основу нашей психической жизни. Даже 'голые' монады обладают перцепциями, хотя и лишены апперцепции. Сумма малых перцепций производит осознаваемые восприятия (как шум моря складывается из звуков отдельных капель). Это открытие бессознательного измерения психики, предвосхищающее современную психологию."
            },
            { 
                id: "sufficient_reason", 
                label: "Достаточное основание", 
                philosopher: "leibniz", 
                rubrics: ["being"], 
                description: "Принцип рациональности",
                extendedDescription: "Фундаментальный метафизический принцип: ничто не происходит без достаточного основания, то есть без причины, по которой это есть так, а не иначе. Применим даже к Богу: он действует по принципу наилучшего, его выбор имеет достаточное основание в совершенстве избранного. Этот принцип, дополняющий принцип противоречия, утверждает полную рациональность реальности - для всего существует объяснение, хотя оно может быть недоступно конечному уму."
            },
            { 
                id: "apperception", 
                label: "Апперцепция", 
                philosopher: "leibniz", 
                rubrics: ["consciousness"], 
                description: "Осознанное восприятие, рефлексивное сознание",
                extendedDescription: "Рефлексивное осознание своих восприятий, сознание сознания. Не все монады обладают апперцепцией - только разумные души, способные к самосознанию и рефлексии. Это высший уровень психической деятельности, отличающий человека от животных. Апперцепция позволяет нам осознавать наши перцепции, формировать ясные идеи и заниматься рефлексивным познанием. Она делает возможным самопознание и метафизику."
            },
            { 
                id: "continuity", 
                label: "Принцип непрерывности", 
                philosopher: "leibniz", 
                rubrics: ["being"], 
                description: "Natura non facit saltus - природа не делает скачков",
                extendedDescription: "В природе всё происходит постепенно, нет резких переходов или пробелов - между любыми двумя состояниями существует бесконечный ряд промежуточных. Этот принцип применим как к физическому миру (покой - это бесконечно малое движение), так и к иерархии существ (между человеком и животным нет четкой границы). Непрерывность отражает совершенство божественного творения и служит важным эвристическим принципом в науке и метафизике."
            },
            
            // БЕРКЛИ
            { 
                id: "esse_percipi", 
                label: "Esse est percipi", 
                philosopher: "berkeley", 
                rubrics: ["being"], 
                description: "Быть - значит быть воспринимаемым",
                extendedDescription: "Радикальный идеалистический тезис: существование чувственных вещей состоит исключительно в том, чтобы быть воспринимаемыми (esse est percipi) или воспринимать (esse est percipere для духов). Вне восприятия нет никакого бытия - дерево в саду существует, только пока кто-то его воспринимает. Это отрицание материальной субстанции как чего-то, существующего независимо от ума. Реальны только идеи и воспринимающие их духи."
            },
            { 
                id: "immaterialism", 
                label: "Имматериализм", 
                philosopher: "berkeley", 
                rubrics: ["being"], 
                description: "Отрицание материальной субстанции",
                extendedDescription: "Отрицание существования материи как независимой от ума субстанции. То, что мы называем материальными вещами, есть не что иное, как совокупности идей в уме. Концепция материи философски излишня и приводит к скептицизму; устранение её делает мир более понятным и познаваемым. Имматериализм не отрицает реальность вещей, но утверждает, что их реальность - идеальна, а не материальна."
            },
            { 
                id: "god_perceiver", 
                label: "Бог как воспринимающий", 
                philosopher: "berkeley", 
                rubrics: ["absolute"], 
                description: "Бог гарантирует существование мира",
                extendedDescription: "Бог - бесконечный вечный дух, постоянно воспринимающий всё. Это решает проблему непрерывности существования вещей: дерево продолжает существовать, когда никто из людей его не воспринимает, потому что его постоянно воспринимает Бог. Божественное восприятие не только поддерживает бытие вещей, но и производит в нас идеи согласно определенному порядку - законам природы. Бог как causa occasionalis наших восприятий."
            },
            { 
                id: "ideas_berkeley", 
                label: "Идеи", 
                philosopher: "berkeley", 
                rubrics: ["knowledge"], 
                description: "Единственная реальность - идеи в уме",
                extendedDescription: "Идеи - это всё, что непосредственно воспринимается умом: цвета, звуки, формы, движения и т.д. Они пассивны, инертны, зависят от воспринимающего духа. Различие между реальными вещами и воображением - не в материальной основе, а в происхождении: реальные идеи производятся в нас Богом, а воображаемые - нашей собственной волей. Порядок и регулярность божественных идей составляют то, что мы называем природой."
            },
            
            // ЮМ
            { 
                id: "impressions", 
                label: "Впечатления", 
                philosopher: "hume", 
                rubrics: ["knowledge"], 
                description: "Первичные чувственные данные",
                extendedDescription: "Непосредственные, живые данные опыта - ощущения, аффекты, эмоции. Впечатления обладают максимальной силой и живостью, поступают в ум с наибольшей интенсивностью. Они первичны по отношению к идеям - всякая простая идея имеет соответствующее впечатление, из которого она происходит. Различают впечатления ощущения (от внешних объектов) и впечатления рефлексии (от внутреннего опыта - эмоции, желания)."
            },
            { 
                id: "ideas_hume", 
                label: "Идеи", 
                philosopher: "hume", 
                rubrics: ["knowledge"], 
                description: "Копии впечатлений",
                extendedDescription: "Бледные образы впечатлений в мышлении и рассуждении. Идеи менее живы и интенсивны, чем впечатления, от которых они производны. Всякая идея должна быть сводима к соответствующему впечатлению - это критерий осмысленности. Сложные идеи могут комбинировать элементы различных впечатлений, но все простые идеи копируют простые впечатления. Ум не может создавать, а только комбинировать и преобразовывать данные опыта."
            },
            { 
                id: "causality_critique", 
                label: "Критика причинности", 
                philosopher: "hume", 
                rubrics: ["knowledge"], 
                description: "Привычка, не необходимость",
                extendedDescription: "Разрушительная критика каузального принципа: мы не воспринимаем необходимую связь между причиной и следствием, а только их постоянное соединение. Идея причинности - не логическая необходимость, а психологическая привычка: после многократного наблюдения последовательности A-B ум привыкает ожидать B при появлении A. Нет рационального обоснования индукции - она основана на вере, а не на разуме. Это подрывает метафизику и эмпирическую науку."
            },
            { 
                id: "bundle_theory", 
                label: "Теория пучка", 
                philosopher: "hume", 
                rubrics: ["consciousness"], 
                description: "Я как связка восприятий",
                extendedDescription: "Радикальная критика субстанциальной концепции 'я'. Мы не имеем впечатления постоянного и неизменного 'я'; самонаблюдение обнаруживает только поток отдельных восприятий. 'Я' - это не более чем 'пучок или связка различных восприятий', сменяющих друг друга с невообразимой быстротой. Нет субстрата, объединяющего восприятия; их единство - лишь фикция воображения, создаваемая ассоциацией и памятью."
            },
            { 
                id: "is_ought", 
                label: "Гильотина Юма", 
                philosopher: "hume", 
                rubrics: ["ethics"], 
                description: "Разрыв между сущим и должным",
                extendedDescription: "Логический разрыв между дескриптивными утверждениями о том, что есть, и нормативными - о том, что должно быть. Из фактических суждений ('is') нельзя логически вывести моральные ('ought'). Невозможен переход от описательных посылок к предписывающим заключениям без введения нормативной посылки. Это подрывает попытки обосновать мораль на основе фактов о природе человека или устройстве мира."
            },
            { 
                id: "custom", 
                label: "Привычка", 
                philosopher: "hume", 
                rubrics: ["knowledge"], 
                description: "Основа веры и ожиданий",
                extendedDescription: "Привычка (или обычай) - величайший проводник человеческой жизни, основа всех наших выводов о фактах. Не разум, а привычка заставляет нас ожидать в будущем того, что соответствует прошлому опыту. Повторение не дает логического основания для индукции, но создает психологическую склонность к определенным ожиданиям. Привычка - это природный инстинкт, делающий возможной практическую жизнь там, где разум бессилен."
            },
            
            // КАНТ
            { 
                id: "thing_itself", 
                label: "Вещь в себе", 
                philosopher: "kant", 
                rubrics: ["being"], 
                description: "Непознаваемая сущность",
                extendedDescription: "Ding an sich - вещи, как они существуют сами по себе, независимо от наших способов познания. Трансцендентная реальность, навсегда закрытая для теоретического познания, ибо мы познаем только через априорные формы чувственности и рассудка. Мы не можем знать, каковы вещи в себе - доступны только феномены, явления. Вещь в себе - граничное понятие, указывающее на пределы возможного опыта и напоминающее о зависимости нашего познания от субъективных форм."
            },
            { 
                id: "phenomenon", 
                label: "Феномен", 
                philosopher: "kant", 
                rubrics: ["being"], 
                description: "Явление для нас",
                extendedDescription: "Вещи, как они являются нам в опыте, оформленные априорными формами чувственности (пространство и время) и категориями рассудка. Феномены - единственный возможный объект теоретического познания. Мир феноменов не иллюзия, а реальный объект опыта, но его структура частично определена познающим субъектом. Различение феномена и ноумена - ключ к разрешению антиномий разума и ограничению притязаний метафизики."
            },
            { 
                id: "categorical", 
                label: "Категорический императив", 
                philosopher: "kant", 
                rubrics: ["ethics"], 
                description: "Безусловный моральный закон",
                extendedDescription: "Высший принцип морали, повелевающий безусловно, независимо от целей и последствий. Главная формулировка: 'Поступай так, чтобы максима твоей воли могла бы быть всеобщим законом'. Требует универсализации: прежде чем действовать, спроси себя, мог ли бы ты желать, чтобы все поступали так же. Другая формулировка: 'Относись к человечеству в своем лице и лице другого всегда как к цели, никогда только как к средству'. Это автономный закон разума, основание достоинства личности."
            },
            { 
                id: "apriori", 
                label: "Априорные формы", 
                philosopher: "kant", 
                rubrics: ["knowledge"], 
                description: "Врожденные структуры познания",
                extendedDescription: "Формальные условия возможности опыта, присущие познающему субъекту до и независимо от опыта. Априорные формы чувственности - пространство и время; априорные формы рассудка - двенадцать категорий. Они не извлекаются из опыта, но делают опыт возможным, структурируя хаотическое многообразие ощущений. Априорное знание необходимо и универсально, в отличие от апостериорного, которое случайно и частно."
            },
            { 
                id: "synthetic_apriori", 
                label: "Синтетические априори", 
                philosopher: "kant", 
                rubrics: ["knowledge"], 
                description: "Расширяющие априорные суждения",
                extendedDescription: "Суждения, которые одновременно априорны (необходимы и универсальны) и синтетичны (расширяют наше знание, не содержатся аналитически в понятии субъекта). Примеры: математические истины ('7+5=12'), основоположения естествознания ('все события имеют причины'). Возможность синтетических априорных суждений - центральный вопрос 'Критики чистого разума'. Они возможны потому, что выражают априорные условия опыта, накладываемые на него познающим субъектом."
            },
            { 
                id: "transcendental", 
                label: "Трансцендентальное", 
                philosopher: "kant", 
                rubrics: ["knowledge"], 
                description: "Условия возможности опыта",
                extendedDescription: "То, что касается не предметов опыта, а нашего способа познания предметов, поскольку это познание должно быть возможным априори. Трансцендентальное исследование - не изучение объектов, а изучение наших познавательных способностей и априорных условий возможности опыта. Это рефлексия второго порядка: не 'что мы познаем?', а 'как возможно, что мы познаем?' Трансцендентальная философия - критика и обоснование возможных границ разума."
            },
            { 
                id: "autonomy", 
                label: "Автономия воли", 
                philosopher: "kant", 
                rubrics: ["freedom"], 
                description: "Самозаконодательство разума",
                extendedDescription: "Свойство воли быть законом для самой себя, самостоятельно устанавливать моральный закон без внешнего принуждения или гетерономных мотивов. Автономия - противоположность гетерономии, где воля определяется внешними объектами желания. Моральная воля автономна, когда определяется только формой всеобщности закона, категорическим императивом. Автономия - основание достоинства человека и возможности свободы в мире природной необходимости."
            },
            { 
                id: "antinomies", 
                label: "Антиномии", 
                philosopher: "kant", 
                rubrics: ["knowledge"], 
                description: "Противоречия чистого разума при выходе за опыт",
                extendedDescription: "Неразрешимые конфликты разума с самим собой, когда он пытается познавать безусловное (мир как целое, свободу, Бога). Четыре антиномии: конечность/бесконечность мира во времени и пространстве; простота/сложность субстанций; свобода/необходимость; необходимое существо/только случайное. Тезис и антитезис каждой антиномии равно доказуемы. Разрешение: различение феноменов и ноуменов - антиномии возникают от незаконного применения категорий за пределами опыта."
            },
            { 
                id: "sublime", 
                label: "Возвышенное", 
                philosopher: "kant", 
                rubrics: ["ethics"], 
                description: "Эстетическая категория безграничного",
                extendedDescription: "Чувство, вызываемое безмерно великим (математически возвышенное) или безмерно могущественным (динамически возвышенное), что превосходит возможности воображения. В отличие от прекрасного (гармония и соразмерность), возвышенное связано с бесформенностью и безграничностью. Опыт возвышенного двойствен: сначала неудовольствие от неспособности воображения охватить целое, затем удовольствие от осознания превосходства разума над чувственностью, нашего морального назначения над природой."
            },
            { 
                id: "postulates", 
                label: "Постулаты практического разума", 
                philosopher: "kant", 
                rubrics: ["absolute"], 
                description: "Бог, бессмертие души, свобода воли",
                extendedDescription: "Три теоретически недоказуемые, но практически необходимые идеи: свобода воли (условие моральности), бессмертие души (возможность бесконечного нравственного совершенствования), бытие Бога (гарант соответствия добродетели и счастья). Не теоретические знания, а практические постулаты - моральный закон требует принять их как условия возможности высшего блага. Это рациональная вера, основанная не на доказательствах, а на моральной необходимости."
            },
            { 
                id: "aesthetic_judgment", 
                label: "Эстетическое суждение", 
                philosopher: "kant", 
                rubrics: ["knowledge"], 
                description: "Суждение вкуса, незаинтересованное удовольствие",
                extendedDescription: "Суждение о прекрасном, основанное на чувстве удовольствия, которое субъективно, но претендует на всеобщность. Незаинтересованное - не связано с желанием обладать объектом или пользой. Суждение вкуса не когнитивно (не дает знания об объекте), но и не просто субъективно - оно предполагает общее чувство (sensus communis), позволяющее нам ожидать согласия других. Эстетическое суждение - мост между теоретическим и практическим разумом, природой и свободой."
            },

            { 
                id: "schematism", 
                label: "Схематизм", 
                philosopher: "kant", 
                rubrics: ["knowledge"], 
                description: "Связь между категориями и чувственностью",
                extendedDescription: "Таинственное искусство, скрытое в глубинах человеческой души, опосредующее между чистыми рассудочными категориями и многообразием чувственных созерцаний. Схема - это трансцендентальное временное определение, позволяющее применять категории к явлениям. Без схематизма категории были бы пустыми формами, неспособными схватить опыт. Схема величины - это число как единство синтеза однородного многообразия во времени; схема реальности - это бытие во времени; схема субстанции - постоянство реального во времени. Продуктивное воображение создаёт схемы, действуя по правилу, но это действие остаётся неосознанным. Схематизм - самая тёмная глава 'Критики чистого разума', но без него невозможно понять, как возможно синтетическое априорное знание."
            },
            
            // ФИХТЕ
            { 
                id: "absolute_ego", 
                label: "Абсолютное Я", 
                philosopher: "fichte", 
                rubrics: ["consciousness"], 
                description: "Самополагающее сознание",
                extendedDescription: "Первопринцип философии - абсолютное, ничем не обусловленное Я, которое само себя полагает (Tathandlung). Не эмпирическое, индивидуальное 'я', а трансцендентальное, чистое самосознание как условие всякого опыта. Я первично по отношению к объекту, ибо полагает и себя, и не-Я. Абсолютное Я - бесконечная деятельность, самопорождающаяся спонтанность, которая не имеет бытия, а есть чистое действование. Это радикализация кантовского трансцендентального единства апперцепции."
            },
            { 
                id: "non_ego", 
                label: "Не-Я", 
                philosopher: "fichte", 
                rubrics: ["being"], 
                description: "Противоположность Я",
                extendedDescription: "Всё, что противополагается Я - объективный мир, препятствие для бесконечной деятельности Я. Не-Я не существует независимо, а полагается самим Я для себя как граница, необходимая для самореализации. Я полагает не-Я в себе, создавая различие субъекта и объекта внутри себя. Эта диалектика Я и не-Я - основа всего опыта и познания. Не-Я - продукт бессознательной продуктивной деятельности воображения."
            },
            { 
                id: "tathandlung", 
                label: "Татхандлунг", 
                philosopher: "fichte", 
                rubrics: ["consciousness"], 
                description: "Действие-поступок Я",
                extendedDescription: "Первоначальный акт самополагания Я, одновременно действие и факт (Tat-Handlung). Не психологический акт, а абсолютное начало философии, из которого выводится всё остальное. Это чистая спонтанность, непосредственное самосознание, в котором деятель и действие совпадают. Я существует, только полагая себя; его сущность - в деятельности самополагания. Это выход за пределы кантовского дуализма вещи в себе и феномена к монизму абсолютного Я."
            },
            { 
                id: "striving", 
                label: "Стремление", 
                philosopher: "fichte", 
                rubrics: ["freedom"], 
                description: "Бесконечная активность Я",
                extendedDescription: "Фундаментальная характеристика Я - бесконечное стремление преодолеть не-Я, ассимилировать его, превратить в Я. Это стремление по определению не может быть завершено - полное преодоление не-Я означало бы исчезновение конечного Я. Стремление - источник всей активности, практической и теоретической. В практической сфере оно проявляется как моральное усилие преобразовать мир согласно разуму; бесконечность задачи - условие морального прогресса."
            },
            { 
                id: "practical_primacy", 
                label: "Примат практического", 
                philosopher: "fichte", 
                rubrics: ["ethics"], 
                description: "Приоритет действия над познанием",
                extendedDescription: "Практическая деятельность первична по отношению к теоретической; Я изначально есть действование, а не созерцание. Познание возникает как препятствие для практического стремления - мы познаем мир, поскольку он сопротивляется нашей воле. Теоретическое отношение вторично, производно от практического. Истина не дана в созерцании, а создается в действии. Философия должна исходить не из бытия, а из долженствования, из императива нравственного действия."
            },
            { 
                id: "imagination", 
                label: "Продуктивное воображение", 
                philosopher: "fichte", 
                rubrics: ["consciousness"], 
                description: "Einbildungskraft - синтезирующая способность Я",
                extendedDescription: "Посредствующая способность между Я и не-Я, которая творит синтез через 'парение' (Schweben) между противоположностями. Продуктивное воображение бессознательно производит объективный мир как необходимый коррелят самосознания. Это не произвольная фантазия, а трансцендентальная способность, делающая возможным опыт. Воображение создает схему времени и пространства, в которых является не-Я. Центральная, но самая темная часть наукоучения."
            },
            { 
                id: "wissenschaftslehre", 
                label: "Наукоучение", 
                philosopher: "fichte", 
                rubrics: ["method"], 
                description: "Система философии как строгая наука",
                extendedDescription: "Проект философии как строгой науки, выводящей всё знание из единого самоочевидного принципа - самополагания Я. Не система знаний о мире, а учение о знании, наука наук. Систематическая дедукция всех категорий и структур опыта из трех основоположений. Наукоучение - не догма, а метод, живое философствование, требующее от читателя воспроизведения актов трансцендентального мышления. Постоянно переделывалось Фихте в поисках адекватного изложения."
            },

            // ШЕЛЛИНГ
            { 
                id: "absolute_identity", 
                label: "Абсолютное тождество", 
                philosopher: "schelling", 
                rubrics: ["being", "absolute"], 
                description: "Точка безразличия субъекта и объекта",
                extendedDescription: "Абсолютное тождество представляет собой точку неразличимости между субъектом и объектом, мышлением и бытием, идеальным и реальным. Шеллинг преодолевает фихтевский дуализм абсолютного Я и не-Я, утверждая, что в абсолюте противоположности пребывают в состоянии изначального единства. Это не синтез противоположностей, а их исходное безразличие, предшествующее всякому различению. Гегель критиковал эту концепцию как 'ночь, в которой все коровы черны', упрекая Шеллинга в отсутствии диалектического развития. Тем не менее, абсолютное тождество оказало влияние на формирование гегелевской абсолютной идеи."
            },

            { 
                id: "naturphilosophie", 
                label: "Натурфилософия", 
                philosopher: "schelling", 
                rubrics: ["being", "matter"], 
                description: "Природа как видимый дух, дух как невидимая природа",
                extendedDescription: "Натурфилософия Шеллинга преодолевает механистическое понимание природы, утверждая её как живой организм и ступень самораскрытия абсолюта. 'Природа есть видимый дух, дух есть невидимая природа' - этот тезис выражает тождество идеального и реального. Природа не мёртвая материя, противостоящая духу, но сам дух в его инобытии, в форме бессознательной продуктивности. Развитие природы от неорганической материи через растительную и животную жизнь к сознанию понимается как процесс самопознания абсолюта. Эта концепция развивает спинозовскую natura naturans, но в динамическом, а не статическом ключе."
            },

            { 
                id: "intellectual_intuition", 
                label: "Интеллектуальная интуиция", 
                philosopher: "schelling", 
                rubrics: ["knowledge", "consciousness"], 
                description: "Непосредственное созерцание абсолютного",
                extendedDescription: "Интеллектуальная интуиция есть способность непосредственного, не опосредованного понятиями созерцания абсолютного тождества субъекта и объекта. Шеллинг критикует кантовское ограничение познания сферой явлений, утверждая возможность интеллектуальной интуиции как формы сверхчувственного познания. В этом акте самосознание совпадает с бытием, мышление тождественно своему предмету. Интеллектуальная интуиция развивает фихтевское 'дело-действие' (Tathandlung), но переносит акцент с практического на созерцательное. Гегель критиковал эту концепцию за недостаток опосредования, однако сама идея непосредственного знания абсолютного оказала влияние на романтическую философию."
            },

            { 
                id: "transcendental_idealism_system", 
                label: "Система трансцендентального идеализма", 
                philosopher: "schelling", 
                rubrics: ["consciousness", "method"], 
                description: "Синтез теоретической и практической философии",
                extendedDescription: "В 'Системе трансцендентального идеализма' (1800) Шеллинг прослеживает путь от бессознательной продуктивности природы до высшего самосознания в искусстве. Трансцендентальная история самосознания разворачивается через ряд эпох: от ощущения и созерцания через продуктивное воображение к рефлексии и воле. Теоретическое и практическое, познание и действие объединяются в эстетическом созерцании. Эта система развивает кантовский трансцендентализм и синтезирует его с фихтевским наукоучением, преодолевая разрыв между теоретическим и практическим разумом. Шеллинг показывает, как абсолютное тождество реализуется в истории духа."
            },

            { 
                id: "philosophy_revelation", 
                label: "Философия откровения", 
                philosopher: "schelling", 
                rubrics: ["absolute", "knowledge"], 
                description: "Позитивная философия мифа и откровения",
                extendedDescription: "В поздний период Шеллинг различает негативную и позитивную философию. Негативная философия имеет дело с сущностью, с тем, что может быть (was sein kann), и остаётся в сфере чистой возможности и логики. Позитивная философия обращается к существованию, к тому, что действительно есть (was ist), к историческому откровению абсолюта. Философия откровения исследует мифологию и религию как объективные формы самораскрытия божественного в истории. Бог не логическая необходимость, а свободно волящее существо, чьё откровение не может быть выведено из понятий. Эта концепция повлияла на религиозный экзистенциализм и философскую герменевтику."
            },

            { 
                id: "potencies", 
                label: "Потенции", 
                philosopher: "schelling", 
                rubrics: ["being", "dialectics"], 
                description: "Ступени развертывания абсолютного",
                extendedDescription: "Потенции (Potenzen) представляют собой ступени или моменты самораскрытия абсолюта, через которые единое развёртывается во множественность. Первая потенция соответствует бытию-в-себе, вторая - для-себя-бытию, третья - синтезу обеих в абсолютном. Каждая потенция содержит в себе целостность абсолюта, но в разной степени проявленности. Это не временная последовательность, но вечная структура абсолютного. Учение о потенциях предвосхищает гегелевскую диалектику триад, но у Шеллинга сохраняется больше мистического и теософского элемента. Влияние этой концепции прослеживается в поздних работах Хайдеггера о временности."
            },

            { 
                id: "aesthetic_production", 
                label: "Эстетическое творчество", 
                philosopher: "schelling", 
                rubrics: ["consciousness"], 
                description: "Искусство как органон философии",
                extendedDescription: "Шеллинг провозглашает искусство органоном и документом философии, единственным способом объективации того, что философия может выразить лишь субъективно. В художественном творчестве гений бессознательно создаёт то, что философия пытается постичь сознательно - тождество свободы и необходимости, субъективного и объективного. Произведение искусства есть конечное, в котором являет себя бесконечное, чувственное воплощение идеи. Эстетическое созерцание разрешает все противоречия теоретической и практической философии. Эта концепция оказала огромное влияние на немецкий романтизм и философию искусства XIX века."
            },
            
            // ГЕГЕЛЬ
            { 
                id: "absolute_idea", 
                label: "Абсолютная идея", 
                philosopher: "hegel", 
                rubrics: ["absolute"], 
                description: "Саморазвивающийся мировой дух",
                extendedDescription: "Высшая ступень развития духа, на которой он полностью познает себя в своей тотальности. Не статичная сущность, а живой процесс самопознания и самореализации через диалектическое движение. Абсолютная идея включает в себя всю действительность как моменты своего развития - природу как инобытие духа, историю как его возвращение к себе. Это конкретное единство всех определений, достигшее полной прозрачности для себя - мышление, мыслящее само себя."
            },
            { 
                id: "dialectic", 
                label: "Диалектика", 
                philosopher: "hegel", 
                rubrics: ["dialectics"], 
                description: "Тезис-антитезис-синтез",
                extendedDescription: "Метод и структура реальности: развитие через противоречие и его разрешение в высшем синтезе. Каждое понятие содержит в себе свою противоположность, переходит в неё, и обе снимаются (aufgehoben) в новом единстве. Не формальная логика, а логика развития, движения от абстрактного к конкретному. Диалектика - самодвижение понятия, ритм органической жизни духа. Три момента: абстрактный (рассудочный), диалектический (негативно-разумный), спекулятивный (позитивно-разумный)."
            },
            { 
                id: "weltgeist", 
                label: "Weltgeist", 
                philosopher: "hegel", 
                rubrics: ["absolute"], 
                description: "Мировой дух в истории",
                extendedDescription: "Абсолютный дух, реализующий себя в мировой истории через дух народов. История - не случайный процесс, а разумная необходимость, прогресс в сознании свободы. Каждая эпоха - ступень самопознания духа, каждый народ - носитель мирового духа на определенной стадии. Великие личности - орудия мирового духа, бессознательно реализующие его цели. История завершается полным самопознанием духа в абсолютном знании."
            },
            { 
                id: "aufhebung", 
                label: "Aufhebung", 
                philosopher: "hegel", 
                rubrics: ["dialectics"], 
                description: "Снятие противоречий",
                extendedDescription: "Диалектическое снятие - тройное движение: отрицание, сохранение и подъем на высший уровень. Противоположности не просто уничтожаются, но сохраняются в преобразованном виде как моменты высшего единства. Немецкое 'aufheben' уникально объединяет эти три смысла. Каждое снятие одновременно конец и новое начало, смерть и воскресение. Это не компромисс, а качественно новая ступень, включающая в себя всё богатство предшествующих противоположностей."
            },
            { 
                id: "master_slave", 
                label: "Господин и раб", 
                philosopher: "hegel", 
                rubrics: ["dialectics"], 
                description: "Диалектика признания",
                extendedDescription: "Ключевая диалектическая фигура самосознания: борьба за признание приводит к отношению господства и рабства. Парадокс: господин, добившийся признания через страх смерти раба, получает пустое признание от несвободного; раб же через труд и страх смерти достигает подлинного самосознания. Рабское сознание, преобразуя природу трудом, формирует себя и движется к свободе. Диалектика переворачивается - раб становится истиной господина."
            },
            { 
                id: "objective_spirit", 
                label: "Объективный дух", 
                philosopher: "hegel", 
                rubrics: ["politics"], 
                description: "Дух в социальных институтах",
                extendedDescription: "Реализация духа в объективных формах социальной жизни - праве, морали, нравственности (семья, гражданское общество, государство). Не субъективные мнения, а объективированные формы свободы, воплощенные в институтах. Государство - высшая форма объективного духа, 'шествие Бога в мире', реализация разумной свободы. Только в государстве индивид достигает конкретной свободы через единство с всеобщим."
            },
            { 
                id: "cunning_reason", 
                label: "Хитрость разума", 
                philosopher: "hegel", 
                rubrics: ["dialectics"], 
                description: "Самореализация духа через историю",
                extendedDescription: "List der Vernunft - способ, которым мировой разум осуществляет свои цели через страсти и интересы индивидов. Люди действуют ради собственных целей, но неосознанно реализуют высший замысел разума. Великие исторические личности - 'деловые люди мирового духа', орудия в его руках. Они разрушаются, выполнив свою миссию. Разум хитр - он дает страстям действовать, оставаясь в стороне, но в результате реализуется всеобщее."
            },
            { 
                id: "entfremdung", 
                label: "Entfremdung", 
                philosopher: "hegel", 
                rubrics: ["dialectics"], 
                description: "Отчуждение как необходимый момент развития духа",
                extendedDescription: "Отчуждение - необходимая стадия развития духа: он должен выйти из себя, стать иным, чтобы вернуться к себе обогащенным. Природа - отчужденный дух, дух в форме инобытия. Труд - отчуждение субъекта в продукте. Это не просто негативный процесс, а момент самопознания: дух познает себя через свое отчуждение. Отчуждение снимается в возвращении духа к себе, но уже не как абстрактное тождество, а как конкретное единство."
            },
            { 
                id: "negative", 
                label: "Негативное", 
                philosopher: "hegel", 
                rubrics: ["dialectics"], 
                description: "Движущая сила диалектики, отрицание",
                extendedDescription: "Негативность - движущая сила диалектики, способность духа отрицать непосредственное, противоречить себе и через это развиваться. Не внешнее разрушение, а внутреннее самоотрицание, имманентная негативность понятия. 'Негативное есть само Я' - субъект как чистая негативность, способная преодолевать всякую определенность. Смерть, труд, разлука - формы негативного, через которые дух приходит к себе. 'Жизнь духа - это жизнь, которая переносит смерть и в ней себя сохраняет.'"
            },
            { 
                id: "concrete", 
                label: "Конкретное", 
                philosopher: "hegel", 
                rubrics: ["being"], 
                description: "Единство многообразных определений",
                extendedDescription: "Истинно конкретное - не чувственная единичность, а понятие, содержащее в себе всё богатство определений в их единстве. Конкретное есть тотальность, живое целое, развитое единство многообразия. В отличие от абстрактного (одностороннего, бедного), конкретное включает различия и противоположности как свои моменты. Истина конкретна - она есть систематическое развертывание всех определений, а не голое абстрактное тождество."
            },
            { 
                id: "abstract", 
                label: "Абстрактное", 
                philosopher: "hegel", 
                rubrics: ["being"], 
                description: "Одностороннее, неполное определение",
                extendedDescription: "Абстрактное - односторонне, изолированно взятое определение, оторванное от целого и противопоставленное другим. Рассудочное мышление фиксирует абстрактные определения в их раздельности. Но всякая абстракция содержит момент истины и должна быть снята в конкретной тотальности. Даже 'чувственная достоверность' абстрактна, ибо схватывает лишь 'это здесь и теперь' вне всеобщих связей. Путь от абстрактного к конкретному - путь познания истины."
            },

            { 
                id: "an_sich_fur_sich", 
                label: "В-себе/Для-себя", 
                philosopher: "hegel", 
                rubrics: ["being", "dialectics"], 
                description: "Диалектическая пара: непосредственное и опосредованное бытие",
                extendedDescription: "Фундаментальное диалектическое различение, проходящее через всю систему Гегеля. Бытие-в-себе (An-sich) - это непосредственное, неразвитое бытие, скрытая возможность, бытие лишь по своему понятию, ещё не ставшее для самого себя. Бытие-для-себя (Für-sich) - это опосредованное собой бытие, вернувшееся к себе из своего инобытия, осознавшее себя бытие. Движение от в-себе к для-себя - это движение самого духа, его самопознание. Истинное бытие - это бытие-в-себе-и-для-себя (an und für sich), единство непосредственности и опосредования, снятие их различия. Эта структура определяет развитие всего: от чистого бытия к абсолютной идее, от субъективного духа к абсолютному духу. Сартр переосмыслит это различение в экзистенциальных терминах, но сохранит его фундаментальность."
            },
            
            // ШОПЕНГАУЭР
            { 
                id: "will_schop", 
                label: "Мировая воля", 
                philosopher: "schopenhauer", 
                rubrics: ["will"], 
                description: "Слепая иррациональная сила",
                extendedDescription: "Вещь в себе, истинная сущность мира - слепая, безосновная воля к жизни, бессмысленное стремление, лишенное цели и разума. Не психологический феномен, а метафизическое первоначало, объективирующееся во всех явлениях природы от камня до человека. Воля едина, индивидуация - лишь иллюзия представления. Она вечно стремится, но никогда не может удовлетвориться, ибо у неё нет конечной цели. Жизнь - проявление этой бессмысленной воли, обреченной на вечную неудовлетворенность."
            },
            { 
                id: "representation", 
                label: "Представление", 
                philosopher: "schopenhauer", 
                rubrics: ["matter"], 
                description: "Мир как иллюзия",
                extendedDescription: "Феноменальный мир - 'представление', подчиненное принципу достаточного основания в четырех формах: бытие (пространство и время), становление (причинность), бытие (логика), действие (мотивация). Мир как представление - майя, покрывало иллюзии, скрывающее истинную реальность воли. Субъект и объект представления коррелятивны - нет объекта без субъекта. Интеллект - слуга воли, производящий представления для её удовлетворения."
            },
            { 
                id: "suffering", 
                label: "Страдание", 
                philosopher: "schopenhauer", 
                rubrics: ["ethics"], 
                description: "Сущность жизни",
                extendedDescription: "Жизнь по сути своей есть страдание - неизбежное следствие воли к жизни. Желание рождает страдание неудовлетворенности; удовлетворение приносит лишь временное облегчение и скуку; новое желание - новое страдание. Это маятник между страданием и скукой. Рождение - первая вина, жизнь - искупление. Чем выше организация существа, тем интенсивнее страдание; человек страдает максимально. Единственный выход - отрицание воли к жизни."
            },
            { 
                id: "denial_will", 
                label: "Отрицание воли", 
                philosopher: "schopenhauer", 
                rubrics: ["freedom"], 
                description: "Путь к освобождению",
                extendedDescription: "Единственный путь к спасению - аскетическое отрицание воли к жизни, отказ от желаний и самого стремления к существованию. Не самоубийство (утверждает волю через отрицание конкретного явления), а постепенное угашение воли изнутри. Достигается через сострадание, осознание единства всего живого в страдании, и аскезу. Конечная цель - состояние, подобное нирване, где воля полностью успокоена, а с ней исчезает и мир представления."
            },
            { 
                id: "aesthetics_schop", 
                label: "Эстетическое созерцание", 
                philosopher: "schopenhauer", 
                rubrics: ["ethics"], 
                description: "Временное освобождение от воли",
                extendedDescription: "В эстетическом опыте субъект на время освобождается от служения воле, становится 'чистым безвольным субъектом познания', созерцающим вечные платоновские идеи вне принципа достаточного основания. Искусство дает временное освобождение от страдания, приостанавливая действие воли. Музыка - высшее искусство, ибо непосредственно выражает саму волю. Эстетическое созерцание - предвкушение окончательного освобождения через отрицание воли."
            },
            { 
                id: "compassion", 
                label: "Сострадание", 
                philosopher: "schopenhauer", 
                rubrics: ["ethics"], 
                description: "Основа морали",
                extendedDescription: "Единственная подлинная моральная мотивация - сострадание (Mitleid), способность непосредственно чувствовать чужое страдание как свое собственное. Основано на метафизическом прозрении единства всех существ в воле - индивидуация иллюзорна, в глубине все мы - одна воля. Сострадание пробивает покрывало майи, позволяя видеть в другом себя. Из сострадания проистекают справедливость (не причинять страдания) и человеколюбие (облегчать страдание). Только сострадание имеет моральную ценность."
            },
            { 
                id: "individuation", 
                label: "Principium individuationis", 
                philosopher: "schopenhauer", 
                rubrics: ["being"], 
                description: "Принцип индивидуации, источник множественности",
                extendedDescription: "Пространство и время как формы представления создают иллюзию множественности отдельных вещей и индивидов. В себе воля едина, но в представлении является как множество отдельных существ. Principium individuationis - покрывало майя, скрывающее истинное единство всего сущего. Проникновение сквозь этот принцип, осознание единства - основа сострадания и пути к освобождению. Гений и святой превосходят индивидуацию, созерцая вечное единство."
            },
            
            // ОГЮСТ КОНТ
            { 
                id: "three_stages", 
                label: "Закон трёх стадий", 
                philosopher: "comte", 
                rubrics: ["knowledge"], 
                description: "Теологическая, метафизическая, позитивная",
                extendedDescription: "Закон трёх стадий развития человеческого познания: теологическая (фетишизм, политеизм, монотеизм), метафизическая (абстрактные сущности вместо богов) и позитивная (научное знание). На каждой стадии человечество по-разному объясняет явления. В теологической стадии действуют сверхъестественные силы, в метафизической - абстрактные принципы и сущности, в позитивной - наблюдаемые закономерности. Этот закон применим как к истории всего человечества, так и к развитию отдельных наук и индивидов. Достижение позитивной стадии означает отказ от поиска первопричин и сущностей ради установления законов явлений."
            },
            { 
                id: "positive_knowledge", 
                label: "Позитивное знание", 
                philosopher: "comte", 
                rubrics: ["knowledge"], 
                description: "Научное, проверяемое знание",
                extendedDescription: "Позитивное знание - это научное знание, основанное на наблюдении и эксперименте, имеющее дело только с явлениями и их неизменными отношениями (законами), а не с первопричинами или конечными целями. Позитивная философия отказывается от вопросов 'почему?' в пользу вопросов 'как?'. Она не ищет абсолютной истины, а устанавливает относительные законы, полезные для предвидения и практической деятельности. Позитивное знание всегда относительно, приблизительно и открыто для уточнения. Это знание реального, полезного, достоверного, точного и организующего."
            },
            { 
                id: "sociology", 
                label: "Социология", 
                philosopher: "comte", 
                rubrics: ["politics"], 
                description: "Наука об обществе",
                extendedDescription: "Конт вводит термин 'социология' для обозначения новой позитивной науки об обществе, завершающей иерархию наук. Социология делится на социальную статику (изучение условий существования общества, порядка) и социальную динамику (изучение законов развития общества, прогресса). Общество рассматривается как организм, подобный биологическому, но более сложный. Социология должна стать основой рациональной политики и социальной реформы. Это первая попытка создания научной теории общества, применяющей методы естественных наук к социальным явлениям."
            },
            { 
                id: "hierarchy_sciences", 
                label: "Иерархия наук", 
                philosopher: "comte", 
                rubrics: ["knowledge"], 
                description: "Классификация наук по сложности",
                extendedDescription: "Контовская классификация наук по возрастанию сложности и убыванию общности: математика, астрономия, физика, химия, биология, социология. Каждая последующая наука основывается на предыдущих, но несводима к ним. Порядок наук отражает как историческую последовательность их развития (от более простых к более сложным), так и логическую зависимость. Математика наиболее общая и простая, социология - наиболее сложная и конкретная. Эта классификация отражает позитивистский идеал единства научного метода при многообразии предметов."
            },
            { 
                id: "social_physics", 
                label: "Социальная физика", 
                philosopher: "comte", 
                rubrics: ["politics"], 
                description: "Применение научного метода к обществу",
                extendedDescription: "Первоначальное название социологии - 'социальная физика' - выражает стремление Конта применить к обществу тот же научный метод, который успешно применяется в естественных науках. Общество подчиняется естественным законам, столь же необходимым и неизменным, как законы физики. Эти законы можно открыть через наблюдение, эксперимент и сравнение. Цель социальной физики - не только познание, но и рациональное управление обществом на научных основаниях. Позднее Конт отказался от этого термина из-за его использования бельгийским статистиком Кетле."
            },

            // КЬЕРКЕГОР
            { 
                id: "stages_existence", 
                label: "Стадии существования", 
                philosopher: "kierkegaard", 
                rubrics: ["being"], 
                description: "Эстетическая, этическая, религиозная",
                extendedDescription: "Три качественно различных способа существования: эстетический (жизнь в наслаждении момента, избегание обязательств, отчаяние), этический (жизнь в долге, выбор себя, брак), религиозный (абсолютное отношение к абсолютному, вера, парадокс). Не эволюционные ступени, а экзистенциальные возможности, между которыми нужно выбирать. Переход между стадиями - не постепенный, а скачок, качественный прыжок. Высшая стадия - религиозная, где индивид как единичный стоит перед Богом."
            },
            { 
                id: "leap_faith", 
                label: "Прыжок веры", 
                philosopher: "kierkegaard", 
                rubrics: ["freedom"], 
                description: "Иррациональное решение",
                extendedDescription: "Вера - не результат доказательств или постепенного восхождения, а абсолютное решение, качественный скачок в абсурд. Невозможно рационально обосновать веру - она требует парадокса: верить в то, что противоречит разуму (Бог-человек, вечное во времени). Прыжок совершается в страхе и трепете, это риск всей экзистенции. Авраам, готовый принести в жертву Исаака, - парадигма веры: телеологическая приостановка этического, абсолютное отношение к абсолютному."
            },
            { 
                id: "anxiety", 
                label: "Тревога", 
                philosopher: "kierkegaard", 
                rubrics: ["freedom"], 
                description: "Головокружение свободы",
                extendedDescription: "Angst - фундаментальное настроение, в котором открывается свобода как возможность возможности. Тревога - не страх перед определенным объектом, а 'головокружение свободы', когда человек сталкивается с бездной своих возможностей. В тревоге дух осознает свою свободу и ответственность. Парадокс: тревога одновременно отталкивает и притягивает. Она амбивалентна - симпатическая антипатия к собственной свободе. Тревога - возможность подлинного существования."
            },
            { 
                id: "despair", 
                label: "Отчаяние", 
                philosopher: "kierkegaard", 
                rubrics: ["consciousness"], 
                description: "Болезнь к смерти",
                extendedDescription: "'Болезнь к смерти' - отчаяние как фундаментальная структура самости, неспособной синтезировать конечное и бесконечное, возможность и необходимость, временное и вечное. Три формы: отчаяние, не осознающее себя (эстетическое); отчаяние, не желающее быть собой (слабость); отчаяние, желающее быть собой (вызов). Отчаяние универсально - это состояние грехопадшего человека. Исцеление возможно только верой - опираясь на силу, полагающую самость (Бога)."
            },
            { 
                id: "individual", 
                label: "Единичный", 
                philosopher: "kierkegaard", 
                rubrics: ["consciousness"], 
                description: "Противостояние толпе",
                extendedDescription: "Den Enkelte - единичный индивид как категория, противоположная толпе, массе, публике. Истина субъективна - она в страстном внутреннем отношении единичного к абсолютному. Гегелевскому 'всемирно-историческому' противопоставляется единичный перед Богом. Толпа - неправда; спасается и осуждается каждый в отдельности. Единичный не изолирован, но его отношение к другим опосредовано абсолютным отношением к Богу. 'Толпа есть неправда.'"
            },
            { 
                id: "subjective_truth", 
                label: "Субъективная истина", 
                philosopher: "kierkegaard", 
                rubrics: ["knowledge"], 
                description: "Истина как страсть",
                extendedDescription: "Истина - не объективное знание, а субъективная страсть, способ существования. Важно не 'что' верится, а 'как' - интенсивность внутреннего отношения. Можно верить в истину неистинно (объективно, спокойно) и в неправду истинно (с абсолютной страстью). 'Субъективность есть истина' - истина существует только в присвоении экзистирующим субъектом. Объективная неопределенность, удерживаемая в страстном внутреннем отношении, - высшая истина для существующего."
            },
            { 
                id: "repetition", 
                label: "Повторение", 
                philosopher: "kierkegaard", 
                rubrics: ["time"], 
                description: "Экзистенциальное возвращение, обретение себя",
                extendedDescription: "Не платоновское воспоминание (движение назад), а движение вперед - возвращение себя нового из испытания. Повторение - обретение самости через проживание, не простое возвращение того же, а возобновление в вечности. Это категория будущего, в отличие от воспоминания (прошлое). Подлинное повторение возможно только через веру - Иов получает всё обратно удвоенным. Повторение - интерес метафизики и одновременно conditio sine qua non всякой этической жизни."
            },
            { 
                id: "moment", 
                label: "Мгновение", 
                philosopher: "kierkegaard", 
                rubrics: ["time"], 
                description: "Atom вечности, встреча времени и вечного",
                extendedDescription: "Øjeblik - миг, в котором вечное касается времени, парадоксальная точка встречи несоизмеримого. Не математическая точка времени, а качественный атом - полнота времени. В мгновении совершается решение, прыжок веры, происходит событие откровения. Это временная категория и одновременно вечности - вечное входит во время, не становясь временным. Воплощение - абсолютный парадокс мгновения: вечное стало историческим фактом."
            },

            { 
                id: "absurd", 
                label: "Абсурд", 
                philosopher: "kierkegaard", 
                rubrics: ["knowledge", "freedom"], 
                description: "Парадоксальность веры, невозможность рационального обоснования",
                extendedDescription: "Парадокс, скандал для разума, перед которым останавливается всякое мышление - и именно здесь начинается вера. Абсурд - это вочеловечение вечного Бога, соединение противоположностей, немыслимое для разума: Бог становится единичным человеком в определённый исторический момент. Это не иррациональность, но сверх-рациональность, требующая прыжка веры вопреки разуму (credo quia absurdum). В абсурде Авраама, готового принести в жертву Исаака по повелению Бога, открывается телеологическое приостановление этического - единичный оказывается выше всеобщего. Абсурд невыносим для разума, порождает тревогу и отчаяние, но именно через принятие абсурда осуществляется религиозное существование. Это предвосхищение экзистенциалистского абсурда у Камю и Сартра, но с сохранением религиозного измерения."
            },
            
            // МАРКС
            { 
                id: "praxis", 
                label: "Праксис", 
                philosopher: "marx", 
                rubrics: ["politics"], 
                description: "Революционная практика",
                extendedDescription: "Не созерцательное познание, а преобразующая деятельность - единство теории и практики, направленное на изменение мира. Человек познает мир, изменяя его трудом; истина доказывается практикой. Праксис не просто применение теории, а творческая деятельность, создающая новую реальность. Революционная практика пролетариата - высшая форма праксиса, преобразующая не только природу, но и общественные отношения. 'Философы лишь различным образом объясняли мир, но дело заключается в том, чтобы изменить его.'"
            },
            { 
                id: "alienation", 
                label: "Отчуждение", 
                philosopher: "marx", 
                rubrics: ["politics"], 
                description: "Отчуждение труда",
                extendedDescription: "В капиталистическом обществе рабочий отчужден от продукта труда (принадлежит капиталисту), от процесса труда (не контролирует условия), от родовой сущности (труд не самореализация, а средство выживания), от других людей (конкуренция, классовый антагонизм). Отчуждение превращает человеческую сущность в средство индивидуального существования. Рабочий чувствует себя человеком только вне труда. Преодоление отчуждения - через революцию и коммунизм."
            },
            { 
                id: "base_superstructure", 
                label: "Базис и надстройка", 
                philosopher: "marx", 
                rubrics: ["politics"], 
                description: "Экономика и идеология",
                extendedDescription: "Общество структурировано на экономический базис (производительные силы и производственные отношения) и идеологическую надстройку (право, политика, религия, философия, искусство). Базис определяет надстройку - материальные условия производства обусловливают духовную жизнь. Но надстройка обладает относительной автономией и может воздействовать на базис. Революция происходит, когда производительные силы приходят в противоречие с производственными отношениями."
            },
            { 
                id: "class_struggle", 
                label: "Классовая борьба", 
                philosopher: "marx", 
                rubrics: ["politics"], 
                description: "Двигатель истории",
                extendedDescription: "'История всех до сих пор существовавших обществ была историей борьбы классов' - антагонизм между эксплуататорами и эксплуатируемыми движет историческое развитие. В капиталистическом обществе основное противоречие - между буржуазией (владельцами средств производства) и пролетариатом (продающим рабочую силу). Классовая борьба обостряется, ведя к революции и установлению диктатуры пролетариата, а затем к бесклассовому коммунистическому обществу."
            },
            { 
                id: "commodity_fetish", 
                label: "Товарный фетишизм", 
                philosopher: "marx", 
                rubrics: ["politics"], 
                description: "Овеществление социальных отношений",
                extendedDescription: "При капитализме социальные отношения между людьми принимают форму отношений между вещами (товарами). Стоимость кажется естественным свойством товара, хотя на деле выражает общественные отношения производителей. Товар становится фетишем - вещью, наделенной сверхъестественной властью. Это объективная видимость, необходимо порождаемая товарным производством. Разоблачение фетишизма - критика иллюзий буржуазной экономии."
            },
            { 
                id: "historical_materialism", 
                label: "Исторический материализм", 
                philosopher: "marx", 
                rubrics: ["politics"], 
                description: "Материалистическое понимание истории",
                extendedDescription: "Не сознание определяет бытие, а бытие определяет сознание - материальные условия жизни, способ производства обусловливают формы сознания. История развивается через смену способов производства (первобытный, рабовладельческий, феодальный, капиталистический, коммунистический) в соответствии с развитием производительных сил. Не идеи движут историю, а материальные противоречия. Это наука об общих законах развития общества."
            },
            { 
                id: "ideology", 
                label: "Идеология", 
                philosopher: "marx", 
                rubrics: ["politics", "knowledge"], 
                description: "Ложное сознание, маскирующее классовые интересы",
                extendedDescription: "Превращенная форма сознания, которая представляет частные интересы господствующего класса как всеобщие, скрывает реальные противоречия и оправдывает существующий порядок. Идеология не просто ложь, а необходимая иллюзия, порождаемая материальными условиями. Господствующие идеи каждой эпохи - идеи господствующего класса. Критика идеологии разоблачает её классовую природу, показывая связь идей с материальными интересами. Пролетариат создает истинное, не-идеологическое сознание."
            },
            
            // НИЦШЕ
            { 
                id: "will_power", 
                label: "Воля к власти", 
                philosopher: "nietzsche", 
                rubrics: ["will"], 
                description: "Фундаментальная жизненная сила",
                extendedDescription: "Не политическое господство, а основной импульс всего живого - стремление к росту, расширению, преодолению сопротивления, утверждению своей силы. Жизнь есть воля к власти; всё остальное - производное. Не сохранение жизни (Шопенгауэр, Дарвин), а её усиление и возвышение. Воля к власти - принцип интерпретации всей реальности, как органической, так и неорганической. Истина, мораль, искусство - различные проявления воли к власти."
            },
            { 
                id: "ubermensch", 
                label: "Сверхчеловек", 
                philosopher: "nietzsche", 
                rubrics: ["ethics"], 
                description: "Преодолевший себя человек",
                extendedDescription: "Не биологический тип, а духовный идеал - человек, преодолевший нигилизм и создавший новые ценности на обломках старых. После смерти Бога сверхчеловек сам становится источником ценностей, утверждая жизнь во всей её полноте, включая страдание. Он говорит 'да' существованию, принимает вечное возвращение. Не господин над другими, а господин над собой. Дитя в метаморфозах духа - невинное творчество, игра, самопреодоление."
            },
            { 
                id: "eternal_return", 
                label: "Вечное возвращение", 
                philosopher: "nietzsche", 
                rubrics: ["time"], 
                description: "Циклическое повторение бытия",
                extendedDescription: "Космологическая гипотеза и экзистенциальный императив: всё, что происходит, будет повторяться бесконечное число раз в точности. Это испытание: можешь ли ты желать вечного возвращения каждого мгновения своей жизни? Утверждение вечного возвращения - высший акт любви к судьбе (amor fati), принятие жизни целиком. Только сверхчеловек способен выдержать эту мысль и превратить её в радость. Вечное возвращение - альтернатива христианской линейной эсхатологии."
            },
            { 
                id: "god_dead", 
                label: "Смерть Бога", 
                philosopher: "nietzsche", 
                rubrics: ["absolute"], 
                description: "Конец метафизических абсолютов",
                extendedDescription: "'Бог мертв' - диагноз культурного события: крах веры в сверхчувственный мир ценностей (христианский Бог, платоновские идеи, моральный миропорядок). Не атеистический тезис, а констатация нигилизма - обесценивания высших ценностей. 'Мы убили его' - европейская рациональность подорвала собственные основания. Это величайшее событие открывает бездну: либо пассивный нигилизм (всё бессмысленно), либо активный - создание новых ценностей сверхчеловеком."
            },
            { 
                id: "perspectivism", 
                label: "Перспективизм", 
                philosopher: "nietzsche", 
                rubrics: ["knowledge"], 
                description: "Множественность интерпретаций",
                extendedDescription: "Нет фактов, только интерпретации; всякое познание перспективно, обусловлено интересами и оценками познающего. Не существует 'вида из ниоткуда', абсолютной истины - всякая истина истинна для определенной перспективы. Но это не релятивизм: перспективы различаются по степени жизнеутверждения, по силе воли к власти, их порождающей. Чем больше перспектив, тем полнее познание. Объективность - умножение перспектив, а не их упразднение."
            },
            { 
                id: "master_morality", 
                label: "Мораль господ", 
                philosopher: "nietzsche", 
                rubrics: ["ethics"], 
                description: "Аристократическая этика",
                extendedDescription: "Исходная, благородная мораль: хорошее = благородное, сильное, прекрасное, утверждающее жизнь; плохое = низкое, слабое, презренное. Оценка исходит из полноты жизни, из избытка силы. Благородный человек творит ценности из себя, его мораль - самоутверждение. Не ресентимент, а патос дистанции. Добродетели: храбрость, щедрость, честь, гордость. Это утверждающая мораль - она говорит 'да' жизни, себе, своей судьбе."
            },
            { 
                id: "slave_morality", 
                label: "Мораль рабов", 
                philosopher: "nietzsche", 
                rubrics: ["ethics"], 
                description: "Ресентимент слабых",
                extendedDescription: "Реактивная мораль бессильных, возникшая из ресентимента к сильным. Начинается с 'нет' всему внешнему, господствующему; добро определяется через отрицание зла. Злое = сильное, господствующее; доброе = слабое, страдающее, смиренное. Это мораль полезности слабых: сострадание, самоотречение, покорность объявляются добродетелями. Христианство - высшее выражение рабской морали, восстание рабов в морали. Она отрицает жизнь, утверждает потустороннее."
            },
            { 
                id: "dionysian", 
                label: "Дионисийское", 
                philosopher: "nietzsche", 
                rubrics: ["will"], 
                description: "Хаос, опьянение, жизненная стихия",
                extendedDescription: "Принцип опьянения, экстаза, разрушения индивидуации - растворение в первоединстве бытия. Дионисийское искусство (музыка) выражает хаос жизни, страдание, противоречие. Не порядок, а становление; не форма, а безграничная энергия. Дионисийское - утверждение жизни даже в её ужасе и абсурде. Это воля к трагическому, способность выносить страдание без утешения. Дионис - бог страдающий и воскресающий, символ вечного становления."
            },
            { 
                id: "apollonian", 
                label: "Аполлоническое", 
                philosopher: "nietzsche", 
                rubrics: ["will"], 
                description: "Порядок, мера, индивидуация",
                extendedDescription: "Принцип сновидения, формы, красоты - созерцание индивидуализированных образов, мир как прекрасная видимость. Аполлоническое искусство (скульптура, эпос) создает иллюзию завершенности, скрывая ужас существования. Principium individuationis, гармония, мера. Аполлон - бог света, делающий жизнь возможной через иллюзию. Но чисто аполлоническое бесплодно - нужен синтез с дионисийским. Трагедия - союз Аполлона и Диониса."
            },
            { 
                id: "ressentiment", 
                label: "Ресентимент", 
                philosopher: "nietzsche", 
                rubrics: ["ethics"], 
                description: "Злоба бессильных, основа морали рабов",
                extendedDescription: "Месть бессильных, отравленное воспоминание о перенесенных унижениях, вытесненная злоба, которая не может разрядиться в действии и обращается в моральное осуждение. Раб не может прямо атаковать господина, поэтому объявляет его силу злом, а свою слабость - добродетелью. Ресентимент творит ценности негативно - через отрицание чужого, а не утверждение своего. Христианская мораль вырастает из ресентимента священников и слабых к жизни, силе, красоте."
            },

            // ГОТЛОБ ФРЕГЕ
            { 
                id: "sense_reference", 
                label: "Смысл и значение", 
                philosopher: "frege", 
                rubrics: ["language"], 
                description: "Sinn und Bedeutung",
                extendedDescription: "Фундаментальное различение Фреге между смыслом (Sinn) и значением (Bedeutung) выражения. Значение - это объект, к которому отсылает выражение (для имени - денотат, для предложения - истинностное значение). Смысл - способ представления этого объекта, когнитивное содержание, которое понимает говорящий. 'Утренняя звезда' и 'вечерняя звезда' имеют одно значение (планета Венера), но разные смыслы. Это различение решает проблему информативности тождественных утверждений и закладывает основу аналитической философии языка. Смысл объективен, не тождествен психическому представлению."
            },
            { 
                id: "function_argument", 
                label: "Функция и аргумент", 
                philosopher: "frege", 
                rubrics: ["language"], 
                description: "Логическая структура языка",
                extendedDescription: "Фреге анализирует логическую структуру предложений по аналогии с математическими функциями. Предложение состоит из ненасыщенной функции и насыщающих её аргументов. Например, '2+3=5' включает функцию '...+3=5' и аргумент '2'. Эта модель применяется и к естественному языку: в 'Сократ мудр' предикат '...мудр' - функция, 'Сократ' - аргумент. Функции могут быть разных уровней (функции от функций). Такой анализ выявляет глубинную логическую форму, скрытую за грамматической поверхностью. Это революция в понимании языка и основа современной логики."
            },
            { 
                id: "logicism", 
                label: "Логицизм", 
                philosopher: "frege", 
                rubrics: ["knowledge"], 
                description: "Математика сводима к логике",
                extendedDescription: "Логицистская программа Фреге: обосновать всю математику, начиная с арифметики, на чисто логических основаниях, без обращения к интуиции. Числа определяются через логические понятия (класс всех равномощных классов), аксиомы арифметики выводятся из логических законов. Это означает, что математические истины аналитичны (в расширенном смысле) и априорны. Хотя программа столкнулась с парадоксами (парадокс Рассела), она оказала огромное влияние на философию математики. Логицизм подчёркивает объективность математики и её независимость от психологии и эмпирического опыта."
            },
            { 
                id: "context_principle", 
                label: "Контекстный принцип", 
                philosopher: "frege", 
                rubrics: ["language"], 
                description: "Значение слова в контексте предложения",
                extendedDescription: "Принцип контекстуальности Фреге: 'Только в контексте предложения слова имеют значение' (Nur im Zusammenhang eines Satzes bedeuten die Wörter etwas). Значение отдельного слова определяется его вкладом в значение предложений, в которых оно употребляется. Это антипсихологический тезис: не нужно искать ментальные образы, соответствующие словам, достаточно понять, как слово функционирует в предложениях. Принцип направлен против атомистической семантики, начинающей со значений отдельных слов. Он предвосхищает холистические теории значения и влияет на Витгенштейна."
            },
            { 
                id: "begriffsschrift", 
                label: "Понятийное письмо", 
                philosopher: "frege", 
                rubrics: ["language"], 
                description: "Формальный язык логики",
                extendedDescription: "'Понятийное письмо' (Begriffsschrift, 1879) - изобретённый Фреге формальный язык для точного выражения логических отношений. Это первая современная система логики, включающая кванторы, функции, переменные. Begriffsschrift подобен формуле в химии - он выражает чистое содержание, освобождённое от случайностей естественного языка. Цель - избежать двусмысленностей и сделать логический вывод механически проверяемым. Нотация Фреге (двумерная) не прижилась, но его идеи легли в основу современной логики. Это язык 'чистого мышления', свободный от психологизма."
            },
            { 
                id: "thought", 
                label: "Мысль", 
                philosopher: "frege", 
                rubrics: ["consciousness"], 
                description: "Объективное содержание мышления",
                extendedDescription: "Мысль (Gedanke) у Фреге - объективное, независимое от субъекта содержание, которое может быть схвачено разными мыслящими существами. Это смысл повествовательного предложения, то, что истинно или ложно. Мысли не психические образования и не физические объекты, а обитают в 'третьем царстве' - объективном, но не материальном. Мы не создаём, а постигаем мысли. Истинность мысли не зависит от того, признаём мы её или нет. Эта концепция - радикальный антипсихологизм и платонизм в отношении логического содержания. Мысли вечны и неизменны."
            },

            // ДЖОН ДЬЮИ
            { 
                id: "instrumentalism", 
                label: "Инструментализм", 
                philosopher: "dewey", 
                rubrics: ["knowledge"], 
                description: "Идеи как инструменты действия",
                extendedDescription: "Инструментализм Дьюи - версия прагматизма, согласно которой идеи, понятия и теории суть инструменты для решения проблем и достижения целей, а не отражения независимой реальности. Истинность идеи определяется её работоспособностью, способностью успешно направлять действие. Познание инструментально по своей природе - оно возникает из проблемной ситуации и направлено на её преобразование. Теории подобны инструментам: их ценность в применении, а не в соответствии некой абсолютной истине. Инструментализм отвергает созерцательную теорию познания."
            },
            { 
                id: "inquiry", 
                label: "Исследование", 
                philosopher: "dewey", 
                rubrics: ["method"], 
                description: "Inquiry - процесс решения проблем",
                extendedDescription: "Исследование (inquiry) у Дьюи - это целенаправленный процесс преобразования неопределённой, проблематичной ситуации в определённую, решённую. Это не просто приобретение знания, а активная реорганизация опыта. Исследование включает этапы: возникновение проблемы, её определение, выдвижение гипотез, рассуждение, экспериментальная проверка. Истинное знание - результат успешного исследования, warranted assertibility. Дьюи применяет эту модель ко всем формам познания - от обыденного до научного. Исследование - это естественный способ взаимодействия организма со средой."
            },
            { 
                id: "experience_dewey", 
                label: "Опыт", 
                philosopher: "dewey", 
                rubrics: ["knowledge"], 
                description: "Непрерывное взаимодействие с миром",
                extendedDescription: "Опыт для Дьюи - не пассивное восприятие или субъективные состояния сознания, а активное взаимодействие организма с окружающей средой. Опыт включает и действие, и претерпевание его последствий. Он непрерывен, каждый опыт влияет на последующие. Опыт не противостоит природе - он в ней и из неё. Дьюи преодолевает традиционные дуализмы субъекта/объекта, теории/практики, средства/цели, помещая их в контекст живого опыта. Опыт имеет как сознательную, так и бессознательную, как индивидуальную, так и социальную составляющие."
            },
            { 
                id: "democracy_education", 
                label: "Демократия и образование", 
                philosopher: "dewey", 
                rubrics: ["politics"], 
                description: "Образование как основа демократии",
                extendedDescription: "Для Дьюи демократия - это не просто форма правления, а образ жизни, основанный на свободном общении и сотрудничестве. Образование - необходимое условие демократии, оно формирует способность к совместному исследованию и решению проблем. Школа должна быть микрокосмом демократического общества, где дети учатся сотрудничеству, критическому мышлению, решению проблем. Цель образования - не передача готовых знаний, а развитие способности к growth, росту и адаптации. Демократическое образование личностно-ориентированно, опытно-экспериментально и социально ответственно."
            },
            { 
                id: "learning_doing", 
                label: "Обучение через действие", 
                philosopher: "dewey", 
                rubrics: ["method"], 
                description: "Learning by doing",
                extendedDescription: "Принцип 'обучение через делание' (learning by doing) - центральный в педагогике Дьюи. Истинное обучение происходит не через заучивание абстрактных истин, а через активное участие в осмысленной деятельности. Знание возникает из действия и для действия. Ребёнок должен не пассивно воспринимать информацию, а сам ставить проблемы, выдвигать гипотезы, экспериментировать. Практическая деятельность - не приложение к теории, а её источник. Этот принцип отражает инструменталистское понимание знания и критику традиционной школы с её вербализмом и оторванностью от жизни."
            },
            { 
                id: "warranted_assertibility", 
                label: "Обоснованная утверждаемость", 
                philosopher: "dewey", 
                rubrics: ["knowledge"], 
                description: "Прагматическая концепция истины",
                extendedDescription: "Дьюи заменяет традиционное понятие истины как соответствия реальности на 'обоснованную утверждаемость' (warranted assertibility). Утверждение обосновано, если оно успешно завершает процесс исследования, решает проблему, делает ситуацию определённой. Это не субъективная уверенность, а объективный результат применения научного метода. Обоснование всегда контекстуально и открыто для пересмотра. Дьюи избегает термина 'истина' из-за его метафизических коннотаций (вечность, абсолютность, независимость от познания). Warranted assertibility - это истина как процесс, а не состояние."
            },
            
            // АНРИ БЕРГСОН
            { 
                id: "duree", 
                label: "Длительность", 
                philosopher: "bergson", 
                rubrics: ["time"], 
                description: "Качественное, непрерывное время",
                extendedDescription: "Длительность (durée) - подлинное, качественное время внутреннего опыта, противопоставленное пространственному, количественному времени науки и здравого смысла. Это непрерывный поток сознания, где прошлое пронизывает настоящее, а моменты взаимопроникают друг в друга. Длительность не измерима часами - она переживается изнутри как творческое становление, где каждое мгновение ново и неповторимо. В отличие от механистического времени физики (последовательность дискретных моментов), длительность - органическая целостность, где ничто не повторяется точно. Бергсон различает длительность реальную (la durée réelle) и время науки как её пространственную проекцию."
            },
            { 
                id: "elan_vital", 
                label: "Жизненный порыв", 
                philosopher: "bergson", 
                rubrics: ["being", "will"], 
                description: "Творческая эволюционная сила жизни",
                extendedDescription: "Жизненный порыв (élan vital) - исходная творческая сила, движущая эволюцией и создающая всё новые формы жизни. Это не механическая причина и не телеологическая цель, а свободный импульс творчества, пробивающийся через сопротивление материи. Élan vital объясняет, почему эволюция не сводима к механическим законам: она содержит элемент непредсказуемой новизны. Жизненный порыв раздваивается, создавая различные эволюционные линии (растения, инстинкт у насекомых, интеллект у человека), но везде сохраняет свою творческую природу. Это не витализм в духе особой 'жизненной силы', а метафизический принцип творческого становления."
            },
            { 
                id: "intuition_bergson", 
                label: "Интуиция", 
                philosopher: "bergson", 
                rubrics: ["knowledge", "method"], 
                description: "Непосредственное постижение длительности",
                extendedDescription: "Интуиция у Бергсона - способ познания, позволяющий схватить реальность изнутри, в её становлении и длительности. В отличие от интеллекта, который расчленяет, пространственно оформляет и останавливает движение, интуиция симпатически проникает в сердцевину вещей, постигая их временную природу. Это не мистическое озарение и не иррациональная догадка, а строгий философский метод, требующий усилия и дисциплины. Интуиция - 'инстинкт, ставший бескорыстным, осознавшим себя'. Она способна постичь жизнь в её творческом порыве, в то время как интеллект создан эволюцией для практического действия и работает с неподвижными формами."
            },
            { 
                id: "intellect_spatialization", 
                label: "Интеллект и пространственность", 
                philosopher: "bergson", 
                rubrics: ["knowledge"], 
                description: "Интеллект как инструмент пространственного освоения мира",
                extendedDescription: "Интеллект - эволюционно возникшая способность, предназначенная для практического действия с твёрдыми телами. Он естественным образом мыслит в терминах пространства, дискретности, неподвижности и тождества. Интеллект создан для конструирования орудий и манипулирования материей, поэтому он расчленяет непрерывное, останавливает движение, сводит качество к количеству. Наука и техника - триумф интеллекта, но он систематически искажает реальность длительности, подменяя её пространственными схемами. Интеллект не способен постичь жизнь и творческое становление - для этого нужна интуиция. Однако интеллект не ошибается - он просто имеет ограниченную сферу применения."
            },
            { 
                id: "creative_evolution", 
                label: "Творческая эволюция", 
                philosopher: "bergson", 
                rubrics: ["being", "time"], 
                description: "Эволюция как непредсказуемое творчество",
                extendedDescription: "Творческая эволюция - концепция, противопоставленная и механицизму, и финализму. Эволюция не определяется ни механическими причинами (дарвинизм), ни заранее данной целью (телеология). Она творческий процесс, создающий радикально новое, непредсказуемое из настоящего. Жизнь не реализует программу, а изобретает себя в каждый момент. Раздвоение жизненного порыва на растительную и животную линии, затем на инстинкт и интеллект - не предустановлено, а результат свободного творчества. Эволюция - не адаптация к среде, а прорыв творческой силы через сопротивление материи. Бергсон создаёт третий путь между механистическим дарвинизмом и витализмом."
            },
            { 
                id: "matter_memory", 
                label: "Материя и память", 
                philosopher: "bergson", 
                rubrics: ["consciousness", "matter"], 
                description: "Дуализм материи и памяти, восприятия и воспоминания",
                extendedDescription: "Материя и память образуют два полюса реальности: материя - чистое настоящее, непрерывно исчезающее; память - сохранение всего прошлого. Восприятие - это действие, направленное на материю в интересах действия; чистое воспоминание - бездейственное сохранение прошлого в духе. Мозг не хранит образы, а выбирает полезные воспоминания для действия. Память не психологическая способность, а онтологическое измерение - прошлое реально существует, не переставая быть прошлым. Различие материи и памяти - не различие двух субстанций, а различие двух движений: движения к расширению (материя, пространство) и движения к сжатию (память, длительность). Сознание - на пересечении этих движений."
            },
            { 
                id: "pure_perception", 
                label: "Чистое восприятие", 
                philosopher: "bergson", 
                rubrics: ["consciousness"], 
                description: "Восприятие как действие, а не представление",
                extendedDescription: "Чистое восприятие - теоретический предел, восприятие без примеси памяти, совпадающее с самим объектом. В реальности такого восприятия нет - всякое актуальное восприятие пронизано воспоминаниями. Но концепция чистого восприятия показывает, что восприятие - не созерцательное представление, а виртуальное действие организма на вещи. Мы воспринимаем вещи там, где они есть, в них самих, а не в мозгу как образы. Восприятие измеряет нашу возможную власть над вещами - мы воспринимаем то, на что можем действовать. Чистое восприятие мгновенно и совпадает с настоящим материи. Память присоединяется к восприятию, обогащая его, но и искажая в интересах действия."
            },
            { 
                id: "open_closed_morality", 
                label: "Открытая и закрытая мораль", 
                philosopher: "bergson", 
                rubrics: ["ethics", "politics"], 
                description: "Два источника морали: социальное давление и мистический призыв",
                extendedDescription: "Закрытая мораль - мораль социального давления, обычаев, долга, направленная на сохранение замкнутого общества (племени, нации). Она статична, основана на привычке и подчинении коллективу. Открытая мораль - мораль свободы и любви, исходящая от великих мистиков и пророков, обращённая ко всему человечеству. Она динамична, творческа, зовёт к превосхождению себя. Закрытая мораль - продукт эволюции, инстинкт, преобразованный интеллектом. Открытая мораль - прорыв жизненного порыва, мистическая интуиция. История человечества - движение от закрытых обществ к открытому человечеству через усилие героев и святых. Но это движение не автоматично, требует творческого усилия."
            },
            { 
                id: "image_bergson", 
                label: "Образ", 
                philosopher: "bergson", 
                rubrics: ["being", "consciousness"], 
                description: "Реальность как совокупность образов между вещью и представлением",
                extendedDescription: "Образ у Бергсона - первичная реальность, предшествующая разделению на материю и сознание, вещь и представление. Образы - это не ментальные сущности в голове и не физические вещи вне нас, а сама реальность в её явленности. Весь универсум - система взаимодействующих образов. Моё тело - привилегированный образ, центр действия, через который другие образы затрагивают меня. Различие между восприятием и материей - не различие между внутренним и внешним, а различие в степени: восприятие - это отбор из тотальности образов тех, которые интересны для действия. Концепция образа преодолевает традиционные дуализмы идеализма и реализма."
            },
            { 
                id: "laughter", 
                label: "Смех", 
                philosopher: "bergson", 
                rubrics: ["ethics"], 
                description: "Социальная функция комического как наказание механического",
                extendedDescription: "Смех - социальный жест, направленный на подавление механического, косного, автоматического в человеческом поведении. Комично всё, что напоминает механизм в живом: повторение, автоматизм, рассеянность, косность характера. Мы смеёмся, когда человек похож на вещь, когда живое подражает неодушевлённому. Смех - коррекция общества, жест предупреждения против всего, что отклоняется от гибкости, подвижности, внимания к жизни. Он требует временной анестезии сердца - мы не смеёмся над тем, к кому питаем симпатию. Смех всегда социален, даже наедине - мы смеёмся для воображаемого общества. Комизм ситуаций сводится к комизму характеров, а комизм характеров - к механическому в живом."
            },

            // ГУССЕРЛЬ
            { 
                id: "intentionality", 
                label: "Интенциональность", 
                philosopher: "husserl", 
                rubrics: ["consciousness"], 
                description: "Направленность сознания",
                extendedDescription: "Фундаментальное свойство сознания - всякое сознание есть сознание о чем-то, направленность на предмет. Нет 'чистого' сознания без предмета, как нет предмета без сознания о нём. Интенциональность конституирует единство сознания и мира, преодолевая дуализм. Различные интенциональные акты (восприятие, воображение, суждение) по-разному конституируют свои предметы. Это не психологический факт, а априорная сущностная структура сознания."
            },
            { 
                id: "epoché", 
                label: "Эпохе", 
                philosopher: "husserl", 
                rubrics: ["method"], 
                description: "Феноменологическая редукция",
                extendedDescription: "Методическое воздержание от суждения, заключение в скобки 'естественной установки' - наивной веры в существование мира. Не отрицание реальности, а приостановка тезиса существования, чтобы исследовать чистые феномены, как они даны сознанию. Эпохе ведет к трансцендентальной субъективности - чистому сознанию, конституирующему смысл мира. Это радикальное начинание, превращающее философию в строгую науку о сущностях явлений сознанию."
            },
            { 
                id: "lifeworld", 
                label: "Жизненный мир", 
                philosopher: "husserl", 
                rubrics: ["being"], 
                description: "Дорефлективный опыт",
                extendedDescription: "Lebenswelt - горизонт всякого опыта, мир как он непосредственно переживается до всякой науки и теории. Фундамент, на котором строятся научные идеализации, но который наука забывает. Жизненный мир интерсубъективен, исторически-культурно обусловлен, дан в непосредственной очевидности. Кризис науки - в утрате связи с жизненным миром. Феноменология должна вернуться к нему, раскрыть его конститутивные структуры."
            },
            { 
                id: "transcendental_ego", 
                label: "Трансцендентальное Я", 
                philosopher: "husserl", 
                rubrics: ["consciousness"], 
                description: "Чистое сознание",
                extendedDescription: "Абсолютная субъективность, открывающаяся после эпохе - полюс всех интенциональных актов, конституирующий смысл мира. Не эмпирическое психологическое 'я', а трансцендентальное условие возможности опыта. Оно не объект в мире, а источник всякой объективности. Ego cogito как абсолютное бытие, для которого мир - интенциональный коррелят. Это картезианское открытие, очищенное от субстанциализма и психологизма."
            },
            { 
                id: "eidetic", 
                label: "Эйдетическая интуиция", 
                philosopher: "husserl", 
                rubrics: ["knowledge"], 
                description: "Усмотрение сущностей",
                extendedDescription: "Wesenschau - непосредственное созерцание инвариантных сущностей (эйдосов) в противоположность эмпирическому познанию фактов. Через вариацию в воображении единичного примера схватывается то, что остается необходимо идентичным - сущность. Это априорное познание, дающее аподиктическую очевидность. Феноменология - эйдетическая наука, исследующая сущностные структуры сознания и его корреляты. Усмотрение сущностей - интеллектуальная интуиция, доступная каждому."
            },
            { 
                id: "noesis_noema", 
                label: "Ноэзис-ноэма", 
                philosopher: "husserl", 
                rubrics: ["consciousness"], 
                description: "Акт сознания и его предметное содержание",
                extendedDescription: "Фундаментальная корреляция в структуре интенциональности: ноэзис - субъективный акт сознания (восприятие, воображение, суждение); ноэма - предметное содержание, смысл, данный в этом акте. Один предмет может быть дан в разных ноэматических модусах. Ноэма - не реальный объект, а смысл, в котором сознание относится к объекту. Эта пара заменяет традиционный дуализм субъект-объект феноменологической корреляцией."
            },
            { 
                id: "constitution", 
                label: "Конституирование", 
                philosopher: "husserl", 
                rubrics: ["consciousness"], 
                description: "Созидание смысла сознанием",
                extendedDescription: "Не творение объектов ex nihilo, а конституирование их смысла в интенциональных актах. Сознание не пассивно отражает готовый мир, а активно синтезирует смысловые единства. Предмет конституируется в многообразии явлений через синтез идентификации. Это не субъективный идеализм - конституирование раскрывает, как объективность возможна для субъективности. Исследование конституции - центральная задача трансцендентальной феноменологии."
            },
            { 
                id: "intersubjectivity", 
                label: "Интерсубъективность", 
                philosopher: "husserl", 
                rubrics: ["consciousness"], 
                description: "Общность опыта субъектов",
                extendedDescription: "Проблема: как трансцендентальное ego, для которого всё - коррелят сознания, конституирует других субъектов как равноправных? Через аппрезентацию - непрямое представление чужого опыта по аналогии с моим. Я воспринимаю тело другого и апперципирую в нём чужое сознание. Интерсубъективность - основа объективного мира, общего для многих субъектов. Солипсизм преодолевается феноменологическим анализом конституирования Другого."
            },

            // БЕРТРАН РАССЕЛ
            { 
                id: "logical_atomism", 
                label: "Логический атомизм", 
                philosopher: "russell", 
                rubrics: ["being", "language"], 
                description: "Мир состоит из атомарных фактов",
                extendedDescription: "Логический атомизм Рассела: мир состоит из логически независимых атомарных фактов, а язык - из атомарных предложений, соответствующих этим фактам. Атомарные факты - простейшие факты, не разложимые на более простые (например, 'это красное'). Сложные предложения строятся из атомарных с помощью логических связок. Логический анализ должен свести сложные выражения к атомарным. Эта программа соединяет эмпиризм (атомарные факты познаются в опыте) с логическим анализом. Влияние на ранний Витгенштейн огромно. Позднее Рассел признал упрощённость этой картины."
            },
            { 
                id: "theory_descriptions", 
                label: "Теория дескрипций", 
                philosopher: "russell", 
                rubrics: ["language"], 
                description: "Анализ определённых описаний",
                extendedDescription: "Теория определённых описаний (1905) - анализ выражений вида 'нынешний король Франции'. Рассел показывает, что грамматическая форма обманчива: определённая дескрипция не является именем и не обязана иметь референт. 'Нынешний король Франции лыс' анализируется как: 'Существует один и только один нынешний король Франции, и он лыс'. Это сложное экзистенциальное утверждение, которое просто ложно, а не бессмысленно. Теория решает проблему несуществующих объектов без введения субсистентных сущностей Мейнонга. Парадигма логического анализа языка."
            },
            { 
                id: "russell_paradox", 
                label: "Парадокс Рассела", 
                philosopher: "russell", 
                rubrics: ["knowledge"], 
                description: "Множество всех множеств",
                extendedDescription: "Парадокс Рассела (1901): рассмотрим множество R всех множеств, не содержащих себя в качестве элемента. Принадлежит ли R само себе? Если да, то по определению оно не должно себе принадлежать. Если нет, то оно должно себе принадлежать. Противоречие. Этот парадокс разрушил наивную теорию множеств Фреге и показал необходимость ограничений в образовании множеств. Рассел предложил теорию типов как решение. Парадокс демонстрирует, что не всякое условие определяет множество, и что самореференция опасна. Фундаментальная проблема оснований математики."
            },
            { 
                id: "acquaintance_description", 
                label: "Знание-знакомство", 
                philosopher: "russell", 
                rubrics: ["knowledge"], 
                description: "Прямое знание vs знание по описанию",
                extendedDescription: "Различение между знанием-знакомством (knowledge by acquaintance) и знанием по описанию (knowledge by description). Знание-знакомство - непосредственное, прямое знание объекта через опыт: мы знакомы с чувственными данными, универсалиями, возможно, с самим собой. Знание по описанию - опосредованное, через дескрипции: мы знаем нынешнего президента США по описанию, не будучи с ним знакомы. Вся наша осмысленная речь об объектах, с которыми мы не знакомы, должна быть проанализирована в терминах знакомства и дескрипций. Это эмпиристский фундаментализм."
            },
            { 
                id: "sense_data", 
                label: "Чувственные данные", 
                philosopher: "russell", 
                rubrics: ["knowledge"], 
                description: "Непосредственные объекты восприятия",
                extendedDescription: "Чувственные данные (sense-data) - непосредственные объекты восприятия: цвета, звуки, запахи, которые мы действительно воспринимаем. Это не физические объекты и не части мозга, а особые сущности. Мы знакомы с чувственными данными, но не с физическими объектами, которые мы познаём только по описанию как причины чувственных данных. Теория чувственных данных - попытка решить проблему восприятия и обосновать эмпиризм. Позднее Рассел и другие философы критиковали эту теорию за введение сомнительных сущностей."
            },
            { 
                id: "external_world", 
                label: "Внешний мир", 
                philosopher: "russell", 
                rubrics: ["being"], 
                description: "Проблема существования внешнего мира",
                extendedDescription: "Проблема внешнего мира для Рассела: как на основании знания чувственных данных обосновать существование независимых от сознания физических объектов? Рассел предлагает гипотезу, что физические объекты - логические конструкции из чувственных данных и возможных чувственных данных (sensibilia). Это попытка примирить эмпиризм с реализмом. Физические объекты не познаются напрямую, но постулируются как наилучшее объяснение упорядоченности опыта. Позднее Рассел склоняется к более реалистическим позициям, признавая непосредственное знание физических объектов."
            },
            
            // ХАЙДЕГГЕР
            { 
                id: "dasein", 
                label: "Dasein", 
                philosopher: "heidegger", 
                rubrics: ["being"], 
                description: "Человеческое бытие-в-мире",
                extendedDescription: "Не 'человек' как субстанция, а способ быть, экзистенция - присутствие (Da-sein), для которого в его бытии речь идет о самом этом бытии. Dasein всегда уже вброшено в мир, озабочено вещами и другими. Не изолированный субъект, а бытие-в-мире как целостная структура. Dasein онтологически отличается от сущего тем, что понимает бытие. Аналитика Dasein - путь к вопросу о смысле бытия вообще."
            },
            { 
                id: "sein", 
                label: "Sein", 
                philosopher: "heidegger", 
                rubrics: ["being"], 
                description: "Бытие как таковое",
                extendedDescription: "Не сущее (конкретная вещь), а само Бытие - то, благодаря чему сущее есть. Бытие забыто метафизикой, подменено сущим. Различие Бытия и сущего (онтологическая дифференция) - основа мышления. Бытие не предмет, не субстанция, не Бог - оно событие, просвет, в котором сущее обнаруживается. Вопрос о смысле Бытия - забытый вопрос, который нужно поставить заново. Бытие дается только в понимании Dasein."
            },
            { 
                id: "geworfenheit", 
                label: "Geworfenheit", 
                philosopher: "heidegger", 
                rubrics: ["being"], 
                description: "Заброшенность в мир",
                extendedDescription: "Фактичность существования - Dasein всегда уже заброшено в определенную ситуацию, которую оно не выбирало: время, место, тело, культуру. Это не вина, а онтологическая структура: Dasein обнаруживает себя 'уже здесь', в настроении (Befindlichkeit). Заброшенность - не дефект, а экзистенциал, указывающий на конечность и фактичность. Настроения (страх, скука) раскрывают заброшенность - что мы есть, но не знаем откуда и зачем."
            },
            { 
                id: "sorge", 
                label: "Sorge", 
                philosopher: "heidegger", 
                rubrics: ["being"], 
                description: "Забота как основа бытия",
                extendedDescription: "Единая структура Dasein, объединяющая его экзистенциалы: забегание-вперед-себя (проект), уже-бытие-в (заброшенность), бытие-при (озабоченность вещами). Не психологическое беспокойство, а онтологическая структура - Dasein существует как забота. Временность - смысл заботы: будущее (проект), прошлое (заброшенность), настоящее (падение). Забота - бытие Dasein, пока оно есть, до самой смерти."
            },
            { 
                id: "sein_zum_tode", 
                label: "Sein-zum-Tode", 
                philosopher: "heidegger", 
                rubrics: ["time"], 
                description: "Бытие-к-смерти",
                extendedDescription: "Смерть - не событие в конце жизни, а экзистенциал, конституирующий бытие Dasein. Dasein существует всегда уже как смертное, его возможность - невозможность существования. Подлинное бытие-к-смерти: забегание в эту возможность, принятие её как самой своей. Неподлинное: бегство от смерти, растворение в Das Man ('люди умирают, но не я'). Только перед лицом смерти Dasein обретает подлинную целостность и решимость. Смерть индивидуализирует."
            },
            { 
                id: "aletheia", 
                label: "Aletheia", 
                philosopher: "heidegger", 
                rubrics: ["knowledge"], 
                description: "Истина как несокрытость",
                extendedDescription: "Изначальная греческая алетейя - не соответствие суждения факту (adaequatio), а раскрытие, выход из сокрытости. Истина - событие просвета (Lichtung), в котором сущее обнаруживается. Она включает и сокрытость - то, что остается во тьме, делает возможным несокрытость. Истина - не свойство суждения, а способ бытия сущего. Dasein - просвет бытия, 'здесь', где сущее может обнаружиться."
            },
            { 
                id: "dwelling", 
                label: "Обитание", 
                philosopher: "heidegger", 
                rubrics: ["being"], 
                description: "Аутентичное пребывание",
                extendedDescription: "Wohnen - подлинный способ человеческого пребывания на земле, не техническое использование, а бережное отношение к вещам и миру. Строить - значит давать место обитанию. Обитание - пребывание смертных на земле под небом, перед божествами, в сообществе (Четверица/Geviert). Современность утратила обитание, заменив его калькулирующим овладением. Поэзия и мышление - пути к восстановлению обитания, к Бытию."
            },
            { 
                id: "das_man", 
                label: "Das Man", 
                philosopher: "heidegger", 
                rubrics: ["being", "consciousness"], 
                description: "Безличное 'они', неподлинное существование",
                extendedDescription: "Усредненная общественность, в которой Dasein растворяется, уклоняясь от собственного бытия. 'Люди говорят', 'так делают' - диктатура безличного. Das Man снимает ответственность, нивелирует различия, успокаивает. Это не другие люди, а способ быть Dasein - бегство от себя в общественные нормы. Неподлинность - не моральный недостаток, а онтологическая возможность. Подлинное существование - вырывание себя из Das Man через решимость."
            },
            { 
                id: "ereignis", 
                label: "Ereignis", 
                philosopher: "heidegger", 
                rubrics: ["being"], 
                description: "Со-бытие, событие присвоения бытия",
                extendedDescription: "Центральное понятие позднего Хайдеггера - событие, в котором Бытие дарует себя, а человек присваивается Бытию. Не случайное происшествие, а структурное событие взаимопринадлежности Бытия и Dasein. Er-eignis - при-своение, вс-обытие. Бытие и время даны в Ereignis, история бытия - последовательность способов события. Это замена субъект-объектной схемы топологией взаимопринадлежности. Мышление должно вслушиваться в Ereignis."
            },
            { 
                id: "geviert", 
                label: "Четверица", 
                philosopher: "heidegger", 
                rubrics: ["being"], 
                description: "Das Geviert: земля, небо, божества, смертные",
                extendedDescription: "Простое единство четырех: земля (несущее, скрывающее), небо (свет, времена года), божественные (намек священного), смертные (люди как смертные). Они зеркально играют друг в друге, каждое отражает остальные. Вещь собирает Четверицу - кувшин вмещает дар земли под небом для возлияния богам и питья смертных. Это до-метафизическое понимание мира, не субъект-объектное. Современная техника разрушает Четверицу."
            },
            { 
                id: "kehre", 
                label: "Поворот", 
                philosopher: "heidegger", 
                rubrics: ["being"], 
                description: "Die Kehre - поворот в мышлении бытия",
                extendedDescription: "Двойной смысл: поворот в самом Бытии (от забвения к раскрытию) и поворот в мысли Хайдеггера (от аналитики Dasein к истории Бытия). После Поворота не Dasein проектирует бытие, а Бытие посылает себя, вручает себя человеку. Не человек - субъект метафизики, а Бытие - дарящее. Поворот - от трансценденции к Ereignis, от воли к Gelassenheit (отрешенности). История метафизики ведет к Повороту - возможному новому началу."
            },
            { 
                id: "vorhanden", 
                label: "Vorhandensein", 
                philosopher: "heidegger", 
                rubrics: ["being"], 
                description: "Наличное бытие вещей",
                extendedDescription: "Способ бытия сущего как просто присутствующего, наличествующего перед нами - традиционный модус бытия, которым занималась вся предшествующая метафизика. Vorhandene - это вещи в их чистом присутствии, рассматриваемые безотносительно к нашим практическим интересам, теоретически, как объекты созерцания и познания. Это производный модус бытия, возникающий из разрушения практического отношения: когда молоток ломается, он из подручного орудия превращается в просто наличную, бесполезную вещь. Наличное бытие - абстракция, отвлечение от первичной практической вовлечённости Dasein в мир. Вся западная метафизика от Платона до Декарта понимала бытие как Vorhandenheit, упуская тем самым более исходный экзистенциальный смысл бытия. Критика этой установки - центр хайдеггеровской деструкции метафизики."
            },
            { 
                id: "zuhanden", 
                label: "Zuhandensein", 
                philosopher: "heidegger", 
                rubrics: ["being"], 
                description: "Подручное бытие орудий",
                extendedDescription: "Первичный способ данности сущего в повседневном обхождении - бытие подручного, готового к руке орудия. Zuhandenes - это не объект теоретического созерцания, но то, чем мы пользуемся в заботе, не замечая, не тематизируя. Молоток существует как подручное, пока мы просто им пользуемся; лишь когда он ломается, он становится наличным. Подручность - это сеть отсылок: молоток отсылает к гвоздям, гвозди - к доскам, доски - к дому, дом - к обитанию. Эта целостность отсылок конституирует мир. Подручное всегда дано в модусе 'для-того-чтобы', оно встроено в практический контекст заботы. Открытие Zuhandenheit - революция в онтологии: бытие не есть присутствие перед теоретическим взором, но практическая вовлечённость в контекст значимости. Это предвосхищает прагматизм и энактивизм XX века."
            },

            { 
                id: "being_in_world", 
                label: "Бытие-в-мире", 
                philosopher: "heidegger", 
                rubrics: ["being", "consciousness"], 
                description: "Фундаментальная структура Dasein как всегда-уже-в-мире-бытия",
                extendedDescription: "In-der-Welt-sein (бытие-в-мире) - не пространственное нахождение субъекта среди объектов, но экзистенциальная структура Dasein, его способ быть. Dasein всегда уже находится в мире, не может быть помыслен вне мира. 'В' означает не местоположение, а озабоченность (Besorgen), обживание (Wohnen). Мир не совокупность наличных вещей, но тотальность значимости (Bedeutsamkeit), в которой вещи встречаются как подручное (Zuhandenes). Бытие-в-мире включает три момента: мир (Welt), кто бытийствует (Wer), бытие-в (In-Sein). Эта концепция преодолевает картезианский дуализм субъекта и объекта, показывая их изначальное единство. Влияние на экзистенциализм, феноменологию, герменевтику."
            },
            
            // ВИТГЕНШТЕЙН
            { 
                id: "language_game", 
                label: "Языковые игры", 
                philosopher: "wittgenstein", 
                rubrics: ["language"], 
                description: "Контекстуальное использование языка",
                extendedDescription: "Язык - не единая структура, а множество языковых игр, каждая со своими правилами. Игра - деятельность по правилам: приказывать, описывать, шутить, молиться. Значение слова - его употребление в языковой игре, не ментальная сущность. Грамматика языковой игры определяет, что осмысленно в ней. Нет привилегированной игры; философские проблемы - смешение различных игр, нарушение грамматики."
            },
            { 
                id: "picture_theory", 
                label: "Теория изображения", 
                philosopher: "wittgenstein", 
                rubrics: ["knowledge"], 
                description: "Язык как картина мира",
                extendedDescription: "Ранний Витгенштейн: предложение - логическая картина факта, изоморфная ему. Элементы предложения соответствуют элементам факта, структура предложения отображает структуру факта. Возможность изображения основана на общей логической форме языка и мира. Предложение показывает, как обстоит дело, если оно истинно. Мир - совокупность фактов; язык - совокупность предложений. Позже Витгенштейн отвергает эту теорию."
            },
            { 
                id: "limits_language", 
                label: "Границы языка", 
                philosopher: "wittgenstein", 
                rubrics: ["knowledge", "language"], 
                description: "О чем невозможно говорить",
                extendedDescription: "'Границы моего языка означают границы моего мира'. Осмысленно можно говорить только о фактах; о логической форме, этике, эстетике, метафизике невозможно говорить - они показывают себя, но не могут быть сказаны. Философия не теория, а деятельность прояснения. 'О чем невозможно говорить, о том следует молчать'. Мистическое - не как устроен мир, а что он есть."
            },
            { 
                id: "family_resemblance", 
                label: "Семейное сходство", 
                philosopher: "wittgenstein", 
                rubrics: ["language"], 
                description: "Нечёткие категории",
                extendedDescription: "Концепты часто не имеют общей сущности, а связаны семейным сходством - сеть перекрывающихся подобий без единого ядра. Пример: 'игра' - нет единой черты, общей всем играм, но есть сходства и родство. Отказ от эссенциализма - не обязательно искать определение через род и видовое отличие. Философские проблемы часто возникают из требования единой сущности там, где её нет."
            },
            { 
                id: "form_of_life", 
                label: "Форма жизни", 
                philosopher: "wittgenstein", 
                rubrics: ["language"], 
                description: "Практический контекст языка",
                extendedDescription: "Lebensform - сплетение языка и деятельности, культурно-практический контекст употребления языка. Языковая игра укоренена в форме жизни - в том, что мы делаем, в наших институтах, обычаях, реакциях. Формы жизни - данность, за которой нельзя идти дальше: 'это просто то, что мы делаем'. Понимание языка предполагает разделение формы жизни. 'Если лев мог бы говорить, мы бы его не поняли' - иная форма жизни."
            },
            { 
                id: "showing_saying", 
                label: "Показывание vs говорение", 
                philosopher: "wittgenstein", 
                rubrics: ["language"], 
                description: "То, что может быть показано, не может быть сказано",
                extendedDescription: "Фундаментальное различие: факты могут быть сказаны (в предложениях); логическая форма, этические и эстетические ценности могут только показывать себя, но не говориться. Предложение показывает свою логическую форму в своей структуре, но не может высказать её. Мистическое показывает себя. Философия Трактата сама нарушает это различие - её предложения бессмысленны, они - лестница, которую нужно отбросить, поднявшись по ней."
            },
            { 
                id: "private_language", 
                label: "Аргумент против приватного языка", 
                philosopher: "wittgenstein", 
                rubrics: ["language"], 
                description: "Невозможность чисто личного языка",
                extendedDescription: "Невозможен язык, слова которого относятся к приватным, доступным только говорящему переживаниям. Следование правилу требует возможности проверки, а это невозможно для приватных ощущений. Нет критерия правильности употребления слова для приватного переживания - 'кажется правильным' не значит 'правильно'. Значение не в приватном акте указания, а в публичном употреблении. Это опровергает картезианскую концепцию привилегированного доступа к собственному сознанию."
            },
            { 
                id: "rule_following", 
                label: "Следование правилу", 
                philosopher: "wittgenstein", 
                rubrics: ["language"], 
                description: "Проблема интерпретации правил",
                extendedDescription: "Парадокс: всякая интерпретация правила сама требует правила интерпретации - бесконечный регресс. Следование правилу не основано на интерпретации, а на практике, обычае, дрессировке. Правило не детерминирует применение логически, а направляет через участие в форме жизни. 'Слепое' следование правилу - не механическое, а до-интерпретативное. Регулярность поведения в сообществе - критерий правильности, не ментальное состояние индивида."
            },

            // ЖАК ЛАКАН
            { 
                id: "three_registers", 
                label: "Три регистра", 
                philosopher: "lacan", 
                rubrics: ["consciousness"], 
                description: "Реальное, Символическое, Воображаемое",
                extendedDescription: "Топология Лакана включает три регистра: Реальное (невозможное, непредставимое, травматическое, остаток вне символизации), Символическое (порядок языка, законов, социальных структур, Большого Другого), Воображаемое (сфера образов, идентификаций, иллюзорного единства Я). Эти три регистра переплетены как борромеевы кольца - удаление одного разрывает всю структуру. Субъект конституируется на пересечении трёх регистров. Психоанализ работает с тремя регистрами: симптом укоренён в Реальном, анализируется в Символическом, проявляется в Воображаемом."
            },
            { 
                id: "mirror_stage", 
                label: "Стадия зеркала", 
                philosopher: "lacan", 
                rubrics: ["consciousness"], 
                description: "Формирование Я через образ",
                extendedDescription: "Стадия зеркала (6-18 месяцев) - ключевой момент формирования Я через идентификацию ребёнка со своим зеркальным образом. Ребёнок, ещё моторно не координированный, видит в зеркале целостный образ и радостно узнаёт себя. Но это узнавание - méconnaissance, неузнавание: Я формируется как alienated, отчуждённое в образе Другого. Нарциссическая идентификация с образом закладывает структуру Я как воображаемого образования. Я - это другой (je est un autre). Стадия зеркала вводит в Воображаемый регистр и предшествует вхождению в Символическое."
            },
            { 
                id: "big_other", 
                label: "Большой Другой", 
                philosopher: "lacan", 
                rubrics: ["consciousness"], 
                description: "Символический порядок",
                extendedDescription: "Большой Другой (grand Autre, A) - символический порядок языка, законов, социальных норм, в который субъект вписан помимо своей воли. Это структура, которая говорит субъектом, место, откуда субъект видим и судим. Другой - не конкретный другой человек (малый другой), а анонимный порядок означающих. Желание субъекта - это желание Другого: мы желаем того, чего, как нам кажется, желает от нас Другой, и желаем быть желанными Другим. Большой Другой гарантирует значение, но сам не обладает полнотой - Другой кастрирован, в нём есть нехватка."
            },
            { 
                id: "desire_other", 
                label: "Желание Другого", 
                philosopher: "lacan", 
                rubrics: ["will"], 
                description: "Желание как желание Другого",
                extendedDescription: "Желание человека - это желание Другого в двух смыслах: желание быть признанным, желанным Другим (мы желаем, чтобы нас желали) и желание, которое структурировано Другим (мы желаем того, что Другой желает или предписывает желать). Желание отличается от потребности (биологическое) и требования (обращённое к Другому). Желание возникает из разрыва между потребностью и требованием, из невозможности удовлетворения требования любви. Желание никогда не удовлетворяется, оно постоянно соскальзывает вдоль цепи означающих. Субъект желания - расщеплённый субъект ($)."
            },
            { 
                id: "objet_petit_a", 
                label: "Objet petit a", 
                philosopher: "lacan", 
                rubrics: ["will"], 
                description: "Объект-причина желания",
                extendedDescription: "Объект a (objet petit a) - не объект желания, а его причина, то, что вызывает и поддерживает желание, оставаясь недостижимым. Это остаток, remainder, который ускользает от символизации, частичный объект (грудь, фекалии, взгляд, голос). Объект a - это то, что было потеряно при вхождении в Символический порядок, утраченная вещь (das Ding), которую субъект пытается восстановить. Он находится на границе Реального и Символического. Объект а - plus-de-jouir, прибавочное наслаждение, аналог марксовой прибавочной стоимости. Фантазм структурируется вокруг объекта a."
            },
            { 
                id: "signifier", 
                label: "Означающее", 
                philosopher: "lacan", 
                rubrics: ["language"], 
                description: "Примат означающего над означаемым",
                extendedDescription: "Лакан переворачивает соссюровскую формулу: означающее (S) главенствует над означаемым (s), S/s. Означающее не служит для обозначения означаемого - напротив, означающее производит означаемое. Субъект - эффект означающего: 'означающее представляет субъекта для другого означающего'. Бессознательное структурировано как язык - оно подчиняется законам означающего (метафора, метонимия). Смысл возникает ретроактивно, point de capiton, стёжка. Означающее материально (звук, буква) и дифференциально (определяется через различие с другими означающими). Символический порядок - порядок означающих."
            },
            { 
                id: "lack", 
                label: "Нехватка", 
                philosopher: "lacan", 
                rubrics: ["consciousness"], 
                description: "Конститутивная нехватка субъекта",
                extendedDescription: "Нехватка (manque) - конститутивная для субъекта: субъект изначально неполон, расщеплён ($), ему чего-то не хватает. Эта нехватка не случайна и не может быть заполнена - она структурна, возникает с вхождением в язык. Кастрация - не эмпирическое событие, а символическая операция, вводящая нехватку. Нехватка - источник желания: мы желаем, потому что нам не хватает. Но объект желания - фантазматическое восполнение нехватки - всегда ускользает. Даже Другой неполон, в нём есть нехватка (S(Ⱥ)). Нехватка нехватки - невроз пытается избежать столкновения с нехваткой."
            },
            
            // САРТР
            { 
                id: "existence", 
                label: "Существование", 
                philosopher: "sartre", 
                rubrics: ["being"], 
                description: "Первично перед сущностью",
                extendedDescription: "Для человека существование предшествует сущности - сначала он существует, встречает себя, появляется в мире, и только потом определяется. Нет человеческой природы, нет Бога-творца, задающего сущность. Человек - это то, что он делает из себя, его проект. Только человек существует в полном смысле - сознательно, свободно проектируя себя. Вещи имеют сущность до существования; человек создает свою сущность, существуя."
            },
            { 
                id: "nothingness", 
                label: "Ничто", 
                philosopher: "sartre", 
                rubrics: ["consciousness"], 
                description: "Источник свободы",
                extendedDescription: "Сознание вносит ничто в бытие через негацию, дистанцирование, отрицание. Ничто не существует само по себе, а ничтожится через человеческую реальность. Сознание - это ничто в сердце бытия, дыра в бытии, через которую приходит негативность. Ничтожение - основа свободы: мы не совпадаем с собой, всегда можем сказать 'нет' данному. Тревога - переживание ничто, собственной свободы как бездны возможностей."
            },
            { 
                id: "bad_faith", 
                label: "Дурная вера", 
                philosopher: "sartre", 
                rubrics: ["freedom"], 
                description: "Самообман и бегство от свободы",
                extendedDescription: "Mauvaise foi - ложь себе, попытка избежать тревоги свободы, притворяясь вещью с фиксированной сущностью. 'Я такой, какой есть' - отказ от трансцендирования. Официант, играющий роль официанта; женщина, не замечающая ухаживания. Дурная вера - не просто ложь: я одновременно обманываю и знаю обман. Это возможно из-за структуры сознания - мы не совпадаем с собой. Дурная вера - бегство от ответственности за свою свободу."
            },
            { 
                id: "freedom_sartre", 
                label: "Свобода", 
                philosopher: "sartre", 
                rubrics: ["freedom"], 
                description: "Осуждённость быть свободным",
                extendedDescription: "'Человек осужден быть свободным' - свобода не приятное качество, а тяжелое бремя. Мы не выбираем быть свободными - заброшены в свободу, обречены на неё. Нет оправданий: ни Бога, ни природы, ни обстоятельств. Мы полностью ответственны за себя и за мир. Даже отказ выбирать - выбор. Свобода абсолютна - мы свободны даже в оковах (выбираем отношение к ним). Тревога - осознание этой ужасающей свободы."
            },
            { 
                id: "for_itself", 
                label: "Для-себя-бытие", 
                philosopher: "sartre", 
                rubrics: ["consciousness"], 
                description: "Сознание",
                extendedDescription: "L'être-pour-soi - бытие сознания, характеризующееся негативностью, отсутствием совпадения с собой, трансценденцией. Для-себя не есть, а существует - всегда впереди или позади себя, проектируя будущее, убегая от прошлого. Оно прозрачно для себя, но пусто - чистая спонтанность, ничто. Стремится стать в-себе, обрести плотность бытия, сохраняя сознание (стать Богом), но это невозможно. Для-себя - несчастное сознание, разлад с собой."
            },
            { 
                id: "in_itself", 
                label: "В-себе-бытие", 
                philosopher: "sartre", 
                rubrics: ["being"], 
                description: "Вещи без сознания",
                extendedDescription: "L'être-en-soi - бытие вещей, плотное, массивное, совпадающее с собой. Оно есть то, что оно есть - без негативности, без возможности, без становления. В-себе непрозрачно, инертно, лишено смысла - абсурдная фактичность. 'Бытие есть. Бытие есть в-себе. Бытие есть то, что оно есть.' Для-себя возникает из в-себе как его ничтожение, но мечтает вернуться к плотности в-себе, сохранив сознание - невозможный синтез."
            },
            { 
                id: "look", 
                label: "Взгляд Другого", 
                philosopher: "sartre", 
                rubrics: ["consciousness"], 
                description: "Объективация через Другого",
                extendedDescription: "Le regard - взгляд Другого превращает меня в объект, похищает мой мир, делая его центром другого мира. Стыд - изначальное переживание себя под взглядом Другого, обнаружение своей объектности. Я существую для Другого не как для-себя, а как в-себе - с фиксированными качествами. Конфликт неизбежен: либо я объективирую Другого (садизм), либо он меня (мазохизм). 'Ад - это другие' - не потому что они злы, а потому что их взгляд отчуждает."
            },
            { 
                id: "project", 
                label: "Проект", 
                philosopher: "sartre", 
                rubrics: ["freedom"], 
                description: "Человек как проектирование себя в будущее",
                extendedDescription: "Человек - это прежде всего проект, то, что бросает себя к будущему, сознает себя как проектирующего. Не пассивная вещь, а активное самоопределение. Фундаментальный проект - тотальность выборов, конституирующих личность. Мы не имеем природы, мы - наш проект, постоянное трансцендирование данного к возможному. Проект не план - это само наше бытие как устремленность, выход за пределы фактичности к ценностям, целям, смыслам."
            },
            { 
                id: "engagement", 
                label: "Ангажированность", 
                philosopher: "sartre", 
                rubrics: ["ethics", "freedom"], 
                description: "Вовлечённость, обязательство перед миром",
                extendedDescription: "Engagement - невозможно не быть вовлеченным; даже бездействие - выбор и ответственность. Писатель, философ не может быть нейтральным - он всегда на стороне угнетенных или угнетателей. Свобода требует солидарности: выбирая для себя, выбираешь для всех людей. Это не альтруизм, а следствие структуры свободы: мой проект всегда предполагает определенный образ человека. Ангажированность - признание своей укорененности в ситуации и ответственности за нее."
            },
            
            // ФУКО
            { 
                id: "power_knowledge", 
                label: "Власть-знание", 
                philosopher: "foucault", 
                rubrics: ["politics"], 
                description: "Неразрывность власти и знания",
                extendedDescription: "Pouvoir-savoir - власть и знание непосредственно предполагают друг друга, нет отношений власти без соответствующего поля знания, ни знания, не предполагающего властных отношений. Истина не противоположна власти, а её эффект и инструмент. Дисциплинарные науки (психиатрия, криминология, сексология) производят знание, которое одновременно контролирует. Власть не просто запрещает, но производит реальность, ритуалы истины, дискурсы."
            },
            { 
                id: "episteme", 
                label: "Эпистема", 
                philosopher: "foucault", 
                rubrics: ["language"], 
                description: "Исторические структуры знания",
                extendedDescription: "Эпистема - историческое априори, конфигурация знания определенной эпохи, определяющая возможные формы познания. Не содержание знаний, а правила их образования - что может быть помыслено, сказано, признано истинным. Разрывы между эпистемами (Ренессанс, классическая, современная) - не прогресс, а археологические смены порядка вещей. Эпистема - неосознаваемый горизонт, позитивное бессознательное знания."
            },
            { 
                id: "discipline", 
                label: "Дисциплина", 
                philosopher: "foucault", 
                rubrics: ["politics"], 
                description: "Микрофизика власти",
                extendedDescription: "Технологии власти, производящие послушные тела через детальный контроль жестов, времени, пространства. Не репрессия, а формирование: тюрьма, школа, армия, фабрика создают дисциплинированных индивидов. Иерархический надзор, нормализующая санкция, экзамен - инструменты дисциплины. Власть не только подавляет, но производит - создает индивидов определенного типа. Паноптизм - идеальная модель дисциплинарной власти."
            },
            { 
                id: "biopower", 
                label: "Биовласть", 
                philosopher: "foucault", 
                rubrics: ["politics"], 
                description: "Власть над жизнью",
                extendedDescription: "С XVIII века - переход от суверенной власти (право умерщвлять) к биовласти (контроль над жизнью). Два полюса: анатомо-политика тела (дисциплина) и биополитика населения (регулирование рождаемости, смертности, здоровья). Жизнь становится объектом и целью власти. Расизм - механизм биовласти, легитимирующий умерщвление. Современность - не освобождение жизни от власти, а захват жизни властью, делающей её продуктивной."
            },
            { 
                id: "care_self", 
                label: "Забота о себе", 
                philosopher: "foucault", 
                rubrics: ["ethics"], 
                description: "Этика самопреобразования",
                extendedDescription: "Epimeleia heautou - античная практика работы над собой, превращения себя в произведение искусства. Не подчинение универсальным нормам, а творческое самоконструирование. Техники себя - упражнения, испытания, самоиспытание, ведение дневников. Этика как эстетика существования, а не мораль долга. Против христианского самоотречения - утверждение себя. Современность может обрести этическую перспективу, возродив заботу о себе."
            },
            { 
                id: "archaeology", 
                label: "Археология знания", 
                philosopher: "foucault", 
                rubrics: ["method"], 
                description: "Метод анализа дискурсов",
                extendedDescription: "Археология исследует не прогресс истины, а позитивность дискурсов - правила образования высказываний в определенную эпоху. Не история идей (поиск смысла), а анализ дискурсивных практик (регулярности, формации). Дискурс не выражает реальность или мысль, а конституирует объекты. Археология выявляет эпистемологические разрывы, несовместимость эпистем. Это не герменевтика (поиск скрытого смысла), а картография исторических формаций знания."
            },
            { 
                id: "heterotopia", 
                label: "Гетеротопия", 
                philosopher: "foucault", 
                rubrics: ["politics"], 
                description: "Иные пространства, реальные утопии",
                extendedDescription: "Реально существующие места, которые функционируют как контр-пространства - одновременно реальны и ирреальны, отражают и оспаривают обычные пространства. Примеры: кладбище, тюрьма, музей, театр, корабль. Гетеротопии имеют свои принципы: кризисные/отклонения, изменчивость функции, наложение несовместимых пространств, гетерохронии (разрывы времени), системы открытия/закрытия. Они - зеркала общества, показывающие его иначе."
            },
            { 
                id: "panopticon", 
                label: "Паноптикум", 
                philosopher: "foucault", 
                rubrics: ["politics"], 
                description: "Архитектура тотального надзора",
                extendedDescription: "Идеальная модель дисциплинарной власти (Бентам): круглая тюрьма с центральной башней, откуда надзиратель видит всех заключенных, оставаясь невидимым. Эффект: постоянное ощущение наблюдаемости автоматизирует подчинение - власть становится внутренней. Паноптизм распространяется за пределы тюрьмы: школы, больницы, фабрики. Это диаграмма власти современности - не тиранический контроль, а рассеянный, нормализующий, создающий индивидуальность через надзор."
            },
            { 
                id: "problematization", 
                label: "Проблематизация", 
                philosopher: "foucault", 
                rubrics: ["method"], 
                description: "Превращение данности в вопрос",
                extendedDescription: "Задача критической мысли - не принимать очевидности, а проблематизировать их, показывая, как данное стало данным, что сделало возможным его принятие. Не 'что думать?' а 'как стало возможным так думать?' Безумие, сексуальность, преступность - не вечные сущности, а исторические проблематизации. Проблематизация - не релятивизм, а выявление произвольности настоящего, открытие возможности думать иначе. Свобода как критическая дистанция к данности."
            },
            { 
                id: "dispositif", 
                label: "Диспозитив", 
                philosopher: "foucault", 
                rubrics: ["politics", "knowledge"], 
                description: "Аппарат власти-знания, гетерогенная совокупность элементов",
                extendedDescription: "Стратегическая сеть, состоящая из гетерогенных элементов - дискурсов, институций, архитектурных форм, регулирующих решений, законов, административных мер, научных высказываний, философских и моральных положений. Диспозитив - это система отношений между этими элементами, отвечающая на некоторую историческую неотложность, решающая определённую стратегическую задачу. Он всегда вписан в игру власти, но всегда связан с границами знания, которые из него происходят и, в то же время, обусловливают его. Примеры диспозитивов: сексуальность, безумие, дисциплина, биополитика. Это не просто структура, но динамический аппарат, производящий субъективность. Паноптикум - частный случай дисциплинарного диспозитива. Понятие dispositif - методологический ключ поздних работ Фуко, инструмент анализа исторических конфигураций власти-знания. Делёз разовьёт это понятие, связав его с концепцией ассамбляжа."
            },

            // МЕЙНОНГ
            { 
                id: "object_theory", 
                label: "Теория предметов", 
                philosopher: "meinong", 
                rubrics: ["being", "knowledge"], 
                description: "Учение о чистых предметах безотносительно к существованию",
                extendedDescription: "Теория предметов (Gegenstandstheorie) Мейнонга утверждает, что существует наука о предметах как таковых, независимо от вопроса об их существовании или несуществовании. Предмет обладает характеристиками (так-бытие, Sosein) независимо от того, существует он или нет. Золотая гора не существует, но она золотая и она гора - эти характеристики принадлежат предмету независимо от его бытия. Теория предметов более фундаментальна, чем онтология, поскольку онтология изучает лишь существующие предметы, а теория предметов охватывает всю сферу предметности. Эта концепция вызвала острую полемику с Расселом и оказала влияние на развитие феноменологии и аналитической философии."
            },

            { 
                id: "non_existent_objects", 
                label: "Несуществующие предметы", 
                philosopher: "meinong", 
                rubrics: ["being"], 
                description: "Объекты, которые не существуют, но обладают свойствами",
                extendedDescription: "Мейнонг утверждает парадоксальный тезис: 'Есть предметы, о которых верно, что таких предметов нет'. Несуществующие предметы (круглый квадрат, золотая гора, Пегас) обладают определёнными характеристиками, о них можно мыслить и высказывать истинные суждения. Отрицательное экзистенциальное суждение 'Пегас не существует' предполагает, что мы знаем, о чём идёт речь, следовательно, Пегас должен быть предметом мысли. Рассел критиковал эту концепцию, разработав теорию дескрипций как альтернативу. Однако идея Мейнонга оказала влияние на логическую семантику и философию языка, ставя вопрос о референции пустых имён."
            },

            { 
                id: "sosein", 
                label: "Так-бытие (Sosein)", 
                philosopher: "meinong", 
                rubrics: ["being"], 
                description: "Характеристика предмета независимо от его существования",
                extendedDescription: "Так-бытие (Sosein) - это совокупность определений и свойств предмета, независимых от вопроса о его бытии (Sein) или небытии. Принцип независимости так-бытия от бытия утверждает, что предмет может обладать свойствами, даже если он не существует. Золотая гора обладает свойствами 'золотая' и 'гора' независимо от факта её несуществования. Это различение радикализирует идею имманентной предметности Брентано: у Брентано предмет в сознании, у Мейнонга предмет может быть вне бытия вообще. Концепция так-бытия поставила фундаментальный вопрос о соотношении сущности и существования, предвосхитив проблематику аналитической онтологии."
            },

            { 
                id: "assumptions", 
                label: "Предположения (Annahmen)", 
                philosopher: "meinong", 
                rubrics: ["knowledge"], 
                description: "Интенциональные акты без утверждения существования",
                extendedDescription: "Предположения (Annahmen) - это особый класс психических актов, в которых мы направляемся на предмет, не утверждая и не отрицая его существования. В отличие от суждений, которые полагают или отрицают, предположение остаётся нейтральным к вопросу о бытии. Предполагая круглый квадрат, я не утверждаю, что он существует, но и не отрицаю этого - я просто направляюсь на него как на предмет мысли. Предположения играют важную роль в воображении, эстетическом восприятии и гипотетических рассуждениях. Эта концепция развивает брентановскую интенциональность в направлении более тонкой классификации психических актов."
            },

            { 
                id: "incomplete_objects", 
                label: "Неполные предметы", 
                philosopher: "meinong", 
                rubrics: ["being"], 
                description: "Объекты с неопределенными свойствами",
                extendedDescription: "Неполные предметы - это предметы, которые не обладают определённостью относительно некоторых свойств. Например, когда мы мыслим 'треугольник вообще', мы не определяем, является ли он остроугольным, прямоугольным или тупоугольным. 'Золотая гора' не определена относительно высоты, местоположения и множества других характеристик. Неполнота не означает противоречивости - неполный предмет отличается от невозможного предмета (круглого квадрата). Большинство предметов нашего мышления неполны, поскольку мы редко определяем все их свойства. Эта концепция ставит вопрос о природе общих понятий и абстракции."
            },

            // ФРЕЙД
            { 
                id: "unconscious", 
                label: "Бессознательное", 
                philosopher: "freud", 
                rubrics: ["consciousness"], 
                description: "Психическая система вытесненных влечений",
                extendedDescription: "Бессознательное (das Unbewusste) - не просто отсутствие сознания, но активная психическая система со своими законами функционирования. Содержания бессознательного недоступны сознанию из-за вытеснения (Verdrängung), но продолжают оказывать влияние на поведение, проявляясь в сновидениях, оговорках, симптомах. Бессознательное не знает противоречий, отрицания, времени; оно управляется принципом удовольствия. Фрейд различает индивидуальное бессознательное (вытесненное) и предсознательное (потенциально осознаваемое). Открытие бессознательного нанесло третий удар по человеческому нарциссизму после Коперника и Дарвина: человек не господин в собственном доме. Концепция бессознательного развивает и радикализирует шопенгауэровскую Волю."
            },

            { 
                id: "oedipus_complex", 
                label: "Эдипов комплекс", 
                philosopher: "freud", 
                rubrics: ["consciousness", "will"], 
                description: "Детская сексуальность и амбивалентность к родителям",
                extendedDescription: "Эдипов комплекс представляет собой универсальную структуру детской сексуальности: мальчик испытывает либидинозное влечение к матери и враждебность к отцу как сопернику, сопровождающуюся страхом кастрации. Девочка переживает комплекс Электры с обратными отношениями. Разрешение Эдипова комплекса через идентификацию с родителем своего пола и интернализацию родительских запретов приводит к формированию Сверх-Я. Это центральный момент психосексуального развития, определяющий структуру личности и возможные неврозы. Лакан переинтерпретирует Эдипов комплекс через призору языка: Имя Отца вводит субъекта в символический порядок. Делёз и Гваттари в 'Анти-Эдипе' критикуют универсализацию этой структуры."
            },

            { 
                id: "death_drive", 
                label: "Влечение к смерти", 
                philosopher: "freud", 
                rubrics: ["will"], 
                description: "Танатос - стремление к разрушению и возвращению к неорганическому",
                extendedDescription: "В работе 'По ту сторону принципа удовольствия' (1920) Фрейд постулирует существование влечения к смерти (Todestrieb, Танатос) наряду с влечениями к жизни (Эрос). Влечение к смерти проявляется в стремлении к разрядке напряжения, к возвращению в неорганическое состояние, к уничтожению. Навязчивое повторение травматических переживаний указывает на действие принципа, более фундаментального, чем принцип удовольствия. Вовне влечение к смерти проявляется как агрессия и деструктивность, вовнутрь - как самодеструкция и мазохизм. Эта концепция испытала влияние Шопенгауэра (отрицание воли к жизни) и Ницше (воля к власти как самопреодоление). Лакан связывает влечение к смерти с регистром Реального."
            },

            { 
                id: "pleasure_principle", 
                label: "Принцип удовольствия", 
                philosopher: "freud", 
                rubrics: ["will", "consciousness"], 
                description: "Первичная тенденция психики к разрядке напряжения",
                extendedDescription: "Принцип удовольствия (Lustprinzip) управляет первичными психическими процессами, стремясь к немедленной разрядке возбуждения и устранению неудовольствия. Психический аппарат стремится поддерживать количество возбуждения на минимально возможном уровне. Удовольствие соответствует уменьшению напряжения, неудовольствие - его увеличению. Принцип удовольствия доминирует в бессознательном и в раннем детстве. Сновидения, фантазии, невротические симптомы следуют принципу удовольствия, игнорируя реальность. Однако чистый принцип удовольствия ведёт к галлюцинаторному исполнению желаний, что неадаптивно. Поэтому он модифицируется принципом реальности, который откладывает удовлетворение."
            },

            { 
                id: "reality_principle", 
                label: "Принцип реальности", 
                philosopher: "freud", 
                rubrics: ["consciousness"], 
                description: "Отсрочка удовлетворения ради адаптации к реальности",
                extendedDescription: "Принцип реальности (Realitätsprinzip) модифицирует принцип удовольствия, заставляя психику учитывать условия внешнего мира. Немедленная разрядка заменяется отсрочкой удовлетворения, галлюцинаторное исполнение желания - реальным действием. Формирование принципа реальности связано с развитием Я (Ego), которое опосредует между требованиями Оно и условиями реальности. Принцип реальности не отменяет принцип удовольствия, но откладывает и обеспечивает более надёжное удовольствие. Он управляет вторичными процессами мышления: проверкой реальности, логикой, планированием. Развитие принципа реальности - необходимое условие адаптации и выживания."
            },

            { 
                id: "transference", 
                label: "Перенос", 
                philosopher: "freud", 
                rubrics: ["consciousness"], 
                description: "Воспроизведение ранних отношений в актуальной ситуации",
                extendedDescription: "Перенос (Übertragung) - это процесс, в котором пациент бессознательно переносит на аналитика чувства, желания и установки, первоначально связанные с важными фигурами раннего детства (обычно родителями). Невротические конфликты и паттерны отношений воспроизводятся в аналитической ситуации. Перенос может быть позитивным (любовь, идеализация) или негативным (враждебность, подозрительность). Анализ переноса - центральная техника психоанализа, позволяющая проработать инфантильные конфликты в настоящем. Лакан развивает концепцию переноса через понятие 'субъект, предполагаемый знать': пациент атрибутирует аналитику знание о его бессознательном. Перенос обнаруживает повторение как фундаментальную структуру психики."
            },

            { 
                id: "dream_work", 
                label: "Работа сновидения", 
                philosopher: "freud", 
                rubrics: ["consciousness"], 
                description: "Процесс преобразования скрытого содержания в явное",
                extendedDescription: "Работа сновидения (Traumarbeit) - это совокупность психических операций, трансформирующих скрытые мысли сновидения (latente Traumgedanken) в явное содержание (manifester Trauminhalt). Основные механизмы: сгущение (конденсация многих мыслей в один образ), смещение (перенос психической интенсивности с важных элементов на незначительные), драматизация (превращение мыслей в зрительные образы), вторичная обработка (создание связного повествования). Работа сновидения подчиняется первичным процессам и принципу удовольствия. Она не создаёт сновидение, но преобразует бессознательное желание в форму, допустимую для сознания. Лакан интерпретирует работу сновидения через метафору и метонимию, уподобляя её работе означающего."
            },

            { 
                id: "repression", 
                label: "Вытеснение", 
                philosopher: "freud", 
                rubrics: ["consciousness"], 
                description: "Защитный механизм удаления из сознания неприемлемого содержания",
                extendedDescription: "Вытеснение (Verdrängung) - основной защитный механизм, посредством которого неприемлемые для Я представления, желания, воспоминания удаляются из сознания и удерживаются в бессознательном. Вытеснение не уничтожает психическое содержание, но лишает его доступа к сознанию и моторике, одновременно сохраняя его психическую энергию. Вытесненное стремится к возвращению, проявляясь в замаскированной форме: симптомах, сновидениях, оговорках. Различают первичное вытеснение (создание ядра бессознательного) и вторичное (последующие вытеснения). Сопротивление в анализе свидетельствует о действии вытеснения. Вытеснение создаёт расщепление психики и лежит в основе невроза."
            },

            { 
                id: "id_ego_superego", 
                label: "Оно, Я, Сверх-Я", 
                philosopher: "freud", 
                rubrics: ["consciousness"], 
                description: "Структурная модель психического аппарата",
                extendedDescription: "В работе 'Я и Оно' (1923) Фрейд предложил структурную модель психики, различая три инстанции. Оно (Es, Id) - резервуар влечений, управляемый принципом удовольствия, содержит бессознательные желания. Я (Ich, Ego) - организованная часть личности, посредник между Оно, внешним миром и Сверх-Я, управляемый принципом реальности. Сверх-Я (Über-Ich, Superego) - интернализованные родительские запреты и идеалы, совесть и Я-идеал, источник чувства вины. Конфликт между этими инстанциями порождает тревогу и защитные механизмы. Я служит трём господам: Оно, реальности и Сверх-Я, что делает его позицию трагической. Лакан переформулирует эту структуру через регистры Реального, Воображаемого и Символического."
            },

            // ГАДАМЕР
            { 
                id: "hermeneutic_circle", 
                label: "Герменевтический круг", 
                philosopher: "gadamer", 
                rubrics: ["knowledge", "method"], 
                description: "Структура понимания: целое через части, части через целое",
                extendedDescription: "Герменевтический круг описывает фундаментальную структуру понимания: целое понимается из частей, но части могут быть поняты только из целого. Понимание движется циркулярно, постоянно корректируя предварительное понимание целого новым пониманием частей. Это не порочный круг, но продуктивная структура, условие возможности понимания. Гадамер развивает хайдеггеровскую концепцию герменевтического круга: всякое понимание осуществляется из предпонимания (Vorverständnis), определяемого традицией и языком. Интерпретатор всегда уже находится внутри круга понимания, не может выйти за его пределы к 'объективному' знанию. Задача герменевтики - не вырваться из круга, но правильно в него войти."
            },

            { 
                id: "horizon_understanding", 
                label: "Горизонт понимания", 
                philosopher: "gadamer", 
                rubrics: ["knowledge"], 
                description: "Исторически обусловленная перспектива интерпретации",
                extendedDescription: "Горизонт понимания (Horizont des Verstehens) - это совокупность всего того, что может быть увидено из определённой точки зрения. Всякое понимание ситуативно, совершается из конкретного горизонта, определяемого историческим положением интерпретатора, его языком, традицией, предрассудками. Горизонт не замкнутая граница, но подвижное поле, постоянно расширяющееся с новым опытом. Понимание исторического текста требует осознания временной дистанции между горизонтом текста и горизонтом интерпретатора. Историческое сознание принципиально конечно, не может выйти за пределы своего горизонта к абсолютному знанию. Горизонты не изолированы, но открыты друг другу, способны к слиянию."
            },

            { 
                id: "fusion_horizons", 
                label: "Слияние горизонтов", 
                philosopher: "gadamer", 
                rubrics: ["knowledge"], 
                description: "Диалогическое взаимопроникновение интерпретатора и текста",
                extendedDescription: "Слияние горизонтов (Horizontverschmelzung) - процесс понимания как встреча и взаимопроникновение горизонта интерпретатора и горизонта текста (или Другого). Понимание - не вживание в чужую психику (Дильтей), не реконструкция авторского замысла, но диалогическое событие. В диалоге оба горизонта трансформируются: интерпретатор преобразует свой горизонт, включая в него инаковость текста, а текст раскрывается по-новому в новом горизонте. Слияние не означает тождества или растворения различий, но сохранение напряжения между своим и чужим. Понимание есть применение (Applikation): текст применяется к ситуации интерпретатора, а интерпретатор применяет себя к тексту. Это продуктивный процесс образования нового смысла."
            },

            { 
                id: "tradition_gadamer", 
                label: "Традиция", 
                philosopher: "gadamer", 
                rubrics: ["knowledge", "politics"], 
                description: "Живая передача смыслов, конституирующая понимание",
                extendedDescription: "Традиция (Überlieferung) - не мёртвое наследие прошлого, но живая передача смыслов, в которой мы всегда уже находимся. Традиция не препятствие для понимания, требующее устранения, но его позитивное условие. Мы понимаем из традиции и в традиции. Просвещенческая критика 'предрассудков' сама есть предрассудок против предрассудков. Гадамер реабилитирует традицию и авторитет: не слепое подчинение, но признание компетентности. Эффективная история (Wirkungsgeschichte) означает, что интерпретатор сам принадлежит истории воздействия текста. Понимание - диалог с традицией, в котором традиция продолжает себя. Критика Гадамера Хабермасом: оправдание существующего, недостаток критического момента."
            },

            { 
                id: "effective_history", 
                label: "История воздействий", 
                philosopher: "gadamer", 
                rubrics: ["knowledge", "time"], 
                description: "Историческая обусловленность всякого понимания",
                extendedDescription: "История воздействий (Wirkungsgeschichte) означает, что всякое понимание определяется историей воздействия предмета понимания. Текст не только объект интерпретации, но сам воздействовал на традицию, в которой находится интерпретатор. Мы не можем выйти за пределы истории воздействия к 'объективному' пониманию текста 'как он есть'. Эффективно-историческое сознание (wirkungsgeschichtliches Bewusstsein) осознаёт свою включённость в историю воздействий, но не может полностью контролировать её. Временная дистанция не препятствие, но продуктивное условие понимания: она позволяет выявить действенные предрассудки. История воздействий работает даже там, где мы её не осознаём. Это развитие дильтеевской историчности в герменевтическую онтологию."
            },

            { 
                id: "prejudice_gadamer", 
                label: "Пред-рассудок", 
                philosopher: "gadamer", 
                rubrics: ["knowledge"], 
                description: "Позитивное условие понимания, а не препятствие",
                extendedDescription: "Предрассудок (Vorurteil) - не ошибочное суждение, требующее преодоления, но предварительное суждение, пред-понимание, конституирующее всякое понимание. Просвещение видело в предрассудках препятствие разуму, Гадамер реабилитирует их как условие понимания. Предрассудки не произвольны, но формируются традицией и языком. Различаются истинные и ложные предрассудки: истинные открывают феномен, ложные закрывают. Задача не устранение предрассудков (невозможно), но их критическое осознание и проверка в опыте понимания. Предрассудки задают горизонт, из которого мы понимаем, делают возможным первоначальный доступ к феномену. Беспредпосылочное познание - фикция; мы всегда понимаем из определённой традиции."
            },

            { 
                id: "application", 
                label: "Аппликация", 
                philosopher: "gadamer", 
                rubrics: ["knowledge", "method"], 
                description: "Применение понятого к собственной ситуации",
                extendedDescription: "Применение (Applikation, Anwendung) - не третий момент после понимания и интерпретации, но конститутивный момент самого понимания. Понять текст означает применить его к собственной ситуации, увидеть его актуальность для себя. Всякое понимание есть применение: мы понимаем лишь то, что имеет значение для нас. Классическое - не вневременное, но постоянно применимое, говорящее каждому времени. Гадамер возрождает античную и средневековую традицию, где понимание неотделимо от применения (юридическая герменевтика, теологическое толкование). Применение не искажает смысл текста, но раскрывает его: текст обретает полноту смысла лишь в применении. Это преодолевает разрыв между теорией и практикой, понимание есть практическая философия (phronesis)."
            },

            // ЛЕВИНАС
            { 
                id: "other_levinas", 
                label: "Другой", 
                philosopher: "levinas", 
                rubrics: ["consciousness", "ethics"], 
                description: "Абсолютная инаковость, трансцендентность в имманентности",
                extendedDescription: "Другой (Autrui) у Левинаса - не alter ego, не модификация Я, но абсолютная инаковость, радикальная трансцендентность. Другой не конституируется интенциональностью сознания, но сам конституирует субъекта как ответственного. Отношение к Другому асимметрично: Другой в высоте, Я в ответственности. Другой - не феномен, не предмет познания или опыта, но эпифания, откровение. Встреча с Другим разрывает тотальность онтологии, обнажая её насилие. Другой - след бесконечного, знак трансцендентности в имманентности. Левинас критикует западную философию как философию Тождественного, редуцирующую инаковость к Тому же самому. Этика отношения к Другому первична перед онтологией, 'этика как первая философия'."
            },

            { 
                id: "face", 
                label: "Лицо", 
                philosopher: "levinas", 
                rubrics: ["ethics"], 
                description: "Эпифания Другого как этический призыв",
                extendedDescription: "Лицо (Visage) - не эмпирическое человеческое лицо, но способ явления Другого, его эпифания. Лицо обнажено, без защиты, беззащитно, но именно в этой беззащитности заключена его сила - этическое требование 'не убий'. Лицо говорит, но не через слова - оно само есть речь, первичная речь, предшествующая языку. В лице Другой предстаёт в своей высоте и нищете одновременно: высота этического требования и нищета конечного существа. Лицо не феномен, не даётся в созерцании: оно ускользает от тематизации, от власти познания. Встреча лицом к лицу - асимметричное отношение, в котором Я призывается к ответственности. Лицо - след бесконечного, знак трансцендентного в конечном."
            },

            { 
                id: "ethics_first_philosophy", 
                label: "Этика как первая философия", 
                philosopher: "levinas", 
                rubrics: ["ethics"], 
                description: "Приоритет этического отношения перед онтологией",
                extendedDescription: "Левинас переворачивает всю западную метафизику, утверждая приоритет этики перед онтологией. Со времён досократиков философия была онтологией - вопрошанием о бытии. Хайдеггер довёл этот путь до конца. Но онтология как философия власти, тотальности, редукции Другого к Тому же самому - философия насилия. Этическое отношение к Другому предшествует вопрошанию о бытии: прежде чем спрашивать 'есть ли?', мы уже ответственны. Бытие не нейтрально - оно жестоко (il y a). Этика не применение онтологии, не региональная дисциплина, но метафизика - отношение к бесконечному, к тому, что превосходит тотальность. Встреча с Другим производит прорыв в онтологии, открывает измерение по ту сторону бытия."
            },

            { 
                id: "responsibility", 
                label: "Ответственность", 
                philosopher: "levinas", 
                rubrics: ["ethics"], 
                description: "Асимметричная ответственность за Другого до свободы",
                extendedDescription: "Ответственность (Responsabilité) у Левинаса - не следствие свободы, но её условие: я ответственен прежде, чем свободен. Ответственность за Другого не выбирается, не обосновывается - она изначальна, до всякого акта воли. Я ответственен за Другого более, чем Другой за меня - асимметрия ответственности конституирует этическое. Я ответственен даже за ответственность Другого, даже за преследование со стороны Другого - 'ответственность за преследователя'. Ответственность без границ, невозможная ответственность - 'я заложник Другого'. Эта безмерность ответственности не сводится к правовым или моральным нормам. Ответственность - субституция: Я замещает Другого, отвечает за него. Левинас развивает библейскую этику ('разве я сторож брату моему?') против греческой автономии."
            },

            { 
                id: "saying_said", 
                label: "Сказывание и сказанное", 
                philosopher: "levinas", 
                rubrics: ["language", "ethics"], 
                description: "Различие между этическим высказыванием и онтологическим содержанием",
                extendedDescription: "Левинас различает Сказывание (le Dire) и Сказанное (le Dit). Сказанное - тематическое содержание высказывания, фиксированный смысл, онтологическое. Сказывание - сам акт обращения к Другому, этическое событие речи, предшествующее содержанию. В Сказывании Я выходит из себя к Другому, обнажается, становится уязвимым. Сказывание - свидетельство, ответственность, обещание. Но Сказывание неизбежно предаётся в Сказанном, фиксируется в теме, тотализируется. Задача философии - редукция Сказанного к Сказыванию, освобождение этического смысла от онтологического осадка. Это бесконечная задача: Сказывание не может явиться без Сказанного, но не может в нём остаться. Скептицизм - выражение этого противоречия."
            },

            { 
                id: "trace", 
                label: "След", 
                philosopher: "levinas", 
                rubrics: ["being"], 
                description: "Присутствие отсутствующего, знак трансцендентности",
                extendedDescription: "След (Trace) - не знак присутствия отсутствующего (как отпечаток ноги), но знак того, что никогда не было и не может быть присутствующим. След указывает на абсолютное прошлое, не бывшее настоящим - прошлое, которое никогда не было 'теперь'. Другой являет себя как след: он не феномен, не присутствует, но оставляет след в этическом призыве. След - способ означивания бесконечного: бесконечное не является, но означается в следе. Лицо Другого - след бесконечного, а не его воплощение. След нарушает порядок мира, вносит в него дезориентацию. В следе трансцендентное означает себя не через феноменальность, но через абсолютное прошлое и абсолютное будущее - мессианское время."
            },

            { 
                id: "infinity_levinas", 
                label: "Бесконечность", 
                philosopher: "levinas", 
                rubrics: ["absolute"], 
                description: "Идея, переполняющая сознание, отношение с Другим",
                extendedDescription: "Бесконечность (Infini) у Левинаса - не математическое понятие и не атрибут Бога, но структура отношения с Другим. Левинас развивает картезианскую идею бесконечного: идея, которая превосходит идеату, переполняет cogito. Cogito не содержит, не охватывает идею бесконечного - она разрывает интенциональность. Желание метафизическое (отличное от нужды) - это желание бесконечного, неутолимое желание. Отношение с бесконечным не totality (тотальность, целокупность познанного), но infinity - бесконечное движение трансцендирования. Бесконечное не потустороннее, но являет себя в этическом отношении к Другому. Лицо Другого - эпифания бесконечного. Идея бесконечного разрывает корреляцию ноэзис-ноэма, субъект-объект - это отношение без коррелята."
            },

            // ДИЛЬТЕЙ
            { 
                id: "verstehen", 
                label: "Понимание (Verstehen)", 
                philosopher: "dilthey", 
                rubrics: ["knowledge", "method"], 
                description: "Постижение смысла в отличие от причинного объяснения",
                extendedDescription: "Verstehen (понимание) противополагается Erklären (объяснению) как специфический метод гуманитарных наук (Geisteswissenschaften). Науки о природе объясняют явления через причинные связи, науки о духе понимают смысловые связи. Понимание - постижение внутреннего через внешнее, воспроизведение психической жизни Другого через её объективации (тексты, поступки, институты). Мы объясняем природу, но понимаем душевную жизнь. Основа понимания - структурная общность душевной жизни всех людей и способность к вчувствованию (Einfühlung). Понимание движется герменевтическим кругом: целое из части, часть из целого. Дильтей обосновывает автономию гуманитарного познания против позитивистской редукции к естественно-научным методам."
            },

            { 
                id: "erlebnis", 
                label: "Переживание (Erlebnis)", 
                philosopher: "dilthey", 
                rubrics: ["consciousness", "time"], 
                description: "Непосредственный опыт жизни как основа понимания",
                extendedDescription: "Erlebnis (переживание) - непосредственная данность жизни сознанию, единство субъективного и объективного в потоке жизни. Переживание - не созерцание объекта субъектом, но целостный жизненный акт, в котором субъект и объект ещё не разделены. Всякое понимание укоренено в переживании: мы понимаем Другого, потому что сами переживаем. Переживание - не атомарный элемент, но структурная целостность, имеющая значение. В переживании жизнь дана себе непосредственно, без опосредования понятиями. Переживание всегда темпорально - оно длится, связывает прошлое и будущее в настоящем. Хайдеггер критикует дильтеевское Erlebnis за остаточный картезианизм, но развивает его в фундаментальную структуру Dasein."
            },

            { 
                id: "geisteswissenschaften", 
                label: "Науки о духе", 
                philosopher: "dilthey", 
                rubrics: ["knowledge", "method"], 
                description: "Гуманитарные науки, отличные от наук о природе",
                extendedDescription: "Geisteswissenschaften (науки о духе) - системы наук, изучающие культурно-исторический мир человека: история, филология, юриспруденция, теология, искусствознание. Они имеют свой предмет (объективации жизни), свой метод (понимание, а не объяснение) и свою достоверность (не меньшую, чем у естественных наук). Дильтей обосновывает автономию и научность гуманитарного познания в работе 'Введение в науки о духе' (1883), которую замышлял как 'Критику исторического разума' - ответ кантовской 'Критике чистого разума'. Науки о духе изучают не законы, но смысловые связи, не повторяющееся, но индивидуальное и историческое. Их предмет - объективный дух (культура, институты, язык), а не психические процессы индивида."
            },

            { 
                id: "leben_dilthey", 
                label: "Жизнь (Leben)", 
                philosopher: "dilthey", 
                rubrics: ["being", "time"], 
                description: "Историческая жизнь как предмет гуманитарного познания",
                extendedDescription: "Leben (жизнь) у Дильтея - не биологический процесс, но культурно-историческая жизнь человека, духовная реальность. Жизнь - первичная реальность, предшествующая разделению на субъект и объект. Она всегда темпоральна, динамична, направлена к будущему. Жизнь объективируется в культуре (язык, искусство, право, религия) и лишь в этих объективациях доступна пониманию. Задача философии - не выйти за пределы жизни к трансцендентному основанию (как у Канта), но понять жизнь из неё самой, из переживания. 'Жизнь постигает жизнь' - герменевтический круг понимания. Концепция жизни Дильтея повлияла на Бергсона, Зиммеля, философию жизни, экзистенциализм."
            },

            { 
                id: "hermeneutics_life", 
                label: "Герменевтика жизни", 
                philosopher: "dilthey", 
                rubrics: ["knowledge", "method"], 
                description: "Истолкование объективаций жизни для понимания истории",
                extendedDescription: "Герменевтика жизни - метод понимания исторического мира через истолкование объективаций жизни. Жизнь выражает себя вовне (Ausdruck), объективируется в культурных формах, которые становятся доступны пониманию (Verstehen). Герменевтика - не только метод интерпретации текстов, но универсальный метод наук о духе. Всякое понимание есть истолкование выражений жизни: поступков, институций, произведений. Герменевтический круг: понимание индивидуального предполагает понимание целого (эпохи, культуры), но целое понимается из индивидуального. Дильтей превращает герменевтику из вспомогательной дисциплины в фундамент гуманитарного познания. Хайдеггер и Гадамер радикализируют эту программу: герменевтика из метода становится онтологией."
            },

            { 
                id: "historical_reason", 
                label: "Исторический разум", 
                philosopher: "dilthey", 
                rubrics: ["knowledge"], 
                description: "Критика исторического разума как альтернатива Канту",
                extendedDescription: "Критика исторического разума - программа Дильтея, альтернативная кантовской критике чистого разума. Кант исследовал условия возможности естественно-научного познания, Дильтей - исторического. Но разум не абстрактен и вневременен (как у Канта), он сам историчен, укоренён в жизни. Не существует чистого разума - разум всегда конкретен, формируется в истории. Критика исторического разума должна показать, как возможно познание истории, какова природа исторической истины. Дильтей преодолевает кантовский дуализм ноуменов и феноменов: в науках о духе мы познаём не явления, но саму реальность - объективный дух. Однако программа осталась незавершённой; её продолжили Хайдеггер, Гадамер, Кассирер."
            },

            { 
                id: "objective_spirit_dilthey", 
                label: "Объективный дух", 
                philosopher: "dilthey", 
                rubrics: ["consciousness", "politics"], 
                description: "Культурные объективации жизни (язык, искусство, институты)",
                extendedDescription: "Объективный дух (objektiver Geist) - надындивидуальные объективации жизни: язык, право, государство, искусство, религия, наука. Дильтей заимствует термин у Гегеля, но секуляризирует его: объективный дух - не самореализация абсолютного духа, но продукт человеческой жизни. Индивид формируется в объективном духе, усваивает культуру эпохи. Объективный дух делает возможным понимание: мы понимаем Другого, потому что оба принадлежим общему объективному духу. История - не сумма индивидуальных действий, но развитие объективного духа. Понимание истории требует реконструкции объективного духа эпохи. Эта концепция повлияла на Вебера (понимающая социология), Манхейма (социология знания), Кассирера (символические формы)."
            },

            // БРЕНТАНО
            { 
                id: "intentionality_brentano", 
                label: "Интенциональность", 
                philosopher: "brentano", 
                rubrics: ["consciousness"], 
                description: "Направленность сознания на предмет как сущность психического",
                extendedDescription: "Интенциональность (Intentionalität) - фундаментальное свойство психических феноменов, отличающее их от физических: всякий психический акт направлен на предмет, есть сознание о чём-то. 'Всякое сознание есть сознание о чём-то' - этот принцип Брентано заимствует у средневековых схоластов (intentio у Фомы Аквинского, franciscus Suarez). Представление представляет нечто, суждение утверждает или отрицает нечто, любовь любит нечто. Предмет содержится в акте как имманентная предметность (intentio). Физические феномены (цвет, звук) не интенциональны - они не направлены на что-то иное. Эта концепция стала основой феноменологии Гуссерля, хотя Гуссерль критиковал имманентность предмета, утверждая его трансцендентность акту."
            },

            { 
                id: "descriptive_psychology", 
                label: "Дескриптивная психология", 
                philosopher: "brentano", 
                rubrics: ["consciousness", "method"], 
                description: "Описание психических феноменов в отличие от генетической психологии",
                extendedDescription: "Дескриптивная (или феноменологическая) психология изучает психические феномены через их описание, а не через причинное объяснение их происхождения. Брентано различает дескриптивную психологию (описывающую структуру и классы психических феноменов) и генетическую психологию (объясняющую их возникновение и развитие). Дескриптивная психология выявляет сущностные черты психического через внутреннее восприятие (innere Wahrnehmung). Её метод - не эксперимент, но дескрипция непосредственно данного в опыте. Дескриптивная психология Брентано - прямой предшественник феноменологии Гуссерля. Гуссерль учился у Брентано и развил его программу в трансцендентальную феноменологию, преодолев психологизм учителя."
            },

            { 
                id: "immanent_objectivity", 
                label: "Имманентная предметность", 
                philosopher: "brentano", 
                rubrics: ["consciousness", "being"], 
                description: "Предмет как содержащийся в акте сознания (intentio)",
                extendedDescription: "Имманентная (или интенциональная) предметность - предмет психического акта, содержащийся в самом акте. Когда я представляю золотую гору, эта гора существует в моём представлении как intentio, как внутренний предмет акта. Брентано различает intentio (предмет в акте) и res (вещь вне сознания). Всякий психический акт имеет интенциональный предмет, даже если соответствующая вещь не существует. Гуссерль критиковал имманентность предмета, показывая, что интенциональный предмет трансцендентен акту - 'дерево, которое я воспринимаю, не в моём сознании'. Мейнонг радикализировал идею: предметы могут не существовать, но обладают свойствами (теория несуществующих предметов)."
            },

            { 
                id: "psychical_physical", 
                label: "Психические и физические феномены", 
                philosopher: "brentano", 
                rubrics: ["consciousness", "matter"], 
                description: "Различение интенциональных и неинтенциональных явлений",
                extendedDescription: "Брентано вводит фундаментальное различение между психическими и физическими феноменами. Психические феномены (представление, суждение, чувство) обладают интенциональностью - направлены на предмет. Физические феномены (цвет, звук, тепло) не интенциональны - они не о чём-то. Психические феномены даны во внутреннем восприятии с непосредственной очевидностью. Физические феномены даны во внешнем восприятии. Всякое сознание либо есть представление, либо основано на представлении. Это различение не онтологическое (Брентано не утверждает существование двух субстанций), но феноменологическое - способ данности. Критерий интенциональности стал основанием для демаркации психологии как самостоятельной науки."
            },

            { 
                id: "inner_perception", 
                label: "Внутреннее восприятие", 
                philosopher: "brentano", 
                rubrics: ["consciousness", "knowledge"], 
                description: "Непосредственная очевидность психических актов",
                extendedDescription: "Внутреннее восприятие (innere Wahrnehmung) - непосредственная данность психических актов самому субъекту. Всякий психический акт сопровождается имплицитным сознанием о нём самом. Воспринимая цвет, я одновременно осознаю, что воспринимаю - не как отдельный акт рефлексии, но в самом акте восприятия. Внутреннее восприятие обладает непосредственной очевидностью (Evidenz), не может ошибаться относительно существования акта. Оно отличается от внутреннего наблюдения (innere Beobachtung), которое невозможно - наблюдать свой психический акт значило бы его изменять. Внутреннее восприятие - фундамент дескриптивной психологии. Брентано отрицает бессознательные психические акты: всё психическое сознательно, дано во внутреннем восприятии."
            },

            { 
                id: "judgment_presentation", 
                label: "Суждение и представление", 
                philosopher: "brentano", 
                rubrics: ["consciousness", "knowledge"], 
                description: "Классификация психических феноменов",
                extendedDescription: "Брентано различает три основных класса психических феноменов: представление (Vorstellung), суждение (Urteil) и феномены любви-ненависти (интереса). Представление - простейший акт, в котором предмет дан сознанию. Суждение - акт признания (Anerkennung) или отвержения (Verwerfung) предмета, утверждение или отрицание его существования. Суждение не соединение представлений (как у Канта), но экзистенциальный акт. 'Бог есть' - не предикация, но утверждение существования. Феномены любви-ненависти - интерес к предмету, эмоциональное отношение. Каждый класс имеет свою интенциональную структуру. Всякий психический акт включает представление - нельзя судить или любить, не представляя предмет."
            },

            { 
                id: "evidence_brentano", 
                label: "Очевидность", 
                philosopher: "brentano", 
                rubrics: ["knowledge"], 
                description: "Непосредственная данность истины в акте познания",
                extendedDescription: "Очевидность (Evidenz) - непосредственная самоданность истины в суждении, внутренняя достоверность истинного познания. Очевидные суждения обладают особым качеством - мы не только утверждаем их, но осознаём их истинность с непосредственной достоверностью. Очевидность характерна для восприятий во внутреннем опыте: 'я мыслю', 'я слышу звук' очевидно истинны. Аксиомы логики и математики также очевидны. Очевидность не психологическое чувство уверенности, но объективный признак истинного суждения. Различаются степени очевидности: аподиктическая (необходимая) и ассерторическая (фактическая). Гуссерль развил концепцию очевидности в феноменологии: очевидность - способ данности предмета 'самолично' (selbstgegeben)."
            },
            
            // ДЕЛЁЗ
            { 
                id: "rhizome", 
                label: "Ризома", 
                philosopher: "deleuze", 
                rubrics: ["dialectics"], 
                description: "Нелинейная структура",
                extendedDescription: "Модель множественности без единого центра, корня, иерархии - как корневище растения. Принципы ризомы: связь, гетерогенность (любая точка соединяется с любой), множественность, асигнифицирующий разрыв, картография, декалькомания. Против древовидных структур (бинарная логика, иерархия). Ризома всегда в середине, между, интермеццо. Это онтология и метод: бытие ризоматично, мышление должно быть ризоматическим - создавать связи, линии ускользания."
            },
            { 
                id: "difference", 
                label: "Различие", 
                philosopher: "deleuze", 
                rubrics: ["dialectics"], 
                description: "Онтология множественности",
                extendedDescription: "Différence - не различие между тождественными вещами, а изначальное, продуктивное различие, предшествующее тождеству. Не отрицание (А не есть Б), а утверждение различия как такового. Бытие = становление = различие. Против гегелевской диалектики: не противоречие, а дивергенция, расхождение. Вечное возвращение возвращает не то же, а различие. Повторение = различие; каждое повторение нового - новое. Различие - движущая сила реальности, а не тождество."
            },
            { 
                id: "body_without_organs", 
                label: "Тело без органов", 
                philosopher: "deleuze", 
                rubrics: ["matter"], 
                description: "Недифференцированная полнота",
                extendedDescription: "CsO (Artaud) - не отсутствие органов, а тело, освобожденное от организации, от фиксированных функций. Яйцо - полное тело без органов, интенсивная материя. Не регрессия к хаосу, а экспериментирование с порогами, интенсивностями, становлениями. Организм - стратификация, захват желания; CsO - план имманенции, где циркулируют интенсивности. Опасность: слишком быстрая детерриториализация ведет к смерти. CsO - предел и горизонт."
            },
            { 
                id: "desiring_machines", 
                label: "Машины желания", 
                philosopher: "deleuze", 
                rubrics: ["will"], 
                description: "Производство желания",
                extendedDescription: "Желание - не недостаток, а производство, создание реальности. Машины желания - связи, производящие потоки (энергии, означающих, тел). Всё машина: машина-рот соединяется с машиной-грудью, производя поток молока. Шизофрения - процесс детерриториализации желания, освобожденного от социального кодирования. Капитализм высвобождает желание, но тут же аксиоматизирует его. Революция - не освобождение субъекта, а освобождение желающего производства."
            },
            { 
                id: "assemblage", 
                label: "Ассамбляж", 
                philosopher: "deleuze", 
                rubrics: ["being"], 
                description: "Множественное единство",
                extendedDescription: "Agencement - сборка гетерогенных элементов в функционирующее целое, не тотальность, а констелляция. Не единство структуры, а связь разнородного: тела, знаки, машины, территории. У ассамбляжа два измерения: территориальности и детерриториализации; содержания и выражения. Ассамбляж не имеет сущности - определяется линиями, которые его пересекают. Всё - ассамбляжи: книга, любовь, общество. Философия создает концепты как ассамбляжи."
            },
            { 
                id: "deterritorialization", 
                label: "Детерриториализация", 
                philosopher: "deleuze", 
                rubrics: ["dialectics"], 
                description: "Разрушение структур",
                extendedDescription: "Движение освобождения от кодов, территорий, идентичностей; линия ускользания от стратификаций. Не просто разрушение, но процесс становления-иным. Капитализм - предельная детерриториализация (всё превращается в поток капитала), но одновременно ретерриториализация (на Эдипе, нации, рынке). Абсолютная детерриториализация - план имманенции, где циркулируют чистые интенсивности. Шизо - проводник детерриториализации, параноик - агент ретерриториализации."
            },
            { 
                id: "virtual_actual", 
                label: "Виртуальное-актуальное", 
                philosopher: "deleuze", 
                rubrics: ["being"], 
                description: "Реальное, но не актуализированное",
                extendedDescription: "Не возможное (нереальное) vs действительное, а виртуальное (реальное, но не актуальное) vs актуальное. Виртуальное не менее реально - это структура проблемы, поле сингулярностей. Актуализация - не реализация возможного (уже определенного), а творческое решение проблемы, дифференциация. Виртуальное множественно, актуальное индивидуально. Бергсоновская длительность виртуальна; её актуализация - пространственное время. Искусство схватывает виртуальное."
            },
            { 
                id: "event", 
                label: "Событие", 
                philosopher: "deleuze", 
                rubrics: ["being"], 
                description: "Чистое становление, смысл",
                extendedDescription: "Не происшествие в мире, а то, что извлекается из происшествий - чистое становление, эффект, смысл. События бестелесны - не смешиваются с вещами, но insistent в них, настаивают. 'Битва' как событие - не сражающиеся тела, а чистое становление-побежденным, которое никогда не завершается. Стоическое различение тел и бестелесных эффектов. Философия мыслит событие - не что происходит, а что в происходящем? Достойность события - стать его достойным, не быть его жертвой."
            },
            { 
                id: "fold", 
                label: "Складка", 
                philosopher: "deleuze", 
                rubrics: ["being"], 
                description: "Le pli - складывание, барочная топология",
                extendedDescription: "Барокко как ключ к Лейбницу и современности: мир - бесконечное складывание, а не развертывание заданного. Материя складывается в органические тела; душа - складка, включающая весь мир. Не внешнее и внутреннее, а разные режимы складки. Субъект - результат складывания, а не субстанция. Против диалектики: не снятие противоположностей, а их складывание друг на друга. Современная философия - искусство складок, создание новых сгибов мысли."
            },
            { 
                id: "multiplicity", 
                label: "Множественность", 
                philosopher: "deleuze", 
                rubrics: ["being"], 
                description: "Не единство и не множество, а становление-множественным",
                extendedDescription: "Фундаментальное онтологическое понятие, отличное и от единства, и от множества точек - это становление, непрерывное варьирование, не сводимое к метрическим измерениям. Множественность у Делёза - это не 'много единиц', но континуум интенсивностей, плоскость имманенции, на которой распределяются сингулярности. Она определяется не элементами, но связями между ними, не формой, но динамизмом. Бергсоновская длительность - пример множественности: она едина, но гетерогенна, непрерывна, но дифференцирована. Ризома - структура множественности, в отличие от древовидной структуры единства. Множественность противостоит как платоническому Единому, так и атомистическому множеству. Это реальность виртуального - не возможное, но реальное-ещё-не-актуализированное. Концепт множественности - альтернатива всей метафизической традиции от Парменида до Гегеля, утверждавшей примат Единого."
            }
        ];
        
        // ============================================
        // 5. СВЯЗИ МЕЖДУ КОНЦЕПЦИЯМИ
        // ============================================
        const relations = [
            // ПИФАГОР
            { source: "number_essence", target: "harmony_spheres", type: "presuppose", weight: 3, 
            description: "Числовая структура космоса обосновывает музыкально-математический порядок небесных тел" },
            { source: "tetraktys", target: "number_essence", type: "exemplify", weight: 2, 
            description: "Священная четверица 1+2+3+4=10 содержит все числовые отношения космоса" },
            { source: "music_mathematics", target: "harmony_spheres", type: "exemplify", weight: 2, 
            description: "Числовые отношения музыкальных интервалов раскрывают космический порядок планетных сфер" },
            { source: "metempsychosis", target: "harmony_spheres", type: "influence", weight: 1, 
            description: "Переселение душ связано с космической гармонией через очищение и возвращение к небесному порядку" },

            // ГЕРАКЛИТ
            { source: "panta_rhei", target: "fire", type: "exemplify", weight: 3, 
            description: "Всеобщая текучесть манифестирует в огне как стихии вечного превращения и обмена" },
            { source: "logos_heraclitus", target: "unity_opposites", type: "presuppose", weight: 3, bidirectional: true, 
            description: "Логос как мировой разум есть сама формула единства противоположностей, они взаимообоснованы" },
            { source: "war_father", target: "unity_opposites", type: "consequence", weight: 3, 
            description: "Полемос как борьба есть сама структура космоса, где противоположности рождают друг друга" },
            { source: "hidden_harmony", target: "unity_opposites", type: "emerge_from", weight: 2, 
            description: "Скрытая гармония сильнее явной: напряжение лука и лиры создает их функцию" },
            { source: "fire", target: "logos_heraclitus", type: "consequence", weight: 2, 
            description: "Огонь как мера обмена воплощает логос - разумный закон космических превращений" },

            // ПАРМЕНИД
            { source: "way_truth", target: "way_opinion", type: "oppose", weight: 3, bidirectional: true, 
            description: "Путь истины (бытие едино и неподвижно) абсолютно несовместим с путем мнения (множественность и изменение)" },
            { source: "being_is", target: "one_being", type: "presuppose", weight: 3, 
            description: "Тавтология 'бытие есть' утверждает абсолютное единство: невозможно мыслить небытие, следовательно бытие едино" },
            { source: "way_truth", target: "being_is", type: "instrument", weight: 3, 
            description: "Только мышление, следующее тождеству бытия и мысли, достигает истины чистого бытия" },
            { source: "immutability", target: "one_being", type: "presuppose", weight: 3, 
            description: "Неизменность бытия необходима: всякое изменение требовало бы перехода в небытие" },
            { source: "sphere_being", target: "one_being", type: "exemplify", weight: 2, 
            description: "Образ совершенной сферы выражает полноту и завершенность единого бытия, равноудаленного от центра" },

            // СОКРАТ
            { source: "daimonion", target: "care_soul", type: "consequence", weight: 1, 
            description: "Внутренний голос даймония направляет к заботе о душе, останавливая от дурных поступков" },
            { source: "know_nothing", target: "maieutics", type: "condition", weight: 2, 
            description: "Признание незнания открывает возможность майевтики: только освободившись от ложного знания, можно родить истину" },
            { source: "virtue_knowledge", target: "maieutics", type: "presuppose", weight: 2, 
            description: "Майевтика возможна потому, что добродетель есть знание - её можно извлечь вопрошанием" },
            { source: "care_soul", target: "virtue_knowledge", type: "culminate", weight: 2, description: "Забота о душе обнаруживает свою цель: истинное Я познается как добродетель" },
            { source: "daimonion", target: "soul", type: "influence", weight: 1, 
            description: "Божественный знак действует на душу как внутренний голос совести" },
            { source: "soul", target: "care_soul", type: "presuppose", weight: 2, 
            description: "Душа как подлинное Я человека требует заботы о себе важнее телесного" },
            { source: "soul", target: "virtue_knowledge", type: "consequence", weight: 2, 
            description: "Познающая природа души делает возможным тождество добродетели и знания" },
            { source: "daimonion", target: "maieutics", type: "mediate", weight: 1, 
            description: "Божественный голос останавливает, создавая апорию - условие рождения знания" },

            // ПЛАТОН
            { source: "ideas", target: "eidos", type: "presuppose", weight: 3, 
            description: "Мир идей требует единой формы умопостигаемого: эйдос как чистая структура" },
            { source: "eidos", target: "anamnesis", type: "condition", weight: 2, 
            description: "Эйдос как вечная форма делает возможным припоминание: душа узнает то, что видела до рождения" },
            { source: "cave", target: "ideas", type: "consequence", weight: 2, 
            description: "Притча о пещере демонстрирует восхождение от теней к идеям как путь освобождения познания" },
            { source: "demiurge", target: "ideas", type: "apply", weight: 2, 
            description: "Демиург творит космос, взирая на вечные идеи как парадигмы и запечатлевая их в материи" },
            { source: "ideal_state", target: "tripartite_soul", type: "consequence", weight: 2, 
            description: "Структура идеального государства изоморфна трехчастной душе: философы-разум, воины-ярость, ремесленники-вожделение" },
            { source: "ideal_state", target: "ideas", type: "consequence", weight: 2, 
            description: "Справедливое государство воплощает идею справедливости через иерархию добродетелей" },
            { source: "good", target: "ideas", type: "culminate", weight: 3, 
            description: "Благо стоит по ту сторону иерархии: дает идеям бытие, само не будучи идеей" },
            { source: "good", target: "eidos", type: "culminate", weight: 3, 
            description: "Идея блага - высшая форма, превосходящая бытие достоинством и силой" },
            { source: "cave", target: "good", type: "influence", weight: 2, 
            description: "Узник пещеры, выйдя наружу, познает солнце-благо как источник всякого познания" },
            { source: "good", target: "demiurge", type: "influence", weight: 2, 
            description: "Благо мотивирует демиурга творить космос - благой творит благое из зависти" },
            { source: "eros", target: "anamnesis", type: "instrument", weight: 2, 
            description: "Эрос как стремление к прекрасному пробуждает припоминание виденных душой идей" },
            { source: "eros", target: "cave", type: "influence", weight: 1, 
            description: "Эротическое влечение к прекрасному заставляет узника повернуться от теней к свету" },
            { source: "eros", target: "tripartite_soul", type: "consequence", weight: 2, 
            description: "Эрос действует во всех частях души, но истинный эрос философа направлен на вечное" },
            { source: "eidos", target: "methexis", type: "consequence", weight: 3, 
            description: "Эйдос делает возможным причастность: вещи приобщаются к формам и получают бытие" },
            { source: "methexis", target: "cave", type: "consequence", weight: 2, 
            description: "Тени в пещере - причастность низшей степени, отражения отражений идей" },
            { source: "methexis", target: "ideas", type: "consequence", weight: 3, 
            description: "Причастность - способ участия чувственного в умопостигаемом, связь двух миров" },
            { source: "mimesis", target: "methexis", type: "apply", weight: 2, 
            description: "Подражание реализует причастность через воспроизведение формы в материи" },
            { source: "mimesis", target: "ideas", type: "consequence", weight: 2, 
            description: "Искусство - подражание подражанию, трижды удаленное от истинного бытия идей" },
            { source: "chora", target: "demiurge", type: "condition", weight: 2, 
            description: "Хора - восприемница форм: без пространства-материи некуда запечатлеть образцы" },
            { source: "good", target: "methexis", type: "influence", weight: 2, 
            description: "Благо через причастность сообщает бытие и познаваемость всему существующему" },
            { source: "eros", target: "good", type: "culminate", weight: 3, 
            description: "Эрос восходит от телесной красоты к Благу: лестница любви к абсолютному" },
            { source: "mimesis", target: "eidos", type: "presuppose", weight: 2, 
            description: "Подражание требует образца: художник копирует форму, уже данную в идее" },
            { source: "the_one_plato", target: "good", type: "presuppose", weight: 3, bidirectional: true, 
            description: "Единое и Благо - одно: простота есть совершенство, совершенство едино" },
            { source: "the_one_plato", target: "eidos", type: "culminate", weight: 3, 
            description: "Единое стоит выше идей: диалектика восходит от множества к абсолютной простоте" },
            { source: "ideas", target: "the_one_plato", type: "presuppose", weight: 2, 
            description: "Множественность идей требует единого начала: иначе хаос вместо космоса" },

            // АРИСТОТЕЛЬ
            { source: "form", target: "matter_ar", type: "presuppose", weight: 3, bidirectional: true, 
            description: "Форма и материя коррелятивны: форма актуализирует материю, материя - потенциальность формы" },
            { source: "form", target: "entelechy", type: "culminate", weight: 2, 
            description: "Форма полна, когда становится энтелехией: цель достигнута, потенция исчерпана" },
            { source: "unmoved_mover", target: "entelechy", type: "consequence", weight: 2, 
            description: "Перводвигатель - чистая энтелехия, форма без материи, мышление мышления" },
            { source: "categories", target: "form", type: "consequence", weight: 2, 
            description: "Категории как предикаты сущего вытекают из структуры формы - способов сказывания о бытии" },
            { source: "golden_mean", target: "entelechy", type: "consequence", weight: 2, 
            description: "Середина как этическое совершенство реализует энтелехию человека - добродетель как полноту" },
            { source: "act_potency", target: "form", type: "presuppose", weight: 3, bidirectional: true, 
            description: "Акт и потенция взаимообоснованы с формой: форма есть актуальность, осуществленная возможность" },
            { source: "act_potency", target: "matter_ar", type: "presuppose", weight: 3, bidirectional: true, 
            description: "Материя - чистая потенциальность, акт - её осуществление: коррелятивные понятия" },
            { source: "act_potency", target: "entelechy", type: "presuppose", weight: 3, 
            description: "Энтелехия - акт без остатка потенции: чистая завершенность" },
            { source: "act_potency", target: "unmoved_mover", type: "consequence", weight: 3, 
            description: "Иерархия потенции-акта требует вершины: чистый акт, движущий без движения" },
            { source: "four_causes", target: "act_potency", type: "consequence", weight: 2, bidirectional: true, 
            description: "Четыре причины реализуют движение от потенции к акту в разных аспектах становления" },
            { source: "phronesis", target: "golden_mean", type: "instrument", weight: 3, 
            description: "Практическая мудрость находит меру здесь и сейчас: не универсальное правило, а искусство момента" },
            { source: "phronesis", target: "eudaimonia", type: "instrument", weight: 3, 
            description: "Фронесис ведет к счастью: разумный выбор в конкретных обстоятельствах" },
            { source: "eudaimonia", target: "entelechy", type: "culminate", weight: 3, 
            description: "Блаженство - полная актуализация человеческой природы: деятельность разумной души" },
            { source: "eudaimonia", target: "golden_mean", type: "consequence", weight: 3, 
            description: "Середина ведет к счастью: добродетель как правильная мера аффектов" },
            { source: "logos", target: "form", type: "presuppose", weight: 3, 
            description: "Разум схватывает формы: мышление и форма - одно и то же для ума" },
            { source: "logos", target: "categories", type: "consequence", weight: 3, 
            description: "Разум дает категории: способы сказывания о сущем в логосе" },
            { source: "logos", target: "unmoved_mover", type: "consequence", weight: 3, 
            description: "Разум космоса - чистое мышление: Бог как мышление мышления" },
            { source: "theoria", target: "eudaimonia", type: "culminate", weight: 3, 
            description: "Созерцание истины - высшая форма счастья: божественное в человеке" },
            { source: "nous_poietikos", target: "nous_pathetikos", type: "dialogue", weight: 3, bidirectional: true, 
            description: "Творящий ум озаряет претерпевающий: активный и пассивный интеллект в познании" },
            { source: "logos", target: "theoria", type: "consequence", weight: 2, 
            description: "Разумное начало реализуется в созерцании универсальных истин" },
            { source: "logos", target: "eudaimonia", type: "condition", weight: 3, 
            description: "Разумная природа человека необходима для блаженства: деятельность ума" },
            { source: "entelechy", target: "four_causes", type: "synthesize", weight: 3, 
            description: "Энтелехия - единство причин: у дуба форма, цель и движущее начало совпадают" },
            { source: "form", target: "four_causes", type: "consequence", weight: 3, 
            description: "Форма дает формальную причину: что делает вещь тем, что она есть" },
            { source: "matter_ar", target: "four_causes", type: "consequence", weight: 3, 
            description: "Материя дает материальную причину: из чего состоит вещь" },

            // ПЛОТИН
            { source: "emanation", target: "the_one", type: "condition", weight: 3, 
            description: "Эманация невозможна из конечного: только избыток Единого изливается" },
            { source: "emanation", target: "nous", type: "mediate", weight: 3, 
            description: "Истечение проходит через Ум: первое самоотличение Единого в мышлении" },
            { source: "emanation", target: "world_soul", type: "mediate", weight: 3, 
            description: "Мировая душа - третья ипостась: между умопостигаемым и чувственным" },
            { source: "nous", target: "world_soul", type: "consequence", weight: 2, 
            description: "Душа истекает из Ума как его образ, обращенный к низшему" },
            { source: "world_soul", target: "matter_plotinus", type: "oppose", weight: 2, 
            description: "Мировая душа против материи: свет против тьмы, бытие против небытия" },
            { source: "henosis", target: "the_one", type: "synthesize", weight: 3, 
            description: "Единение - возврат к истоку: душа превосходит дискурсивность в экстазе" },
            { source: "contemplation", target: "nous", type: "consequence", weight: 2, 
            description: "Созерцание реализует природу Ума - мышление идей" },
            { source: "the_one", target: "nous", type: "emerge_from", weight: 3, 
            description: "Единое переполняется и рождает Ум: первый взгляд на себя" },
            { source: "contemplation", target: "the_one", type: "consequence", weight: 3, 
            description: "Созерцание ведет за пределы себя: к Единому, которое выше созерцания" },
            { source: "henosis", target: "contemplation", type: "culminate", weight: 3, 
            description: "Экстатическое единение превосходит созерцание: молчание выше речи" },

            // АВГУСТИН
            { source: "grace", target: "original_sin", type: "complement", weight: 2, 
            description: "Благодать восполняет поврежденную природу: после грехопадения воля не способна к добру" },
            { source: "faith_reason", target: "confession", type: "presuppose", weight: 2, 
            description: "Вера и разум требуют исповеди: 'Верую, чтобы понимать' начинается с признания" },
            { source: "two_cities", target: "grace", type: "consequence", weight: 2, 
            description: "Град Божий строится благодатью: любовь к Богу против любви к себе" },
            { source: "time_augustine", target: "confession", type: "condition", weight: 2, 
            description: "Время как distentio animi (растяжение души) делает возможной исповедь - память и ожидание" },
            { source: "two_cities", target: "faith_reason", type: "consequence", weight: 2, 
            description: "Два града различены источником познания: откровение или философия" },
            { source: "original_sin", target: "confession", type: "consequence", weight: 2, 
            description: "Грех Адама требует признания: я не могу не грешить без помощи" },
            { source: "grace", target: "confession", type: "influence", weight: 2, 
            description: "Благодать действует через исповедь - обращение сердца к Богу" },

            // ФОМА АКВИНСКИЙ
            { source: "essence_existence", target: "five_ways", type: "presuppose", weight: 3, 
            description: "Различие сущности и бытия лежит в основе доказательств: тварное не содержит бытия в себе" },
            { source: "natural_law", target: "thomistic_synthesis", type: "apply", weight: 2, 
            description: "Естественный закон - Аристотель для этики: разум читает божественный порядок в природе" },
            { source: "analogy", target: "essence_existence", type: "consequence", weight: 2, 
            description: "Аналогическое познание Бога возможно: бытие говорится о Боге и твари по подобию" },
            { source: "thomistic_synthesis", target: "essence_existence", type: "consequence", weight: 2, 
            description: "Синтез Аристотеля и Христианства требует различения: esse и essentia" },
            { source: "natural_law", target: "five_ways", type: "consequence", weight: 2, 
            description: "Естественный закон укоренен в той же структуре: бытие как основа метафизики и этики" },
            { source: "accidents", target: "essence_existence", type: "consequence", weight: 2, 
            description: "Акциденции реализуют различение: случайные свойства субстанции" },
            { source: "actual_being", target: "act_potency", type: "apply", weight: 2, 
            description: "Актуальное бытие - аристотелевский акт в онтологии: esse как акт essentia" },
            { source: "actual_being", target: "essence_existence", type: "consequence", weight: 2, 
            description: "Бытие в акте - esse actualized: различие сущности и существования в действии" },
            { source: "participatio", target: "essence_existence", type: "mediate", weight: 2, 
            description: "Причастность связывает тварное и Творца: участие в бытии Бога" },
            { source: "participatio", target: "analogy", type: "consequence", weight: 2, 
            description: "Причастность дает аналогию: сущее говорится о тварях по степени участия" },

            // БЭКОН
            { source: "idols", target: "idols_tribe", type: "exemplify", weight: 2, 
            description: "Идолы рода - общечеловеческие: антропоморфизм, поспешные обобщения" },
            { source: "idols", target: "idols_cave", type: "exemplify", weight: 2, 
            description: "Идолы пещеры - личные предубеждения: воспитание и темперамент искажают" },
            { source: "idols", target: "idols_marketplace", type: "exemplify", weight: 2, 
            description: "Идолы площади - язык обманывает: слова подменяют реальность" },
            { source: "idols", target: "idols_theatre", type: "exemplify", weight: 2, 
            description: "Идолы театра - философские системы как драмы: Аристотель или Платон мешают видеть" },
            { source: "induction", target: "new_organon", type: "instrument", weight: 2, 
            description: "Индукция - метод Нового Органона: постепенное восхождение через таблицы и исключения" },
            { source: "knowledge_power", target: "new_organon", type: "culminate", weight: 2, 
            description: "Знание есть сила в Новом Органоне: власть над природой через её познание" },
            { source: "idols", target: "knowledge_power", type: "limit", weight: 2, 
            description: "Идолы блокируют силу знания: предрассудки препятствуют господству" },

            // ДЕКАРТ
            { source: "cogito", target: "dualism", type: "emerge_from", weight: 3, 
            description: "Cogito открывает пропасть: мыслящая субстанция радикально отлична от протяженной" },
            { source: "dualism", target: "res_cogitans", type: "presuppose", weight: 3, 
            description: "Дуализм требует res cogitans: субстанция, чья сущность - одно лишь мышление" },
            { source: "method", target: "cogito", type: "instrument", weight: 3, 
            description: "Методическое сомнение - путь к cogito: отбросить всё сомнительное, остается 'я мыслю'" },
            { source: "clear_distinct", target: "innate_ideas", type: "condition", weight: 3, 
            description: "Ясность и отчетливость - критерий врожденных идей: что очевидно уму, то истинно" },
            { source: "innate_ideas", target: "res_cogitans", type: "consequence", weight: 2, 
            description: "Врожденные идеи принадлежат мыслящей субстанции: бесконечность, протяжение, число" },
            { source: "method", target: "dualism", type: "consequence", weight: 2, 
            description: "Метод радикального сомнения ведет к двум субстанциям: мышление несомненно, материя под вопросом" },
            { source: "method", target: "clear_distinct", type: "consequence", weight: 2, 
            description: "Метод устанавливает правило: истинно то, что ясно и отчетливо" },
            { source: "cogito", target: "clear_distinct", type: "exemplify", weight: 2, 
            description: "Cogito - первая очевидность: невозможно сомневаться в том, что я сомневаюсь" },
            { source: "res_cogitans", target: "res_extensa", type: "internal_contradiction", weight: 3, bidirectional: true, 
            description: "Мыслящая и протяженная субстанции абсолютно гетерогенны, но должны взаимодействовать - психофизическая проблема" },
            { source: "infinite_idea", target: "innate_ideas", type: "exemplify", weight: 2, 
            description: "Идея Бога - главная врожденная: конечное не может произвести бесконечное" },
            { source: "cogito", target: "infinite_idea", type: "consequence", weight: 2, 
            description: "Конечность cogito требует идеи бесконечного: иначе откуда я знаю свою ограниченность?" },
            { source: "infinite_idea", target: "clear_distinct", type: "exemplify", weight: 2, 
            description: "Идея бесконечного наиболее ясна: превосходит саму себя в очевидности" },

            // ЛОКК
            { source: "tabula_rasa", target: "simple_ideas", type: "condition", weight: 3, 
            description: "Чистая доска позволяет простым идеям: ум пассивен перед чувственными данными" },
            { source: "simple_ideas", target: "complex_ideas", type: "emerge_from", weight: 3, 
            description: "Сложные идеи строятся умом: комбинация, абстракция, сравнение простых" },
            { source: "primary_qualities", target: "secondary_qualities", type: "oppose", weight: 3, bidirectional: true, 
            description: "Первичные качества (протяженность, форма) в самих телах, вторичные (цвет, запах) - в восприятии" },
            { source: "primary_qualities", target: "substance_locke", type: "presuppose", weight: 2, 
            description: "Первичные качества требуют носителя: протяжение и форма - свойства 'чего-то'" },
            { source: "substance_locke", target: "simple_ideas", type: "consequence", weight: 2, 
            description: "Субстанция - сложная идея: собрание простых идей плюс неизвестное 'нечто'" },
            { source: "personal_identity", target: "complex_ideas", type: "emerge_from", weight: 2, 
            description: "Личность конструируется сознанием: память объединяет моменты в Я" },
            { source: "personal_identity", target: "property_theory", type: "presuppose", weight: 2, 
            description: "Личность делает возможной собственность: я владею результатом моего труда" },
            { source: "tabula_rasa", target: "property_theory", type: "consequence", weight: 2, 
            description: "Отрицание врожденных идей обосновывает естественное право: собственность создается трудом, а не традицией" },

            // СПИНОЗА
            { source: "substance_spinoza", target: "modes", type: "emerge_from", weight: 3, 
            description: "Единая субстанция модифицируется: всё существующее - её состояния" },
            { source: "attributes", target: "substance_spinoza", type: "presuppose", weight: 3, 
            description: "Атрибуты конституируют субстанцию: мышление и протяжение - её сущность" },
            { source: "conatus", target: "modes", type: "consequence", weight: 3, 
            description: "Стремление к самосохранению - сущность модусов: каждое сущее утверждает себя" },
            { source: "intellectual_love", target: "substance_spinoza", type: "consequence", weight: 3, 
            description: "Любовь к Богу интеллектуальна: познание необходимости единой природы" },
            { source: "determinism", target: "substance_spinoza", type: "consequence", weight: 3, 
            description: "Жесткий детерминизм необходим: всё в природе единой субстанции связано" },
            { source: "natura_naturans", target: "substance_spinoza", type: "consequence", weight: 2, 
            description: "Природа творящая - субстанция как продуктивная мощь: causa sui" },
            { source: "natura_naturata", target: "modes", type: "consequence", weight: 2, 
            description: "Природа сотворенная - тотальность модусов: всё произведенное субстанцией" },
            { source: "natura_naturans", target: "natura_naturata", type: "presuppose", weight: 3, bidirectional: true, 
            description: "Творящая и сотворенная природа - два аспекта единой субстанции" },
            { source: "adequate_ideas", target: "intellectual_love", type: "instrument", weight: 3, 
            description: "Адекватные идеи ведут к любви: познание sub specie aeternitatis" },
            { source: "attributes", target: "modes", type: "consequence", weight: 3, 
            description: "Модусы - конечные выражения атрибутов: тела и мысли как модификации" },
            { source: "conatus", target: "adequate_ideas", type: "consequence", weight: 2, 
            description: "Стремление к самосохранению требует познания: знание увеличивает мощь" },
            { source: "natura_naturans", target: "attributes", type: "consequence", weight: 2, 
            description: "Творящая природа выражена атрибутами: бесконечные способы бытия субстанции" },

            // ЛЕЙБНИЦ
            { source: "monads", target: "preestablished", type: "presuppose", weight: 3, 
            description: "Замкнутые монады требуют гармонии: 'без окон', но согласованы Богом" },
            { source: "sufficient_reason", target: "best_worlds", type: "condition", weight: 3, 
            description: "Принцип достаточного основания определяет выбор: Бог творит оптимальное" },
            { source: "petites_perceptions", target: "monads", type: "consequence", weight: 2, 
            description: "Малые перцепции заполняют монады: бессознательное восприятие" },
            { source: "sufficient_reason", target: "preestablished", type: "consequence", weight: 2, 
            description: "Гармония имеет основание: предустановлена божественным разумом" },
            { source: "best_worlds", target: "monads", type: "consequence", weight: 2, 
            description: "Наилучший мир - оптимальная система монад: максимум разнообразия при минимуме законов" },
            { source: "apperception", target: "monads", type: "exemplify", weight: 2, 
            description: "Апперцепция - рефлексивное сознание: высшие монады (духи) осознают себя" },
            { source: "apperception", target: "petites_perceptions", type: "oppose", weight: 2, bidirectional: true, 
            description: "Апперцепция против бессознательных перцепций: ясное сознание и смутное восприятие" },
            { source: "continuity", target: "preestablished", type: "presuppose", weight: 2, 
            description: "Закон непрерывности требует гармонии: природа не делает скачков" },
            { source: "continuity", target: "monads", type: "presuppose", weight: 2, 
            description: "Непрерывность требует бесконечности монад: градации совершенства без пробелов" },
            { source: "sufficient_reason", target: "monads", type: "consequence", weight: 2, 
            description: "Принцип основания индивидуирует монады: каждая имеет свою достаточную причину" },

            // БЕРКЛИ
            { source: "esse_percipi", target: "immaterialism", type: "presuppose", weight: 3, 
            description: "Быть значит быть воспринимаемым - отсюда имматериализм: материи нет, только идеи" },
            { source: "immaterialism", target: "ideas_berkeley", type: "consequence", weight: 3, 
            description: "Отрицание материи оставляет только идеи: спиритуализм как единственная реальность" },
            { source: "god_perceiver", target: "esse_percipi", type: "condition", weight: 3, 
            description: "Бог обеспечивает непрерывность бытия: вещи существуют, пока Он их воспринимает" },
            { source: "ideas_berkeley", target: "esse_percipi", type: "presuppose", weight: 3, 
            description: "Идеи существуют только в восприятии: нет невоспринятого бытия" },

            // ЮМ
            { source: "impressions", target: "ideas_hume", type: "emerge_from", weight: 3, 
            description: "Идеи - бледные копии: всякая мысль восходит к чувственному впечатлению" },
            { source: "causality_critique", target: "custom", type: "emerge_from", weight: 3, 
            description: "Причинность редуцируется к привычке: мы не видим необходимой связи, только последовательность" },
            { source: "bundle_theory", target: "impressions", type: "emerge_from", weight: 3, 
            description: "Я - пучок впечатлений: нет субстанции-души, только поток опыта" },
            { source: "causality_critique", target: "impressions", type: "consequence", weight: 3, 
            description: "Разрушение причинности основано на эмпиризме: необходимость не дана в опыте" },
            { source: "custom", target: "ideas_hume", type: "mediate", weight: 2, 
            description: "Привычка связывает впечатления и идеи: психологический механизм познания" },
            { source: "is_ought", target: "impressions", type: "consequence", weight: 2, 
            description: "Гильотина Юма: из сущего не выводится должное, факты не обосновывают ценности" },

            // КАНТ
            { source: "apriori", target: "phenomenon", type: "condition", weight: 3, 
            description: "Априори конституирует феномены: пространство, время, категории - формы опыта" },
            { source: "autonomy", target: "categorical", type: "condition", weight: 3, 
            description: "Автономия делает возможным императив: самозаконодательство свободной воли" },
            { source: "synthetic_apriori", target: "transcendental", type: "exemplify", weight: 3, 
            description: "Синтетические априорные суждения - ядро критики: расширяют знание доопытно" },
            { source: "transcendental", target: "apriori", type: "condition", weight: 3, 
            description: "Трансцендентальное исследует: как возможно априорное знание" },
            { source: "categorical", target: "apriori", type: "emerge_from", weight: 3, 
            description: "Императив - чистый практический разум: моральный закон независим от опыта" },
            { source: "autonomy", target: "transcendental", type: "consequence", weight: 3, 
            description: "Автономия - трансцендентальное условие морали: свобода как причинность" },
            { source: "categorical", target: "phenomenon", type: "influence", weight: 2, 
            description: "Категорический императив воплощается в мире феноменов: через автономную волю" },
            { source: "antinomies", target: "thing_itself", type: "limit", weight: 3, 
            description: "Антиномии обнаруживают границу: разум в противоречиях при выходе за опыт" },
            { source: "transcendental", target: "antinomies", type: "consequence", weight: 3, 
            description: "Трансцендентальная диалектика генерирует антиномии: применение категорий к безусловному" },
            { source: "synthetic_apriori", target: "antinomies", type: "influence", weight: 2, 
            description: "Синтетическое априори в применении к безусловному порождает антиномии" },
            { source: "sublime", target: "thing_itself", type: "influence", weight: 2, 
            description: "Возвышенное отсылает к вещи-в-себе: безмерность природы намекает на сверхчувственное" },
            { source: "sublime", target: "aesthetic_judgment", type: "consequence", weight: 2, 
            description: "Возвышенное - модус эстетического суждения: удовольствие от несоизмеримости" },
            { source: "postulates", target: "categorical", type: "condition", weight: 2, 
            description: "Постулаты (Бог, бессмертие, свобода) необходимы для императива: моральный закон требует веры" },
            { source: "postulates", target: "autonomy", type: "condition", weight: 2, 
            description: "Постулаты обеспечивают автономию: вера в то, что делает мораль возможной" },
            { source: "aesthetic_judgment", target: "phenomenon", type: "consequence", weight: 2, 
            description: "Эстетическое суждение применяется к феноменам, но выходит за пределы познания" },
            { source: "aesthetic_judgment", target: "transcendental", type: "consequence", weight: 2, 
            description: "Суждение вкуса - трансцендентальная способность: связь теории и практики" },
            { source: "schematism", target: "apriori", type: "consequence", weight: 2, 
            description: "Схематизм реализует категории: воображение связывает понятие и созерцание" },
            { source: "schematism", target: "phenomenon", type: "consequence", weight: 2, 
            description: "Схемы опосредуют: темпоральные определения применяют категории к явлениям" },
            { source: "synthetic_apriori", target: "schematism", type: "consequence", weight: 2, 
            description: "Синтетическое априори требует схематизма: как категория применяется к многообразию" },
            { source: "synthetic_apriori", target: "phenomenon", type: "condition", weight: 3, 
            description: "Синтетическое априори конституирует объекты: единство апперцепции синтезирует" },
            { source: "transcendental", target: "phenomenon", type: "condition", weight: 3, 
            description: "Трансцендентальные структуры создают феномен: субъект конструирует объект" },
            { source: "thing_itself", target: "phenomenon", type: "internal_contradiction", weight: 3, bidirectional: true, 
            description: "Вещь-в-себе и феномен - противоречие: непознаваемое основание и познанное явление" },

            // ФИХТЕ
            { source: "tathandlung", target: "absolute_ego", type: "presuppose", weight: 3, 
            description: "Дело-действие требует абсолютного Я: самополагающий акт как основание" },
            { source: "striving", target: "non_ego", type: "consequence", weight: 3, 
            description: "Стремление рождает не-Я: Я требует сопротивления для своей деятельности" },
            { source: "practical_primacy", target: "tathandlung", type: "consequence", weight: 3, 
            description: "Примат практики из дело-действия: бытие есть деятельность" },
            { source: "imagination", target: "absolute_ego", type: "mediate", weight: 3, 
            description: "Продуктивное воображение реализует Я: творит мир для деятельности" },
            { source: "imagination", target: "non_ego", type: "mediate", weight: 3, 
            description: "Воображение полагает не-Я: создает границу для Я" },
            { source: "imagination", target: "tathandlung", type: "mediate", weight: 2, 
            description: "Воображение конкретизирует дело-действие: между бесконечным и конечным" },
            { source: "wissenschaftslehre", target: "tathandlung", type: "presuppose", weight: 3, 
            description: "Наукоучение исходит из дело-действия: первое основоположение" },
            { source: "wissenschaftslehre", target: "absolute_ego", type: "presuppose", weight: 3, 
            description: "Наукоучение начинается с Я: основание всякого знания" },
            { source: "striving", target: "absolute_ego", type: "consequence", weight: 3, 
            description: "Стремление - природа Я: бесконечная деятельность" },
            { source: "imagination", target: "striving", type: "consequence", weight: 2, 
            description: "Воображение направляет стремление: создает образы целей" },
            { source: "absolute_ego", target: "non_ego", type: "internal_contradiction", weight: 3, bidirectional: true, 
            description: "Абсолютное Я и не-Я - внутреннее противоречие: Я полагает свою границу" },

            // ШЕЛЛИНГ
            { source: "absolute_identity", target: "naturphilosophie", type: "presuppose", weight: 3, 
            description: "Абсолютное тождество - основа натурфилософии: природа и дух едины в абсолюте" },
            { source: "absolute_identity", target: "transcendental_idealism_system", type: "presuppose", weight: 3, 
            description: "Тождество требует системы: субъект-объектное единство" },
            { source: "intellectual_intuition", target: "absolute_identity", type: "instrument", weight: 3, 
            description: "Интеллектуальная интуиция схватывает тождество: субъект созерцает себя как объект" },
            { source: "potencies", target: "absolute_identity", type: "emerge_from", weight: 3, 
            description: "Потенции истекают из тождества: стадии самораскрытия абсолюта" },
            { source: "naturphilosophie", target: "potencies", type: "exemplify", weight: 2, 
            description: "Натурфилософия показывает потенции: природа как серия этапов абсолюта" },
            { source: "aesthetic_production", target: "absolute_identity", type: "instrument", weight: 2, 
            description: "Искусство - орган философии: созерцает единство сознательного и бессознательного" },
            { source: "philosophy_revelation", target: "absolute_identity", type: "culminate", weight: 2, 
            description: "Философия откровения - высший пункт: абсолют раскрывается в истории как свобода" },
            { source: "transcendental_idealism_system", target: "aesthetic_production", type: "culminate", weight: 2, 
            description: "Система находит полноту в эстетике: искусство - высший синтез" },

            // ГЕГЕЛЬ
            { source: "dialectic", target: "aufhebung", type: "instrument", weight: 3, 
            description: "Диалектика работает через снятие: отрицание сохраняет и возвышает" },
            { source: "absolute_idea", target: "weltgeist", type: "consequence", weight: 3, 
            description: "Абсолютная идея актуализируется в истории: мировой дух - её движение" },
            { source: "dialectic", target: "absolute_idea", type: "instrument", weight: 3, 
            description: "Диалектика - метод идеи: через противоречие к самопознанию" },
            { source: "master_slave", target: "dialectic", type: "consequence", weight: 3, 
            description: "Господин-раб - образец диалектики: раб обретает самосознание через труд" },
            { source: "cunning_reason", target: "weltgeist", type: "consequence", weight: 2, 
            description: "Хитрость разума движет историю: дух использует страсти для своих целей" },
            { source: "negative", target: "dialectic", type: "consequence", weight: 3, 
            description: "Негативность - душа диалектики: противоречие движет развитием" },
            { source: "concrete", target: "abstract", type: "presuppose", weight: 3, bidirectional: true, 
            description: "Конкретное и абстрактное коррелятивны: конкретное - единство многообразного, абстрактное - одностороннее" },
            { source: "abstract", target: "dialectic", type: "consequence", weight: 2, 
            description: "Абстрактное генерирует диалектику: одностороннее требует дополнения" },
            { source: "abstract", target: "aufhebung", type: "limit", weight: 2, 
            description: "Абстрактное преодолевается в снятии к конкретному" },
            { source: "concrete", target: "absolute_idea", type: "culminate", weight: 3, 
            description: "Конкретное - полнота идеи: тотальность всех определений" },
            { source: "concrete", target: "dialectic", type: "consequence", weight: 3, 
            description: "Конкретное - результат диалектики: единство многообразного" },
            { source: "an_sich_fur_sich", target: "dialectic", type: "consequence", weight: 3, 
            description: "В-себе-и-для-себя - плод диалектики: возвращение к себе через инобытие" },
            { source: "an_sich_fur_sich", target: "aufhebung", type: "consequence", weight: 3, 
            description: "В-себе-и-для-себя реализуется через снятие: непосредственность, опосредованная отрицанием" },
            { source: "absolute_idea", target: "dialectic", type: "culminate", weight: 3, 
            description: "Абсолютная идея - конец диалектики: самопознание завершено" },
            { source: "weltgeist", target: "objective_spirit", type: "consequence", weight: 2, 
            description: "Мировой дух объективируется: право, мораль, нравственность как этапы" },
            { source: "entfremdung", target: "master_slave", type: "exemplify", weight: 2, 
            description: "Отчуждение проявлено в господстве-рабстве: самосознание расщеплено" },
            { source: "cunning_reason", target: "absolute_idea", type: "instrument", weight: 2, 
            description: "Хитрость разума служит идее: частные цели реализуют всеобщее" },
            { source: "negative", target: "aufhebung", type: "condition", weight: 3, 
            description: "Негативность необходима снятию: без отрицания нет преодоления" },

            // ШОПЕНГАУЭР
            { source: "will_schop", target: "representation", type: "oppose", weight: 3, bidirectional: true, 
            description: "Воля и представление - противоположные аспекты реальности: вещь-в-себе и явление" },
            { source: "suffering", target: "will_schop", type: "emerge_from", weight: 3, 
            description: "Страдание - природа воли: слепое стремление без удовлетворения" },
            { source: "denial_will", target: "suffering", type: "complement", weight: 3, 
            description: "Отрицание воли - выход из страдания: аскеза и безволие" },
            { source: "aesthetics_schop", target: "denial_will", type: "instrument", weight: 2, 
            description: "Эстетика временно освобождает: безынтересное созерцание идей" },
            { source: "compassion", target: "denial_will", type: "instrument", weight: 3, 
            description: "Сострадание ведет к отрицанию воли: proникновение в чужое страдание разрушает эгоизм" },
            { source: "individuation", target: "representation", type: "condition", weight: 3, 
            description: "Principium individuationis создает представление: множественность феноменов" },
            { source: "individuation", target: "will_schop", type: "oppose", weight: 3, 
            description: "Индивидуация против единой воли: иллюзия разделенности покрывает единство" },
            { source: "individuation", target: "suffering", type: "condition", weight: 3, 
            description: "Индивидуация - источник страдания: обособленность рождает желание" },
            { source: "aesthetics_schop", target: "individuation", type: "oppose", weight: 2, 
            description: "Эстетика пробивает индивидуацию: созерцание универсальных идей" },
            { source: "compassion", target: "individuation", type: "oppose", weight: 3, 
            description: "Сострадание прорывает индивидуацию: 'tat tvam asi' - это ты еси" },
            { source: "will_schop", target: "denial_will", type: "internal_contradiction", weight: 3, bidirectional: true, 
            description: "Воля отрицает саму себя: парадокс аскезы как волевого акта против воли" },

            // КОНТ
            { source: "three_stages", target: "positive_knowledge", type: "culminate", weight: 3, 
            description: "Три стадии ведут к позитивизму: от теологии через метафизику к науке" },
            { source: "positive_knowledge", target: "sociology", type: "apply", weight: 3, 
            description: "Позитивное знание создает социологию: наука об обществе" },
            { source: "hierarchy_sciences", target: "positive_knowledge", type: "consequence", weight: 2, 
            description: "Иерархия наук реализует позитивизм: от простого к сложному" },
            { source: "social_physics", target: "sociology", type: "consequence", weight: 2, 
            description: "Социальная физика становится социологией: наука о социальных законах" },
            { source: "hierarchy_sciences", target: "sociology", type: "culminate", weight: 3, 
            description: "Социология - верх иерархии: наиболее сложная наука" },

            // КЬЕРКЕГОР
            { source: "stages_existence", target: "leap_faith", type: "culminate", weight: 3, 
            description: "Три стадии ведут к прыжку: эстетика, этика, религия" },
            { source: "anxiety", target: "leap_faith", type: "condition", weight: 3, 
            description: "Тревога открывает прыжок: головокружение свободы перед возможностью" },
            { source: "despair", target: "anxiety", type: "consequence", weight: 2, 
            description: "Отчаяние из тревоги: болезнь к смерти, неспособность быть собой" },
            { source: "individual", target: "subjective_truth", type: "presuppose", weight: 3, 
            description: "Единичный делает истину субъективной: истина есть субъективность" },
            { source: "subjective_truth", target: "leap_faith", type: "presuppose", weight: 3, 
            description: "Субъективная истина требует прыжка: страсть против гегелевской системы" },
            { source: "repetition", target: "stages_existence", type: "mediate", weight: 2, 
            description: "Повторение связывает стадии: возвращение к себе через веру" },
            { source: "moment", target: "leap_faith", type: "condition", weight: 3, 
            description: "Мгновение делает возможным прыжок: вторжение вечного во временное" },
            { source: "moment", target: "anxiety", type: "consequence", weight: 2, 
            description: "Мгновение создает тревогу: встреча с возможностью в конкретности" },
            { source: "absurd", target: "leap_faith", type: "consequence", weight: 3, 
            description: "Абсурд требует прыжка: credo quia absurdum" },
            { source: "absurd", target: "subjective_truth", type: "consequence", weight: 2, 
            description: "Абсурд конституирует субъективную истину: объективная неопределенность со страстью" },
            { source: "absurd", target: "anxiety", type: "consequence", weight: 2, 
            description: "Абсурд усиливает тревогу: невозможность рационального оправдания" },
            { source: "stages_existence", target: "anxiety", type: "presuppose", weight: 2, 
            description: "Экзистенциальные стадии живут тревогой: основание выбора" },
            { source: "moment", target: "stages_existence", type: "consequence", weight: 2, 
            description: "Мгновение определяет переход между стадиями существования" },
            { source: "stages_existence", target: "despair", type: "presuppose", weight: 2, 
            description: "Стадии структурированы отчаянием: болезнь к смерти" },
            { source: "repetition", target: "moment", type: "consequence", weight: 2, 
            description: "Повторение реализуется в мгновении: экзистенциальное возобновление" },

            // МАРКС
            { source: "praxis", target: "alienation", type: "complement", weight: 3, 
            description: "Революционная практика - антитеза отчуждения: изменение мира против его толкования" },
            { source: "base_superstructure", target: "class_struggle", type: "condition", weight: 3, 
            description: "Базис определяет классовую борьбу: экономика - основа социальных противоречий" },
            { source: "commodity_fetish", target: "alienation", type: "consequence", weight: 3, 
            description: "Товарный фетишизм - форма отчуждения: вещи овладевают людьми" },
            { source: "historical_materialism", target: "base_superstructure", type: "consequence", weight: 3, 
            description: "Исторический материализм устанавливает примат базиса: бытие определяет сознание" },
            { source: "historical_materialism", target: "praxis", type: "presuppose", weight: 3, 
            description: "Исторический материализм исходит из практики: теория из деятельности" },
            { source: "base_superstructure", target: "alienation", type: "consequence", weight: 3, 
            description: "Структура базис-надстройка рождает отчуждение: разделение труда и собственность" },
            { source: "class_struggle", target: "praxis", type: "consequence", weight: 3, 
            description: "Классовая борьба есть практика: история как борьба, движимая противоречиями" },
            { source: "commodity_fetish", target: "base_superstructure", type: "consequence", weight: 2, 
            description: "Товарный фетишизм укоренен в капиталистическом базисе: форма стоимости" },
            { source: "ideology", target: "base_superstructure", type: "consequence", weight: 3, 
            description: "Идеология - элемент надстройки: отражает и скрывает базис" },
            { source: "ideology", target: "alienation", type: "mediate", weight: 3, 
            description: "Идеология связывает с отчуждением: ложное сознание маскирует реальность" },
            { source: "base_superstructure", target: "praxis", type: "emerge_from", weight: 2, 
            description: "Революционная практика из противоречий: базис против надстройки" },
            { source: "commodity_fetish", target: "class_struggle", type: "mediate", weight: 2, 
            description: "Товарный фетишизм скрывает классовую борьбу: вещи вместо отношений" },

            // ДИЛЬТЕЙ
            { source: "verstehen", target: "geisteswissenschaften", type: "instrument", weight: 3, 
            description: "Понимание - метод наук о духе: против объяснения естественных наук" },
            { source: "erlebnis", target: "verstehen", type: "condition", weight: 3, 
            description: "Переживание делает возможным понимание: живой опыт как основа" },
            { source: "leben_dilthey", target: "erlebnis", type: "presuppose", weight: 3, 
            description: "Жизнь дана в переживании: первичная реальность" },
            { source: "hermeneutics_life", target: "verstehen", type: "instrument", weight: 3, 
            description: "Герменевтика жизни - путь понимания: интерпретация объективаций духа" },
            { source: "hermeneutics_life", target: "leben_dilthey", type: "presuppose", weight: 3, 
            description: "Герменевтика жизни исходит из жизни: жизнь как текст" },
            { source: "historical_reason", target: "geisteswissenschaften", type: "condition", weight: 2, 
            description: "Исторический разум обосновывает науки о духе: критика исторического познания" },
            { source: "objective_spirit_dilthey", target: "leben_dilthey", type: "consequence", weight: 2, 
            description: "Объективный дух - кристаллизация жизни: культурные формы" },
            { source: "objective_spirit_dilthey", target: "hermeneutics_life", type: "presuppose", weight: 2, 
            description: "Объективный дух требует герменевтики: понимание отчужденных смыслов" },
            { source: "erlebnis", target: "historical_reason", type: "condition", weight: 2, 
            description: "Переживание обосновывает исторический разум: опыт времени" },

            // БРЕНТАНО
            { source: "intentionality_brentano", target: "psychical_physical", type: "presuppose", weight: 3, 
            description: "Интенциональность - критерий психического: направленность на объект" },
            { source: "descriptive_psychology", target: "intentionality_brentano", type: "exemplify", weight: 3, 
            description: "Дескриптивная психология анализирует интенциональные акты: феноменология ментального" },
            { source: "immanent_objectivity", target: "intentionality_brentano", type: "exemplify", weight: 2, 
            description: "Имманентная объективность: объект в акте, не реальная вещь" },
            { source: "inner_perception", target: "psychical_physical", type: "instrument", weight: 2, 
            description: "Внутреннее восприятие различает психическое: самоданность сознания" },
            { source: "judgment_presentation", target: "intentionality_brentano", type: "exemplify", weight: 2, 
            description: "Суждение и представление - виды интенциональности: различные модусы отношения к объекту" },
            { source: "evidence_brentano", target: "inner_perception", type: "consequence", weight: 2, 
            description: "Очевидность из внутреннего восприятия: самоданность психического" },
            { source: "descriptive_psychology", target: "inner_perception", type: "instrument", weight: 2, 
            description: "Дескриптивная психология использует внутреннее восприятие как метод" },

            // НИЦШЕ
            { source: "will_power", target: "ubermensch", type: "culminate", weight: 3, 
            description: "Воля к власти в сверхчеловеке: высшая форма жизни" },
            { source: "god_dead", target: "ubermensch", type: "consequence", weight: 3, 
            description: "Смерть Бога освобождает место: переоценка всех ценностей" },
            { source: "eternal_return", target: "will_power", type: "presuppose", weight: 3, 
            description: "Вечное возвращение требует воли к власти: amor fati как высшее утверждение" },
            { source: "perspectivism", target: "god_dead", type: "emerge_from", weight: 3, 
            description: "Перспективизм после Бога: нет фактов, только интерпретации" },
            { source: "master_morality", target: "slave_morality", type: "oppose", weight: 3, bidirectional: true, 
            description: "Мораль господ (творящая ценности) против морали рабов (реактивной)" },
            { source: "master_morality", target: "will_power", type: "exemplify", weight: 3, 
            description: "Мораль господ - активная воля: творение ценностей из силы" },
            { source: "master_morality", target: "ubermensch", type: "consequence", weight: 3, 
            description: "Мораль господ рождает сверхчеловека: творец ценностей" },
            { source: "slave_morality", target: "god_dead", type: "influence", weight: 2, 
            description: "Рабская мораль (христианство) привела к смерти Бога через нигилизм" },
            { source: "dionysian", target: "apollonian", type: "internal_contradiction", weight: 3, bidirectional: true, 
            description: "Дионисийское (опьянение, хаос) и аполлоническое (форма, мера) - противоборствующие начала искусства" },
            { source: "dionysian", target: "will_power", type: "presuppose", weight: 3, 
            description: "Дионисийское - витальная мощь: опьянение как сила жизни" },
            { source: "apollonian", target: "will_power", type: "presuppose", weight: 2, 
            description: "Аполлоническое - воля к форме: индивидуация и мера" },
            { source: "ressentiment", target: "slave_morality", type: "emerge_from", weight: 3, 
            description: "Ресентимент рождает рабскую мораль: бессилие творит через отрицание" },
            { source: "ressentiment", target: "master_morality", type: "oppose", weight: 3, 
            description: "Ресентимент против господской морали: реактивность против активности" },
            { source: "ressentiment", target: "will_power", type: "oppose", weight: 3, 
            description: "Ресентимент - антитеза воли к власти: отравленная месть" },
            { source: "ubermensch", target: "eternal_return", type: "mediate", weight: 3, 
            description: "Сверхчеловек любит судьбу: только он способен желать вечного возвращения" },
            { source: "perspectivism", target: "will_power", type: "consequence", weight: 3, 
            description: "Перспективизм - эффект воли: познание как интерпретация-присвоение" },
            { source: "eternal_return", target: "dionysian", type: "culminate", weight: 3, 
            description: "Вечное возвращение - дионисийское да: абсолютное утверждение жизни" },
            { source: "apollonian", target: "individuation", type: "emerge_from", weight: 2, 
            description: "Аполлоническое начало из principium individuationis: прекрасная иллюзия формы" },

            // МЕЙНОНГ
            { source: "object_theory", target: "non_existent_objects", type: "presuppose", weight: 3, 
            description: "Теория объектов допускает несуществующее: интенциональные предметы вне бытия" },
            { source: "sosein", target: "non_existent_objects", type: "exemplify", weight: 3, 
            description: "Так-бытие независимо от существования: золотая гора имеет свойства" },
            { source: "assumptions", target: "non_existent_objects", type: "instrument", weight: 2, 
            description: "Предположения направлены на несуществующее: особый ментальный акт" },
            { source: "incomplete_objects", target: "non_existent_objects", type: "consequence", weight: 2, 
            description: "Неполные объекты - вид несуществующих: недетерминированное содержание" },
            { source: "sosein", target: "object_theory", type: "presuppose", weight: 3, 
            description: "Так-бытие независимо: содержание отделено от существования" },

            // ФРЕЙД
            { source: "unconscious", target: "repression", type: "condition", weight: 3, 
            description: "Бессознательное необходимо для вытеснения: куда вытесняется травматическое" },
            { source: "unconscious", target: "dream_work", type: "consequence", weight: 3, 
            description: "Работа сновидения реализует бессознательное: сгущение, смещение, символизация" },
            { source: "oedipus_complex", target: "unconscious", type: "consequence", weight: 3, 
            description: "Эдипов комплекс в бессознательном: универсальная структура желания" },
            { source: "pleasure_principle", target: "reality_principle", type: "oppose", weight: 3, bidirectional: true, 
            description: "Принцип удовольствия (немедленное разрешение напряжения) против принципа реальности (отсрочка)" },
            { source: "death_drive", target: "pleasure_principle", type: "oppose", weight: 3, 
            description: "Танатос против принципа удовольствия: стремление к неорганическому" },
            { source: "transference", target: "unconscious", type: "exemplify", weight: 2, 
            description: "Перенос - бессознательное в действии: повторение детских паттернов" },
            { source: "dream_work", target: "unconscious", type: "exemplify", weight: 3, 
            description: "Сновидение - царская дорога: доступ к бессознательному" },
            { source: "id_ego_superego", target: "unconscious", type: "presuppose", weight: 3, 
            description: "Топика требует бессознательного: Оно как основа психики" },
            { source: "id_ego_superego", target: "reality_principle", type: "consequence", weight: 2, 
            description: "Я опосредует Оно и реальность: между влечением и миром" },
            { source: "repression", target: "oedipus_complex", type: "condition", weight: 2, 
            description: "Вытеснение Эдипа формирует бессознательное: структурообразующая репрессия" },

            // ФРЕГЕ
            { source: "sense_reference", target: "function_argument", type: "presuppose", weight: 3, 
            description: "Смысл-значение требует функциональной структуры: Венера утром ≠ Венера вечером" },
            { source: "context_principle", target: "sense_reference", type: "condition", weight: 3, 
            description: "Контекстный принцип обосновывает: только в предложении слово имеет смысл" },
            { source: "logicism", target: "begriffsschrift", type: "instrument", weight: 3, 
            description: "Логицизм через Begriffsschrift: сведение математики к логике" },
            { source: "function_argument", target: "begriffsschrift", type: "consequence", weight: 2, 
            description: "Функция-аргумент в концептуальной записи: формализация логики" },
            { source: "thought", target: "sense_reference", type: "presuppose", weight: 2, 
            description: "Мысль - смысл предложения: отлична от истинностного значения" },

            // ДЬЮИ
            { source: "instrumentalism", target: "inquiry", type: "presuppose", weight: 3, 
            description: "Инструментализм в исследовании: истина - инструмент успешного действия" },
            { source: "experience_dewey", target: "inquiry", type: "condition", weight: 3, 
            description: "Опыт делает возможным исследование: взаимодействие организма и среды" },
            { source: "learning_doing", target: "inquiry", type: "instrument", weight: 2, 
            description: "Обучение через делание: метод исследовательского познания" },
            { source: "warranted_assertibility", target: "instrumentalism", type: "presuppose", weight: 3, 
            description: "Обоснованная утверждаемость вместо истины: проверенное утверждение" },
            { source: "democracy_education", target: "experience_dewey", type: "consequence", weight: 2, 
            description: "Демократия и образование из прагматизма: социальная экспериментация" },

            // БЕРГСОН
            { source: "duree", target: "elan_vital", type: "presuppose", weight: 3, 
            description: "Длительность требует жизненного порыва: творческое время против пространственного" },
            { source: "intuition_bergson", target: "duree", type: "instrument", weight: 3, 
            description: "Интуиция схватывает длительность: симпатия к становлению изнутри" },
            { source: "creative_evolution", target: "elan_vital", type: "presuppose", weight: 3, 
            description: "Творческая эволюция движима élan vital: витальный импульс" },
            { source: "matter_memory", target: "duree", type: "presuppose", weight: 2, 
            description: "Материя и память в длительности: прошлое в настоящем" },
            { source: "pure_perception", target: "matter_memory", type: "presuppose", weight: 2, 
            description: "Чистое восприятие материи-памяти: актуальное и виртуальное" },
            { source: "image_bergson", target: "pure_perception", type: "consequence", weight: 2, 
            description: "Образ из чистого восприятия: между вещью и представлением" },
            { source: "open_closed_morality", target: "elan_vital", type: "emerge_from", weight: 2, 
            description: "Открытая и закрытая мораль из élan vital: мистика и социальность" },
            { source: "open_closed_morality", target: "creative_evolution", type: "consequence", weight: 2, 
            description: "Мораль - этап творческой эволюции: от инстинкта к интуиции" },
            { source: "laughter", target: "intellect_spatialization", type: "influence", weight: 1, 
            description: "Смех связан с пространственной механизацией жизни интеллектом" },
            { source: "laughter", target: "elan_vital", type: "consequence", weight: 1, 
            description: "Смех - реакция жизни на автоматизацию, сопротивление élan vital" },
            { source: "intuition_bergson", target: "image_bergson", type: "instrument", weight: 2, 
            description: "Интуиция через образы: промежуточная реальность" },
            { source: "creative_evolution", target: "duree", type: "consequence", weight: 3, 
            description: "Творческая эволюция - длительность в природе: становление жизни" },
            { source: "intuition_bergson", target: "intellect_spatialization", type: "oppose", weight: 3, bidirectional: true, 
            description: "Интуиция против интеллекта: симпатия против анализа, время против пространства" },
            { source: "pure_perception", target: "intellect_spatialization", type: "oppose", weight: 2, 
            description: "Чистое восприятие предшествует интеллектуальному расчленению" },

            // ГУССЕРЛЬ
            { source: "epoché", target: "intentionality", type: "presuppose", weight: 3, 
            description: "Эпохе открывает интенциональность: заключение в скобки к чистому сознанию" },
            { source: "transcendental_ego", target: "eidetic", type: "instrument", weight: 2, 
            description: "Трансцендентальное Ego через эйдетическую редукцию: постижение сущностей" },
            { source: "lifeworld", target: "epoché", type: "oppose", weight: 2, 
            description: "Жизненный мир против эпохе: дотеоретическая очевидность против феноменологической редукции" },
            { source: "eidetic", target: "intentionality", type: "consequence", weight: 2, 
            description: "Эйдетическая редукция раскрывает интенциональность: сущностная структура актов" },
            { source: "noesis_noema", target: "intentionality", type: "presuppose", weight: 3, 
            description: "Ноэсис-ноэма коррелятивны: акт и предмет сознания взаимообусловлены" },
            { source: "noesis_noema", target: "eidetic", type: "consequence", weight: 3, 
            description: "Структура ноэсис-ноэма через эйдетику: сущностный анализ" },
            { source: "constitution", target: "transcendental_ego", type: "presuppose", weight: 3, 
            description: "Конституирование от трансцендентального Ego: сознание создает объекты" },
            { source: "constitution", target: "intentionality", type: "presuppose", weight: 3, 
            description: "Конституирование через интенциональные акты: синтез многообразия" },
            { source: "intentionality", target: "lifeworld", type: "condition", weight: 2, 
            description: "Интенциональность укоренена в жизненном мире: горизонт опыта" },
            { source: "intersubjectivity", target: "lifeworld", type: "condition", weight: 3, 
            description: "Интерсубъективность конституирует жизненный мир: общее поле" },
            { source: "epoché", target: "transcendental_ego", type: "instrument", weight: 3, 
            description: "Эпохе - путь к трансцендентальному Ego: феноменологическая редукция" },

            // РАССЕЛ
            { source: "logical_atomism", target: "theory_descriptions", type: "instrument", weight: 3, 
            description: "Логический атомизм через теорию дескрипций: мир из атомарных фактов" },
            { source: "acquaintance_description", target: "sense_data", type: "presuppose", weight: 3, 
            description: "Знакомство и описание требуют чувственных данных: непосредственное vs опосредованное" },
            { source: "sense_data", target: "external_world", type: "consequence", weight: 2, 
            description: "Чувственные данные конструируют внешний мир: логическая конструкция" },
            { source: "russell_paradox", target: "logical_atomism", type: "consequence", weight: 2, 
            description: "Парадокс ведет к атомизму: необходимость теории типов" },
            { source: "theory_descriptions", target: "acquaintance_description", type: "presuppose", weight: 2, 
            description: "Теория дескрипций требует различения: знакомство vs описание" },

            // ХАЙДЕГГЕР
            { source: "dasein", target: "sein", type: "condition", weight: 3, 
            description: "Dasein - место вопроса о бытии: сущее, понимающее бытие" },
            { source: "geworfenheit", target: "sorge", type: "presuppose", weight: 2, 
            description: "Заброшенность в структуре заботы: фактичность экзистенции" },
            { source: "dasein", target: "geworfenheit", type: "presuppose", weight: 2, 
            description: "Dasein всегда уже заброшено: не выбирает своё 'вот'" },
            { source: "sein_zum_tode", target: "dasein", type: "condition", weight: 2, 
            description: "Бытие-к-смерти конституирует Dasein: смерть как наиболее собственная возможность" },
            { source: "aletheia", target: "sein", type: "presuppose", weight: 2, 
            description: "Истина как непотаенность: раскрытие-сокрытие бытия" },
            { source: "dwelling", target: "dasein", type: "consequence", weight: 2, 
            description: "Пребывание - способ Dasein: обитание в близости к вещам" },
            { source: "das_man", target: "dasein", type: "limit", weight: 2, 
            description: "Das Man блокирует Dasein: усредненность повседневности" },
            { source: "das_man", target: "geworfenheit", type: "influence", weight: 2, 
            description: "Das Man формирует заброшенность: бегство от фактичности в публичность" },
            { source: "das_man", target: "sein_zum_tode", type: "limit", weight: 2, 
            description: "Das Man уклоняется от смерти: 'умирают, но не я'" },
            { source: "dwelling", target: "das_man", type: "oppose", weight: 2, 
            description: "Подлинное пребывание против Das Man: собственность vs публичность" },
            { source: "ereignis", target: "sein", type: "presuppose", weight: 3, 
            description: "Событие требует бытия: со-бытийствование человека и бытия" },
            { source: "ereignis", target: "aletheia", type: "consequence", weight: 3, 
            description: "Событие - истина в действии: раскрытие-сокрытие" },
            { source: "geviert", target: "dwelling", type: "condition", weight: 2, 
            description: "Четверица необходима пребыванию: небо-земля-боги-смертные" },
            { source: "geviert", target: "dasein", type: "consequence", weight: 2, 
            description: "Четверица определяет место Dasein: собирание в единство" },
            { source: "kehre", target: "sein", type: "internal_contradiction", weight: 2, 
            description: "Поворот (Kehre) - внутреннее противоречие бытия: от забвения к припоминанию" },
            { source: "kehre", target: "ereignis", type: "mediate", weight: 2, 
            description: "Поворот связывает с событием: от аналитики Dasein к истории бытия" },
            { source: "vorhanden", target: "zuhanden", type: "oppose", weight: 3, bidirectional: true, 
            description: "Наличное (Vorhanden) против подручного (Zuhanden): теоретическое против практического" },
            { source: "dasein", target: "zuhanden", type: "consequence", weight: 3, 
            description: "Dasein первично имеет дело с подручным: практическое освоение мира" },
            { source: "sorge", target: "zuhanden", type: "consequence", weight: 2, 
            description: "Забота реализуется в обращении с подручным" },
            { source: "dasein", target: "sorge", type: "consequence", weight: 3, 
            description: "Забота (Sorge) - фундаментальная структура Dasein: забегание, фактичность, падение" },
            { source: "sein_zum_tode", target: "sorge", type: "consequence", weight: 3, 
            description: "Бытие-к-смерти кристаллизует заботу: конечность как основа темпоральности" },
            { source: "das_man", target: "sorge", type: "oppose", weight: 2, 
            description: "Das Man блокирует подлинную заботу: бегство в усредненность публичности от экзистенциальной ответственности" },
            { source: "ereignis", target: "dasein", type: "consequence", weight: 3, 
            description: "Событие определяет Dasein: человек присвоен бытию" },
            { source: "geviert", target: "ereignis", type: "consequence", weight: 2, 
            description: "Четверица из события бытия: структура раскрытия" },
            { source: "dwelling", target: "geviert", type: "exemplify", weight: 3, 
            description: "Пребывание собирает четверицу: жилище как сохранение единства" },
            { source: "being_in_world", target: "dasein", type: "presuppose", weight: 3, bidirectional: true, 
            description: "Бытие-в-мире и Dasein коррелятивны: конститутивная взаимообусловленность" },
            { source: "being_in_world", target: "geworfenheit", type: "presuppose", weight: 2, 
            description: "Бытие-в-мире всегда заброшено: априорная фактичность" },
            { source: "being_in_world", target: "sein", type: "condition", weight: 3, 
            description: "Бытие-в-мире открывает бытие: экстатическая открытость" },

            // ВИТГЕНШТЕЙН
            { source: "language_game", target: "form_of_life", type: "presuppose", weight: 2, 
            description: "Языковая игра в форме жизни: значение в употреблении, укорененном в практике" },
            { source: "picture_theory", target: "limits_language", type: "condition", weight: 2, 
            description: "Картинная теория устанавливает границы: изоморфизм предложения и факта" },
            { source: "family_resemblance", target: "language_game", type: "presuppose", weight: 2, 
            description: "Семейное сходство в играх: нет общей сущности, пересекающиеся черты" },
            { source: "language_game", target: "picture_theory", type: "critique", weight: 2, 
            description: "Языковая игра опровергает картинную теорию: множественность употреблений против единой логики" },
            { source: "picture_theory", target: "language_game", type: "internal_contradiction", weight: 2, 
            description: "Картинная теория противоречит себе: лестница, которую нужно отбросить" },
            { source: "showing_saying", target: "limits_language", type: "condition", weight: 3, 
            description: "Показывание-говорение определяет границы: логическая форма показывается" },
            { source: "private_language", target: "form_of_life", type: "limit", weight: 3, 
            description: "Против приватного языка: значение требует публичной практики" },
            { source: "private_language", target: "language_game", type: "consequence", weight: 3, 
            description: "Невозможность приватного языка: социальная природа игр" },
            { source: "rule_following", target: "language_game", type: "presuppose", weight: 3, bidirectional: true, 
            description: "Следование правилу и языковая игра коррелятивны: правило в практике" },
            { source: "rule_following", target: "family_resemblance", type: "consequence", weight: 3, 
            description: "Парадокс правила дает семейное сходство: нет финального интерпретанта" },
            { source: "picture_theory", target: "showing_saying", type: "consequence", weight: 3, 
            description: "Картинная теория разделяет показывание-говорение: форма невысказываема" },
            { source: "form_of_life", target: "rule_following", type: "consequence", weight: 3, 
            description: "Форма жизни обосновывает правило: практика как скала" },
            { source: "private_language", target: "rule_following", type: "mediate", weight: 3, 
            description: "Аргумент против приватного через правило: критерий публичности" },

            // ГАДАМЕР
            { source: "hermeneutic_circle", target: "horizon_understanding", type: "presuppose", weight: 3, 
            description: "Герменевтический круг в горизонте: целое и часть взаимообусловлены" },
            { source: "fusion_horizons", target: "horizon_understanding", type: "synthesize", weight: 3, 
            description: "Слияние горизонтов - единство: встреча традиций рождает новый смысл" },
            { source: "tradition_gadamer", target: "horizon_understanding", type: "condition", weight: 3, 
            description: "Традиция необходима горизонту: историческая обусловленность интерпретации" },
            { source: "effective_history", target: "tradition_gadamer", type: "presuppose", weight: 3, 
            description: "История действия в традиции: мы всегда уже в истории" },
            { source: "prejudice_gadamer", target: "tradition_gadamer", type: "consequence", weight: 2, 
            description: "Пред-рассудки из традиции: продуктивные условия понимания" },
            { source: "application", target: "hermeneutic_circle", type: "culminate", weight: 3, 
            description: "Применение - полнота круга: понимание есть применение к ситуации" },
            { source: "prejudice_gadamer", target: "horizon_understanding", type: "condition", weight: 2, 
            description: "Пред-рассудки открывают горизонт: предпонимание необходимо" },

            // ЛАКАН
            { source: "three_registers", target: "mirror_stage", type: "presuppose", weight: 3, 
            description: "Регистры требуют стадию зеркала: конституция субъекта в образе" },
            { source: "big_other", target: "three_registers", type: "presuppose", weight: 3, 
            description: "Большой Другой в регистрах: Символический порядок языка" },
            { source: "desire_other", target: "objet_petit_a", type: "presuppose", weight: 3, 
            description: "Желание Другого и объект а: желание быть желанным" },
            { source: "lack", target: "desire_other", type: "condition", weight: 3, 
            description: "Нехватка порождает желание: субъект конституирован утратой" },
            { source: "signifier", target: "big_other", type: "presuppose", weight: 2, 
            description: "Означающее в Большом Другом: язык предшествует субъекту" },
            { source: "mirror_stage", target: "lack", type: "emerge_from", weight: 2, 
            description: "Стадия зеркала - источник нехватки: расщепление в образе" },
            { source: "three_registers", target: "lack", type: "consequence", weight: 3, 
            description: "Регистры структурируют нехватку: Реальное как невозможное" },
            { source: "objet_petit_a", target: "lack", type: "consequence", weight: 3, 
            description: "Объект а - причина желания: кристаллизует нехватку" },
            { source: "signifier", target: "desire_other", type: "consequence", weight: 3, 
            description: "Означающее рождает желание: субъект представлен означающим" },

            // САРТР
            { source: "existence", target: "nothingness", type: "presuppose", weight: 3, 
            description: "Экзистенция требует ничто: существование через негацию сущности" },
            { source: "nothingness", target: "freedom_sartre", type: "condition", weight: 3, 
            description: "Ничто необходимо для свободы: негация данности, дистанция от фактичности" },
            { source: "look", target: "for_itself", type: "consequence", weight: 2, 
            description: "Взгляд Другого конституирует для-себя: объективация субъекта" },
            { source: "for_itself", target: "nothingness", type: "presuppose", weight: 3, 
            description: "Для-себя требует ничто: сознание как негация в-себе" },
            { source: "for_itself", target: "freedom_sartre", type: "consequence", weight: 2, 
            description: "Для-себя обречено на свободу: сознание не совпадает с собой" },
            { source: "look", target: "bad_faith", type: "influence", weight: 2, 
            description: "Взгляд Другого способствует недобросовестности: бегство в объективность" },
            { source: "in_itself", target: "existence", type: "consequence", weight: 2, 
            description: "В-себе - полнота существования: непрозрачная позитивность" },
            { source: "project", target: "existence", type: "presuppose", weight: 3, 
            description: "Проект требует экзистенции: человек делает себя" },
            { source: "project", target: "freedom_sartre", type: "presuppose", weight: 3, 
            description: "Проект требует свободы: выбор себя в будущем" },
            { source: "project", target: "for_itself", type: "consequence", weight: 3, 
            description: "Проект - способ для-себя: трансценденция к возможностям" },
            { source: "engagement", target: "bad_faith", type: "oppose", weight: 2, 
            description: "Ангажированность против недобросовестности: принятие ответственности" },
            { source: "engagement", target: "freedom_sartre", type: "culminate", weight: 2, 
            description: "Ангажированность - полнота свободы: принятие ответственности в ситуации" },
            { source: "project", target: "bad_faith", type: "oppose", weight: 3, 
            description: "Подлинный проект против недобросовестности: принятие свободы" },
            { source: "engagement", target: "project", type: "consequence", weight: 3, 
            description: "Ангажированность реализует проект: конкретное действие в истории" },
            { source: "freedom_sartre", target: "bad_faith", type: "internal_contradiction", weight: 2, bidirectional: true, 
            description: "Свобода и недобросовестность - противоречие: использование свободы для отрицания свободы" },
            { source: "for_itself", target: "in_itself", type: "internal_contradiction", weight: 2, bidirectional: true, 
            description: "Для-себя и в-себе - онтологическое противоречие: сознание стремится стать полнотой" },

            // ЛЕВИНАС
            { source: "face", target: "other_levinas", type: "exemplify", weight: 3, 
            description: "Лицо - эпифания Другого: призыв 'не убий' до всякого дискурса" },
            { source: "ethics_first_philosophy", target: "other_levinas", type: "presuppose", weight: 3, 
            description: "Этика первичнее онтологии: Другой до бытия" },
            { source: "responsibility", target: "face", type: "consequence", weight: 3, 
            description: "Ответственность из встречи с лицом: я заложник Другого" },
            { source: "saying_said", target: "face", type: "consequence", weight: 2, 
            description: "Говорение-сказанное: лицо говорит до всякого сказанного, этический язык" },
            { source: "trace", target: "other_levinas", type: "exemplify", weight: 2, 
            description: "След - знак инаковости: отсутствие, оставляющее метку" },
            { source: "infinity_levinas", target: "other_levinas", type: "presuppose", weight: 3, 
            description: "Бесконечность в Другом: идея бесконечного в конечном" },
            { source: "responsibility", target: "ethics_first_philosophy", type: "presuppose", weight: 3, 
            description: "Ответственность - основа этики: я всегда уже ответственен" },

            // ФУКО
            { source: "power_knowledge", target: "episteme", type: "presuppose", weight: 3, 
            description: "Власть-знание требует эпистемы: дискурсивные практики конституируют объекты" },
            { source: "discipline", target: "biopower", type: "emerge_from", weight: 2, 
            description: "Дисциплина эволюционирует в биовласть: от тел к популяциям" },
            { source: "archaeology", target: "episteme", type: "instrument", weight: 3, 
            description: "Археология исследует эпистему: раскопки дискурсивных формаций" },
            { source: "biopower", target: "episteme", type: "influence", weight: 2, 
            description: "Биовласть формирует эпистему модерна: управление жизнью населения" },
            { source: "care_self", target: "discipline", type: "oppose", weight: 2, 
            description: "Забота о себе против дисциплины: античная этика против современной нормализации" },
            { source: "panopticon", target: "discipline", type: "exemplify", weight: 3, 
            description: "Паноптикум - модель дисциплины: видимость и невидимость власти" },
            { source: "panopticon", target: "biopower", type: "consequence", weight: 3, 
            description: "Паноптикум ведет к биовласти: от надзора к оптимизации жизни" },
            { source: "heterotopia", target: "episteme", type: "influence", weight: 2, 
            description: "Гетеротопии формируют эпистему: пространства инаковости, кризиса, отклонения" },
            { source: "heterotopia", target: "power_knowledge", type: "limit", weight: 2, 
            description: "Гетеротопии блокируют власть-знание: места сопротивления нормализации" },
            { source: "problematization", target: "archaeology", type: "instrument", weight: 2, 
            description: "Проблематизация - метод археологии: как возникают проблемы" },
            { source: "problematization", target: "care_self", type: "consequence", weight: 2, 
            description: "Проблематизация ведет к заботе о себе: критическая онтология самости" },
            { source: "dispositif", target: "power_knowledge", type: "consequence", weight: 3, 
            description: "Диспозитив реализует власть-знание: гетерогенный ансамбль" },
            { source: "dispositif", target: "discipline", type: "consequence", weight: 3, 
            description: "Диспозитив осуществляет дисциплину: сеть отношений власти" },
            { source: "dispositif", target: "panopticon", type: "exemplify", weight: 2, 
            description: "Паноптикум как диспозитив: архитектура, дискурс, практики" },
            { source: "power_knowledge", target: "discipline", type: "instrument", weight: 3, 
            description: "Власть-знание через дисциплину: знание производит покорные тела" },
            { source: "panopticon", target: "power_knowledge", type: "exemplify", weight: 3, 
            description: "Паноптикум - власть-знание в действии: взгляд производит истину" },
            { source: "heterotopia", target: "panopticon", type: "oppose", weight: 2, bidirectional: true, 
            description: "Гетеротопия против паноптикума: пространство различия против тотального надзора" },

            // ДЕЛЁЗ
            { source: "rhizome", target: "assemblage", type: "exemplify", weight: 2, 
            description: "Ризома - тип сборки: множественные входы, гетерогенность, картография" },
            { source: "difference", target: "body_without_organs", type: "presuppose", weight: 2, 
            description: "Различие требует тела без органов: интенсивность до организации" },
            { source: "deterritorialization", target: "rhizome", type: "instrument", weight: 3, 
            description: "Детерриториализация через ризому: бегство от кодирования" },
            { source: "virtual_actual", target: "difference", type: "presuppose", weight: 3, 
            description: "Виртуальное-актуальное требует различия: виртуальное реально без актуальности" },
            { source: "event", target: "difference", type: "exemplify", weight: 2, 
            description: "Событие - чистое различие: становление на поверхности" },
            { source: "fold", target: "body_without_organs", type: "apply", weight: 2, 
            description: "Складка на теле без органов: барочная топология субъективации" },
            { source: "fold", target: "rhizome", type: "presuppose", weight: 2, 
            description: "Складка требует ризомы: серийность складывания-развертывания" },
            { source: "desiring_machines", target: "body_without_organs", type: "culminate", weight: 2, 
            description: "Желающие машины на теле без органов: производство против паранойи" },
            { source: "dispositif", target: "assemblage", type: "dialogue", weight: 2, bidirectional: true, 
            description: "Диспозитив Фуко и agencement Делёза: власть и производство желания в дискуссии" },
            { source: "multiplicity", target: "difference", type: "consequence", weight: 3, 
            description: "Множественность из различия: не единое и множество, а множественности" },
            { source: "multiplicity", target: "rhizome", type: "consequence", weight: 3, 
            description: "Множественность ризоматична: n-мерности без центра" },
            { source: "virtual_actual", target: "multiplicity", type: "consequence", weight: 2, 
            description: "Виртуальное-актуальное рождает множественности: дифференциация и интеграция" },
            { source: "difference", target: "rhizome", type: "consequence", weight: 3, 
            description: "Различие ризоматично: против арборесцентной логики" },
            { source: "virtual_actual", target: "event", type: "consequence", weight: 3, 
            description: "Виртуальное-актуальное конституирует событие: актуализация без подобия" },
            { source: "fold", target: "difference", type: "exemplify", weight: 2, 
            description: "Складка - дифференциация без предсуществующих терминов, чистое различие в действии" },

            // СОКРАТ - ПЛАТОН
            { source: "maieutics", target: "anamnesis", type: "develop", weight: 2 },
            { source: "virtue_knowledge", target: "ideas", type: "develop", weight: 2 },
            { source: "care_soul", target: "tripartite_soul", type: "develop", weight: 2 },
            { source: "care_soul", target: "eros", type: "influence", weight: 2 },
            { source: "soul", target: "tripartite_soul", type: "develop", weight: 2 },
            { source: "soul", target: "anamnesis", type: "develop", weight: 2 },
            { source: "virtue_knowledge", target: "eidos", type: "develop", weight: 2 },
            { source: "daimonion", target: "eros", type: "influence", weight: 1 },

            // СОКРАТ - ДЕКАРТ
            { source: "soul", target: "res_cogitans", type: "influence", weight: 2 },
            { source: "maieutics", target: "method", type: "influence", weight: 2 },
            { source: "cogito", target: "know_nothing", type: "critique", weight: 2 },

            // СОКРАТ - КЬЕРКЕГОР
            { source: "soul", target: "despair", type: "influence", weight: 2 },

            // ПЛАТОН - АРИСТОТЕЛЬ
            { source: "form", target: "eidos", type: "critique", weight: 3 },
            { source: "act_potency", target: "methexis", type: "critique", weight: 2 },
            { source: "form", target: "ideas", type: "critique", weight: 3 },
            { source: "demiurge", target: "unmoved_mover", type: "develop", weight: 2 },
            { source: "tripartite_soul", target: "golden_mean", type: "develop", weight: 1 },
            { source: "matter_ar", target: "chora", type: "dialogue", weight: 1 },
            { source: "tripartite_soul", target: "eudaimonia", type: "develop", weight: 2 },

            // СОКРАТ - АРИСТОТЕЛЬ
            { source: "virtue_knowledge", target: "golden_mean", type: "develop", weight: 2 },
            { source: "virtue_knowledge", target: "phronesis", type: "develop", weight: 3 },
            { source: "soul", target: "entelechy", type: "influence", weight: 2 },

            // ПЛАТОН - ПЛОТИН
            { source: "good", target: "the_one", type: "develop", weight: 3 },
            { source: "ideas", target: "nous", type: "develop", weight: 3 },
            { source: "eidos", target: "nous", type: "develop", weight: 2 },
            { source: "demiurge", target: "world_soul", type: "develop", weight: 2 },
            { source: "anamnesis", target: "henosis", type: "develop", weight: 2 },
            { source: "eros", target: "henosis", type: "develop", weight: 2 },
            { source: "cave", target: "contemplation", type: "influence", weight: 2 },
            { source: "methexis", target: "emanation", type: "develop", weight: 2 },
            { source: "the_one_plato", target: "the_one", type: "develop", weight: 3 },

            // АРИСТОТЕЛЬ - ПЛОТИН
            { source: "unmoved_mover", target: "the_one", type: "develop", weight: 2 },
            { source: "entelechy", target: "emanation", type: "influence", weight: 2 },
            { source: "form", target: "nous", type: "develop", weight: 2 },
            { source: "theoria", target: "contemplation", type: "develop", weight: 2 }, 
            { source: "nous_poietikos", target: "nous", type: "develop", weight: 2 },

            // ПЛОТИН - АВГУСТИН
            { source: "the_one", target: "grace", type: "develop", weight: 2 },
            { source: "emanation", target: "two_cities", type: "influence", weight: 1 },
            { source: "nous", target: "faith_reason", type: "develop", weight: 2 },
            { source: "henosis", target: "confession", type: "develop", weight: 2 },
            { source: "henosis", target: "grace", type: "influence", weight: 2 },
            { source: "world_soul", target: "time_augustine", type: "influence", weight: 1 },
            { source: "contemplation", target: "confession", type: "develop", weight: 2 },

            // ПЛОТИН - СПИНОЗА
            { source: "the_one", target: "substance_spinoza", type: "influence", weight: 2 },
            { source: "contemplation", target: "intellectual_love", type: "influence", weight: 2 },

            // ПЛОТИН - ГЕГЕЛЬ
            { source: "emanation", target: "absolute_idea", type: "influence", weight: 2 },          

            // СОКРАТ - АВГУСТИН
            { source: "soul", target: "confession", type: "influence", weight: 2 },

            // АВГУСТИН - ФОМА
            { source: "faith_reason", target: "thomistic_synthesis", type: "develop", weight: 2 },
            { source: "grace", target: "natural_law", type: "develop", weight: 2 },

            // ПЛАТОН - АВГУСТИН
            { source: "good", target: "grace", type: "influence", weight: 2 },
            { source: "ideas", target: "faith_reason", type: "develop", weight: 2 },
            { source: "anamnesis", target: "confession", type: "influence", weight: 2 },
            { source: "tripartite_soul", target: "two_cities", type: "influence", weight: 1 },

            // ДЕКАРТ - ЛОКК
            { source: "res_extensa", target: "primary_qualities", type: "develop", weight: 2 },
            { source: "simple_ideas", target: "clear_distinct", type: "dialogue", weight: 1 },
            { source: "tabula_rasa", target: "innate_ideas", type: "critique", weight: 2 },

            // ДЕКАРТ - СПИНОЗА
            { source: "res_cogitans", target: "substance_spinoza", type: "develop", weight: 3 },
            { source: "res_extensa", target: "substance_spinoza", type: "develop", weight: 3 },
            { source: "substance_spinoza", target: "dualism", type: "critique", weight: 2 },
            { source: "adequate_ideas", target: "clear_distinct", type: "dialogue", weight: 1 },

            // ЛОКК - БЕРКЛИ
            { source: "esse_percipi", target: "primary_qualities", type: "critique", weight: 3 },
            { source: "secondary_qualities", target: "esse_percipi", type: "influence", weight: 2 },
            { source: "immaterialism", target: "substance_locke", type: "critique", weight: 3 },
            { source: "simple_ideas", target: "ideas_berkeley", type: "develop", weight: 2 },

            // ЛОКК - ЮМ
            { source: "simple_ideas", target: "impressions", type: "develop", weight: 3 },
            { source: "complex_ideas", target: "ideas_hume", type: "develop", weight: 2 },
            { source: "tabula_rasa", target: "bundle_theory", type: "develop", weight: 2 },
            { source: "substance_locke", target: "bundle_theory", type: "influence", weight: 2 },

            // ЛОКК - ЛЕЙБНИЦ
            { source: "tabula_rasa", target: "petites_perceptions", type: "oppose", weight: 2, bidirectional: true },

            // ЛОКК - КАНТ
            { source: "primary_qualities", target: "thing_itself", type: "influence", weight: 2 },
            { source: "apriori", target: "simple_ideas", type: "oppose", weight: 2 },

            // АРИСТОТЕЛЬ - СПИНОЗА
            { source: "entelechy", target: "substance_spinoza", type: "influence", weight: 2 },
            { source: "entelechy", target: "conatus", type: "develop", weight: 2 },

            // СПИНОЗА - ШОПЕНГАУЭР
            { source: "conatus", target: "will_power", type: "influence", weight: 2 },

            // ЛЕЙБНИЦ - ПЛАТОН
            { source: "demiurge", target: "best_worlds", type: "develop", weight: 1 },  

            // ЛЕЙБНИЦ - АРИСТОТЕЛЬ
            { source: "four_causes", target: "sufficient_reason", type: "develop", weight: 1 },

            // ЛЕЙБНИЦ - ДЕКАРТ
            { source: "dualism", target: "preestablished", type: "synthesize", weight: 2 },

            // ЛЕЙБНИЦ - СПИНОЗА
            { source: "monads", target: "substance_spinoza", type: "critique", weight: 2 },

            // БЕРКЛИ - ЮМ
            { source: "immaterialism", target: "impressions", type: "influence", weight: 2 },
            { source: "esse_percipi", target: "causality_critique", type: "develop", weight: 2 },
            { source: "ideas_berkeley", target: "impressions", type: "influence", weight: 2 },
            { source: "esse_percipi", target: "bundle_theory", type: "influence", weight: 2 },

            // БЕРКЛИ - КАНТ
            { source: "immaterialism", target: "phenomenon", type: "influence", weight: 2 },
            { source: "transcendental", target: "esse_percipi", type: "dialogue", weight: 1 },

            // ЮМ - ФОМА
            { source: "is_ought", target: "natural_law", type: "critique", weight: 2 },

            //ЮМ - АРИСТОТЕЛЬ
            { source: "causality_critique", target: "four_causes", type: "critique", weight: 2 },

            // ЛЕЙБНИЦ - КАНТ
            { source: "antinomies", target: "sufficient_reason", type: "critique", weight: 1, 
            description: "Принцип достаточного основания связан с кантовскими антиномиями: конфликт метафизических объяснений" },
            { source: "petites_perceptions", target: "apriori", type: "dialogue", weight: 1, 
            description: "Малые перцепции Лейбница и кантовское априори: врожденное versus доопытное" },
            { source: "monads", target: "thing_itself", type: "influence", weight: 1, 
            description: "Монады - прообраз вещи-в-себе: непознаваемая внутренняя природа" },
            { source: "transcendental", target: "preestablished", type: "critique", weight: 2, 
            description: "Трансцендентальная философия отвергает гармонию: догматическая метафизика без критики" },

            // ЮМ - ДЕКАРТ
            { source: "impressions", target: "innate_ideas", type: "critique", weight: 2 },

            // КАНТ - ПЛАТОН
            { source: "thing_itself", target: "ideas", type: "critique", weight: 2 },

            // КАНТ - АРИСТОТЕЛЬ
            { source: "categorical", target: "eudaimonia", type: "dialogue", weight: 2 },

            // КАНТ - ФОМА
            { source: "natural_law", target: "categorical", type: "develop", weight: 2 },

            // КАНТ - ДЕКАРТ
            { source: "innate_ideas", target: "synthetic_apriori", type: "develop", weight: 2 },

            // КАНТ - СПИНОЗА
            { source: "autonomy", target: "determinism", type: "oppose", weight: 2, 
            description: "Свобода парадоксально совпадает с необходимостью: понять причины - стать автономным в детерминизме" },

            // КАНТ - НИЦШЕ
            { source: "will_power", target: "autonomy", type: "critique", weight: 2 },
            { source: "god_dead", target: "postulates", type: "critique", weight: 2 },
            { source: "dionysian", target: "sublime", type: "dialogue", weight: 1 },
            { source: "ubermensch", target: "categorical", type: "critique", weight: 2 },
            { source: "perspectivism", target: "thing_itself", type: "critique", weight: 2 },
            { source: "ubermensch", target: "autonomy", type: "critique", weight: 2 },
            { source: "master_morality", target: "categorical", type: "critique", weight: 3 },

            // ФИХТЕ - АРИСТОТЕЛЬ
            { source: "phronesis", target: "practical_primacy", type: "influence", weight: 2 },

            // ФИХТЕ - ДЕКАРТ
            { source: "tathandlung", target: "cogito", type: "critique", weight: 2 },
            { source: "cogito", target: "absolute_ego", type: "develop", weight: 3 },

            // ФИХТЕ - МАРКС
            { source: "tathandlung", target: "praxis", type: "develop", weight: 2 },

            // ГЕГЕЛЬ - НИЦШЕ
            { source: "god_dead", target: "absolute_idea", type: "critique", weight: 3 },
            { source: "eternal_return", target: "dialectic", type: "critique", weight: 2 },

            // ГЕГЕЛЬ - ШОПЕНГАУЭР
            { source: "will_schop", target: "absolute_idea", type: "critique", weight: 3 },

            // ГЕГЕЛЬ - САРТР
            { source: "an_sich_fur_sich", target: "for_itself", type: "develop", weight: 3 },
            { source: "an_sich_fur_sich", target: "in_itself", type: "develop", weight: 3 },
            { source: "negative", target: "nothingness", type: "develop", weight: 2 },

            // ШОПЕНГАУЭР - ВИТГЕНШТЕЙН
            { source: "will_schop", target: "showing_saying", type: "influence", weight: 2 },
            { source: "representation", target: "picture_theory", type: "influence", weight: 2 },
            { source: "aesthetics_schop", target: "limits_language", type: "influence", weight: 1 },

            // КЬЕРКЕГОР - АВГУСТИН
            { source: "time_augustine", target: "moment", type: "develop", weight: 2 },

            // КЬЕРКЕГОР - НИЦШЕ
            { source: "eternal_return", target: "repetition", type: "dialogue", weight: 3 },

            // КЬЕРКЕГОР - САРТР
            { source: "absurd", target: "nothingness", type: "influence", weight: 2 }, 

            // МАРКС - ФУКО
            { source: "episteme", target: "base_superstructure", type: "dialogue", weight: 2 },
            { source: "power_knowledge", target: "ideology", type: "dialogue", weight: 2 },
            { source: "episteme", target: "ideology", type: "dialogue", weight: 2 },
            { source: "biopower", target: "class_struggle", type: "dialogue", weight: 2 },

            // НИЦШЕ - МАРКС
            { source: "slave_morality", target: "ideology", type: "dialogue", weight: 2 },
            { source: "perspectivism", target: "ideology", type: "dialogue", weight: 2 },

            // НИЦШЕ - ФОМА
            { source: "master_morality", target: "natural_law", type: "critique", weight: 2 },

            // НИЦШЕ - ДЕЛЁЗ
            { source: "will_power", target: "desiring_machines", type: "develop", weight: 2 },
            { source: "eternal_return", target: "difference", type: "develop", weight: 2 },
            { source: "ideology", target: "deterritorialization", type: "influence", weight: 1 },
            { source: "dionysian", target: "body_without_organs", type: "influence", weight: 2 },
            { source: "perspectivism", target: "multiplicity", type: "influence", weight: 2 },

            // СПИНОЗА - НИЦШЕ
            { source: "intellectual_love", target: "eternal_return", type: "influence", weight: 2 },
            { source: "eternal_return", target: "determinism", type: "critique", weight: 2 },

            // ГУССЕРЛЬ - САРТР
            { source: "intersubjectivity", target: "look", type: "influence", weight: 2 },

            // ГУССЕРЛЬ - ФИХТЕ
            { source: "intersubjectivity", target: "transcendental_ego", type: "critique", weight: 2 },
            { source: "absolute_ego", target: "transcendental_ego", type: "develop", weight: 3 },

            // ДЕКАРТ - ГУССЕРЛЬ
            { source: "clear_distinct", target: "eidetic", type: "develop", weight: 2 },
            { source: "cogito", target: "transcendental_ego", type: "develop", weight: 3 },
            { source: "method", target: "epoché", type: "develop", weight: 2 },

            // ХАЙДЕГГЕР - АВГУСТИН
            { source: "original_sin", target: "geworfenheit", type: "influence", weight: 1 },

            // ХАЙДЕГГЕР - КАНТ
            { source: "vorhanden", target: "thing_itself", type: "critique", weight: 2 },
            { source: "thing_itself", target: "sein", type: "influence", weight: 2 },
            { source: "transcendental", target: "dasein", type: "develop", weight: 2 },
            { source: "schematism", target: "ereignis", type: "influence", weight: 2 },

            // ХАЙДЕГГЕР - ГЕГЕЛЬ
            { source: "sein", target: "absolute_idea", type: "critique", weight: 3 },

            // ХАЙДЕГГЕР - ГУССЕРЛЬ
            { source: "dasein", target: "transcendental_ego", type: "critique", weight: 2 },
            { source: "sorge", target: "intentionality", type: "develop", weight: 2 },
            { source: "lifeworld", target: "dasein", type: "develop", weight: 2 },
            { source: "intentionality", target: "dasein", type: "develop", weight: 3 },
            { source: "lifeworld", target: "being_in_world", type: "develop", weight: 2 },

            // ХАЙДЕГГЕР - ДЕЛЁЗ
            { source: "event", target: "ereignis", type: "dialogue", weight: 2 },

            // ХАЙДЕГГЕР - ФУКО
            { source: "aletheia", target: "archaeology", type: "influence", weight: 2 },
            { source: "sein", target: "archaeology", type: "influence", weight: 2 },
            { source: "care_self", target: "dwelling", type: "dialogue", weight: 2 },
            { source: "dasein", target: "care_self", type: "influence", weight: 2 },

            // ВИТГЕНШТЕЙН - АРИСТОТЕЛЬ
            { source: "limits_language", target: "categories", type: "critique", weight: 2 },

            // АВГУСТИН - ВИТГЕНШТЕЙН
            { source: "language_game", target: "confession", type: "critique", weight: 1 },

            // ДЕКАРТ - САРТР
            { source: "bad_faith", target: "dualism", type: "critique", weight: 2 },

            // СПИНОЗА - САРТР
            { source: "freedom_sartre", target: "determinism", type: "oppose", weight: 2 },

            // КАНТ - САРТР
            { source: "phenomenon", target: "for_itself", type: "influence", weight: 2 },
            { source: "autonomy", target: "freedom_sartre", type: "influence", weight: 3 },

            // МАРКС - САРТР
            { source: "praxis", target: "engagement", type: "develop", weight: 3 },
            { source: "alienation", target: "bad_faith", type: "influence", weight: 2 },
            { source: "ideology", target: "bad_faith", type: "influence", weight: 2 },

            // ФУКО - СОКРАТ
            { source: "care_soul", target: "care_self", type: "develop", weight: 2 },

            // ФУКО - КАНТ
            { source: "power_knowledge", target: "transcendental", type: "critique", weight: 2 },
            { source: "episteme", target: "apriori", type: "critique", weight: 2 },

            // ФУКО - СПИНОЗА
            { source: "conatus", target: "biopower", type: "develop", weight: 2 },

            // ДЕЛЁЗ - ПАРМЕНИД
            { source: "multiplicity", target: "one_being", type: "oppose", weight: 2 }, 

            // ДЕЛЁЗ - АРИСТОТЕЛЬ
            { source: "act_potency", target: "virtual_actual", type: "develop", weight: 2 },

            // ДЕЛЁЗ - ДЕКАРТ
            { source: "body_without_organs", target: "res_extensa", type: "critique", weight: 2 },

            // ДЕЛЁЗ - СПИНОЗА
            { source: "substance_spinoza", target: "difference", type: "develop", weight: 3 },
            { source: "conatus", target: "desiring_machines", type: "develop", weight: 2 },
            { source: "modes", target: "multiplicity", type: "develop", weight: 2 },
            { source: "attributes", target: "body_without_organs", type: "influence", weight: 2 },

            // ДЕЛЁЗ - ГЕГЕЛЬ
            { source: "difference", target: "dialectic", type: "critique", weight: 3 },
            { source: "rhizome", target: "weltgeist", type: "critique", weight: 2 },

            // ЛОКК - ФОМА
            { source: "natural_law", target: "property_theory", type: "influence", weight: 2 },

            // ЛОКК - МАРКС
            { source: "alienation", target: "property_theory", type: "critique", weight: 3 },
            { source: "property_theory", target: "base_superstructure", type: "develop", weight: 2 },
            { source: "ideology", target: "property_theory", type: "critique", weight: 2 },

            // ЛОКК - ГЕГЕЛЬ
            { source: "property_theory", target: "objective_spirit", type: "influence", weight: 2 },

            // Парменид - Платон
            { source: "being_is", target: "eidos", type: "develop", weight: 3 },
            { source: "being_is", target: "ideas", type: "influence", weight: 3 },
            { source: "one_being", target: "eidos", type: "develop", weight: 3 },
            { source: "immutability", target: "ideas", type: "develop", weight: 2 },
            { source: "way_truth", target: "anamnesis", type: "develop", weight: 2 },
            { source: "way_opinion", target: "cave", type: "influence", weight: 2 },
            { source: "one_being", target: "the_one_plato", type: "develop", weight: 3 },

            // Парменид - Аристотель
            { source: "being_is", target: "categories", type: "develop", weight: 2 },
            { source: "immutability", target: "unmoved_mover", type: "develop", weight: 2 },

            // Парменид - Хайдеггер
            { source: "being_is", target: "sein", type: "develop", weight: 2 },
            { source: "way_truth", target: "aletheia", type: "develop", weight: 2 },

            // Гераклит - Парменид
            { source: "immutability", target: "panta_rhei", type: "oppose", weight: 3 },
            { source: "one_being", target: "fire", type: "oppose", weight: 2 },
            { source: "being_is", target: "unity_opposites", type: "oppose", weight: 3 },

            // Гераклит - Платон
            { source: "panta_rhei", target: "cave", type: "influence", weight: 1 },
            { source: "panta_rhei", target: "chora", type: "influence", weight: 2 },
            { source: "eidos", target: "logos_heraclitus", type: "dialogue", weight: 2 },

            // Гераклит - Аристотель
            { source: "logos_heraclitus", target: "logos", type: "develop", weight: 2 },

            // Гераклит - Гегель
            { source: "unity_opposites", target: "dialectic", type: "develop", weight: 3 },
            { source: "war_father", target: "negative", type: "develop", weight: 3 },
            { source: "hidden_harmony", target: "aufhebung", type: "influence", weight: 2 },
            { source: "panta_rhei", target: "dialectic", type: "develop", weight: 2 },

            // Гераклит - Ницше
            { source: "war_father", target: "will_power", type: "influence", weight: 2 },
            { source: "unity_opposites", target: "dionysian", type: "influence", weight: 2 },

            // Гераклит - Делёз
            { source: "panta_rhei", target: "difference", type: "develop", weight: 2 },
            { source: "fire", target: "desiring_machines", type: "influence", weight: 1 },

            // Пифагор - Парменид
            { source: "number_essence", target: "sphere_being", type: "influence", weight: 1 },
            { source: "being_is", target: "number_essence", type: "dialogue", weight: 2 },

            // Пифагор - Платон
            { source: "number_essence", target: "ideas", type: "develop", weight: 3 },
            { source: "harmony_spheres", target: "demiurge", type: "influence", weight: 2 },
            { source: "metempsychosis", target: "anamnesis", type: "develop", weight: 2 },
            { source: "metempsychosis", target: "tripartite_soul", type: "influence", weight: 2 },
            { source: "tetraktys", target: "good", type: "develop", weight: 1 },
            { source: "tetraktys", target: "the_one_plato", type: "influence", weight: 2 },

            // Пифагор - Аристотель
            { source: "number_essence", target: "form", type: "influence", weight: 2 },
            { source: "harmony_spheres", target: "unmoved_mover", type: "influence", weight: 1 },

            // Пифагор - Кант
            { source: "music_mathematics", target: "aesthetic_judgment", type: "influence", weight: 1 },

            // Бэкон - Декарт
            { source: "method", target: "induction", type: "dialogue", weight: 2 },
            { source: "clear_distinct", target: "idols_cave", type: "dialogue", weight: 1 },

            // Бэкон - Локк
            { source: "induction", target: "tabula_rasa", type: "develop", weight: 3 },
            { source: "new_organon", target: "simple_ideas", type: "develop", weight: 2 },
            { source: "idols", target: "primary_qualities", type: "influence", weight: 2 },

            // Бэкон - Юм
            { source: "induction", target: "custom", type: "influence", weight: 2 },
            { source: "idols_marketplace", target: "impressions", type: "influence", weight: 1 },

            // Бэкон - Конт
            { source: "knowledge_power", target: "positive_knowledge", type: "influence", weight: 2 },
            { source: "new_organon", target: "hierarchy_sciences", type: "influence", weight: 2 },

            // Бэкон - Витгенштейн
            { source: "idols_marketplace", target: "language_game", type: "influence", weight: 2 },

            // Конт - Дьюи
            { source: "positive_knowledge", target: "instrumentalism", type: "influence", weight: 2 },
            { source: "sociology", target: "democracy_education", type: "influence", weight: 2 },

            // Конт - Кант
            { source: "three_stages", target: "antinomies", type: "critique", weight: 2 },
            { source: "positive_knowledge", target: "thing_itself", type: "critique", weight: 2 },

            // Конт - Гегель
            { source: "three_stages", target: "weltgeist", type: "dialogue", weight: 2 },
            { source: "positive_knowledge", target: "absolute_idea", type: "critique", weight: 2 },

            // Конт - Фуко
            { source: "three_stages", target: "episteme", type: "influence", weight: 2 },
            { source: "sociology", target: "discipline", type: "influence", weight: 1 },

            // Дьюи - Локк
            { source: "tabula_rasa", target: "experience_dewey", type: "influence", weight: 2 },
            { source: "complex_ideas", target: "inquiry", type: "influence", weight: 1 },

            // Дьюи - Юм
            { source: "custom", target: "warranted_assertibility", type: "influence", weight: 2 },

            // Дьюи - Фихте
            { source: "inquiry", target: "tathandlung", type: "dialogue", weight: 2 },
            { source: "practical_primacy", target: "instrumentalism", type: "develop", weight: 2 },

            // Дьюи - Маркс
            { source: "inquiry", target: "praxis", type: "dialogue", weight: 2 },
            { source: "democracy_education", target: "historical_materialism", type: "dialogue", weight: 1 },

            // Дьюи - Витгенштейн
            { source: "learning_doing", target: "form_of_life", type: "influence", weight: 2 },

            // Фреге - Лейбниц
            { source: "sufficient_reason", target: "logicism", type: "influence", weight: 2 },

            // Фреге - Кант
            { source: "logicism", target: "synthetic_apriori", type: "critique", weight: 2 },

            // Фреге →- Рассел
            { source: "logicism", target: "logical_atomism", type: "influence", weight: 3 },
            { source: "sense_reference", target: "theory_descriptions", type: "influence", weight: 3 },
            { source: "function_argument", target: "logical_atomism", type: "influence", weight: 2 },
            { source: "begriffsschrift", target: "logical_atomism", type: "influence", weight: 2 },

            // Фреге - Витгенштейн
            { source: "sense_reference", target: "picture_theory", type: "influence", weight: 3 },
            { source: "context_principle", target: "language_game", type: "influence", weight: 2 },
            { source: "thought", target: "showing_saying", type: "influence", weight: 2 },

            // Фреге - Гуссерль
            { source: "thought", target: "noesis_noema", type: "dialogue", weight: 2, bidirectional: true },
            { source: "sense_reference", target: "intentionality", type: "influence", weight: 1 },

            // Рассел - Локк
            { source: "simple_ideas", target: "sense_data", type: "influence", weight: 2 },
            { source: "primary_qualities", target: "external_world", type: "influence", weight: 2 },

            // Рассел - Юм
            { source: "impressions", target: "sense_data", type: "influence", weight: 3 },
            { source: "ideas_hume", target: "acquaintance_description", type: "influence", weight: 2 },

            // Рассел - Витгенштейн
            { source: "logical_atomism", target: "picture_theory", type: "influence", weight: 3 },
            { source: "logical_atomism", target: "limits_language", type: "influence", weight: 2 },
            { source: "theory_descriptions", target: "language_game", type: "influence", weight: 2 },

            // Рассел - Гуссерль
            { source: "sense_data", target: "epoché", type: "dialogue", weight: 1, bidirectional: true },

            // Лакан - Декарт
            { source: "mirror_stage", target: "cogito", type: "critique", weight: 2 },

            // Лакан - Гегель
            { source: "master_slave", target: "mirror_stage", type: "influence", weight: 3 },
            { source: "dialectic", target: "desire_other", type: "influence", weight: 2 },

            // Лакан - Кьеркегор
            { source: "anxiety", target: "lack", type: "influence", weight: 2 },
            { source: "despair", target: "lack", type: "influence", weight: 2 },

            // Лакан - Сартр
            { source: "look", target: "mirror_stage", type: "influence", weight: 2 },
            { source: "nothingness", target: "lack", type: "influence", weight: 2 },
            { source: "for_itself", target: "desire_other", type: "influence", weight: 2 },

            // Лакан - Хайдеггер
            { source: "das_man", target: "big_other", type: "influence", weight: 2 },

            // Лакан - Витгенштейн
            { source: "signifier", target: "language_game", type: "dialogue", weight: 2 },
            { source: "big_other", target: "form_of_life", type: "dialogue", weight: 2 },

            // Лакан - Фуко
            { source: "big_other", target: "power_knowledge", type: "dialogue", weight: 2, bidirectional: true },
            { source: "desire_other", target: "biopower", type: "dialogue", weight: 1, bidirectional: true },

            // Бэкон - Спиноза
            { source: "adequate_ideas", target: "induction", type: "dialogue", weight: 1 },

            // Конт - Ницше
            { source: "perspectivism", target: "positive_knowledge", type: "oppose", weight: 2 },
            { source: "god_dead", target: "three_stages", type: "dialogue", weight: 1 },

            // Дьюи - Хайдеггер
            { source: "dasein", target: "experience_dewey", type: "dialogue", weight: 2 },
            { source: "sorge", target: "inquiry", type: "dialogue", weight: 1 },

            // Рассел - Хайдеггер
            { source: "logical_atomism", target: "sein", type: "oppose", weight: 2, bidirectional: true },
            { source: "external_world", target: "dasein", type: "dialogue", weight: 1, bidirectional: true },

            // Бергсон - Кант
            { source: "duree", target: "apriori", type: "critique", weight: 2 }, 
            { source: "thing_itself", target: "intuition_bergson", type: "develop", weight: 2 }, 

            // Бергсон  Спиноза
            { source: "conatus", target: "elan_vital", type: "influence", weight: 3 }, 
            { source: "intellectual_love", target: "intuition_bergson", type: "influence", weight: 1 }, 

            // Бергсон - Шопенгауэр
            { source: "will_schop", target: "elan_vital", type: "influence", weight: 3 }, 
            { source: "representation", target: "intellect_spatialization", type: "influence", weight: 2 }, 

            // Бергсон - Рассел
            { source: "duree", target: "logical_atomism", type: "oppose", weight: 2, bidirectional: true }, 
            { source: "intuition_bergson", target: "sense_data", type: "critique", weight: 1, bidirectional: true }, 

            // Бергсон - Хайдеггер
            { source: "duree", target: "sein_zum_tode", type: "influence", weight: 1 }, 
            { source: "zuhanden", target: "pure_perception", type: "dialogue", weight: 1, bidirectional: true },
            { source: "pure_perception", target: "dasein", type: "influence", weight: 1 }, 
            { source: "duree", target: "dasein", type: "influence", weight: 2 },
            { source: "creative_evolution", target: "ereignis", type: "influence", weight: 1 },

            // Бергсон - Сартр 
            { source: "creative_evolution", target: "freedom_sartre", type: "influence", weight: 2 }, 
            { source: "intuition_bergson", target: "nothingness", type: "influence", weight: 1 }, 
            { source: "duree", target: "for_itself", type: "influence", weight: 3 },

            // Бергсон - Делёз 
            { source: "duree", target: "difference", type: "influence", weight: 3 }, 
            { source: "elan_vital", target: "desiring_machines", type: "influence", weight: 3 }, 
            { source: "creative_evolution", target: "virtual_actual", type: "influence", weight: 3 }, 
            { source: "intuition_bergson", target: "event", type: "influence", weight: 2 }, 
            { source: "elan_vital", target: "difference", type: "develop", weight: 2 },
            { source: "intuition_bergson", target: "multiplicity", type: "develop", weight: 2 },
            { source: "matter_memory", target: "virtual_actual", type: "influence", weight: 3 }, 
            { source: "pure_perception", target: "body_without_organs", type: "influence", weight: 2 },
            { source: "duree", target: "rhizome", type: "influence", weight: 1 },
            { source: "matter_memory", target: "body_without_organs", type: "influence", weight: 2 },
            { source: "image_bergson", target: "assemblage", type: "influence", weight: 2 },

            // ХАЙДЕГГЕР - САРТР
            { source: "dasein", target: "existence", type: "develop", weight: 2 },
            { source: "sein", target: "nothingness", type: "develop", weight: 2 },
            { source: "dasein", target: "for_itself", type: "develop", weight: 3 },
            { source: "freedom_sartre", target: "geworfenheit", type: "dialogue", weight: 2, bidirectional: true },
            { source: "sein_zum_tode", target: "freedom_sartre", type: "influence", weight: 2 },
            { source: "geworfenheit", target: "bad_faith", type: "influence", weight: 2 },

            // НИЦШЕ - ФУКО
            { source: "master_slave", target: "power_knowledge", type: "influence", weight: 3 },
            { source: "perspectivism", target: "episteme", type: "influence", weight: 2 },
            { source: "eternal_return", target: "archaeology", type: "develop", weight: 3 },
            { source: "will_power", target: "power_knowledge", type: "develop", weight: 3 },

            // ГЕГЕЛЬ - МАРКС
            { source: "base_superstructure", target: "objective_spirit", type: "critique", weight: 3 },
            { source: "entfremdung", target: "alienation", type: "influence", weight: 3 },
            { source: "historical_materialism", target: "cunning_reason", type: "critique", weight: 2 },
            { source: "alienation", target: "objective_spirit", type: "critique", weight: 2 },
            { source: "dialectic", target: "historical_materialism", type: "develop", weight: 3 },
            { source: "ideology", target: "absolute_idea", type: "critique", weight: 2 },
            { source: "ideology", target: "objective_spirit", type: "critique", weight: 2 },
            { source: "praxis", target: "absolute_idea", type: "critique", weight: 3 },
            { source: "master_slave", target: "class_struggle", type: "develop", weight: 3 },

            // ЮМ - КАНТ
            { source: "causality_critique", target: "synthetic_apriori", type: "influence", weight: 3 },
            { source: "custom", target: "transcendental", type: "critique", weight: 2, bidirectional: true },
            { source: "apriori", target: "impressions", type: "critique", weight: 3, bidirectional: true, 
            description: "Априори опровергает юмовский эмпиризм: опыт уже структурирован доопытными формами" },

            // ПЛАТОН - ФОМА
            { source: "eidos", target: "essence_existence", type: "influence", weight: 3 },
            { source: "participatio", target: "methexis", type: "apply", weight: 3 },

            // АРИСТОТЕЛЬ - ФОМА
            { source: "unmoved_mover", target: "five_ways", type: "influence", weight: 3 },
            { source: "entelechy", target: "actual_being", type: "influence", weight: 3 },
            { source: "form", target: "essence_existence", type: "influence", weight: 3 },
            { source: "four_causes", target: "five_ways", type: "influence", weight: 2 },
            { source: "act_potency", target: "essence_existence", type: "influence", weight: 3 },
            { source: "form", target: "thomistic_synthesis", type: "develop", weight: 2 },

            // АВГУСТИН - БЕРГСОН
            { source: "time_augustine", target: "duree", type: "influence", weight: 2 },

            // АВГУСТИН - ДЕКАРТ
            { source: "confession", target: "cogito", type: "influence", weight: 2 },

            // КАНТ - ФИХТЕ
            { source: "thing_itself", target: "absolute_ego", type: "influence", weight: 3 },
            { source: "antinomies", target: "tathandlung", type: "influence", weight: 2 },
            { source: "autonomy", target: "practical_primacy", type: "influence", weight: 3 },
            { source: "transcendental", target: "absolute_ego", type: "develop", weight: 3 },

            // КАНТ - ГЕГЕЛЬ
            { source: "thing_itself", target: "absolute_idea", type: "influence", weight: 2 },
            { source: "antinomies", target: "dialectic", type: "influence", weight: 3 },
            { source: "thing_itself", target: "dialectic", type: "synthesize", weight: 2 },

            // ФИХТЕ - ГЕГЕЛЬ
            { source: "tathandlung", target: "negative", type: "influence", weight: 3 },
            { source: "tathandlung", target: "dialectic", type: "influence", weight: 2 },
            { source: "non_ego", target: "aufhebung", type: "synthesize", weight: 2 },
            { source: "absolute_ego", target: "absolute_idea", type: "develop", weight: 3 },

            // ГЕГЕЛЬ - КЬЕРКЕГОР
            { source: "individual", target: "weltgeist", type: "oppose", weight: 3 },
            { source: "subjective_truth", target: "objective_spirit", type: "oppose", weight: 2 },
            { source: "stages_existence", target: "dialectic", type: "critique", weight: 2 },
            { source: "leap_faith", target: "aufhebung", type: "oppose", weight: 2 },
            { source: "individual", target: "absolute_idea", type: "critique", weight: 3 },
            { source: "leap_faith", target: "dialectic", type: "critique", weight: 2 },

            // КАНТ - ШОПЕНГАУЭР
            { source: "thing_itself", target: "will_schop", type: "develop", weight: 3 },
            { source: "sublime", target: "aesthetics_schop", type: "influence", weight: 2 },
            { source: "transcendental", target: "aesthetics_schop", type: "influence", weight: 2 },
            { source: "compassion", target: "categorical", type: "critique", weight: 2 },
            { source: "phenomenon", target: "representation", type: "develop", weight: 2 },

            // ШОПЕНГАУЭР - НИЦШЕ
            { source: "representation", target: "perspectivism", type: "influence", weight: 2 },
            { source: "dionysian", target: "suffering", type: "critique", weight: 2 },
            { source: "will_power", target: "will_schop", type: "oppose", weight: 3 },
            { source: "apollonian", target: "representation", type: "dialogue", weight: 1 },

            // НИЦШЕ - ВИТГЕНШТЕЙН
            { source: "perspectivism", target: "language_game", type: "influence", weight: 2 },

            // ШОПЕНГАУЭР - САРТР
            { source: "will_schop", target: "for_itself", type: "influence", weight: 2 },

            // НИЦШЕ - САРТР
            { source: "god_dead", target: "nothingness", type: "influence", weight: 2 },
            { source: "master_slave", target: "look", type: "develop", weight: 3 },

            // ВИТГЕНШТЕЙН - ФУКО
            { source: "language_game", target: "episteme", type: "influence", weight: 2 },

            // ВИТГЕНШТЕЙН - ГУССЕРЛЬ
            { source: "lifeworld", target: "form_of_life", type: "influence", weight: 2 },

            // БЕРГСОН - ГУССЕРЛЬ
            { source: "duree", target: "lifeworld", type: "dialogue", weight: 2, bidirectional: true }, 
            { source: "intuition_bergson", target: "eidetic", type: "dialogue", weight: 1, bidirectional: true }, 
            { source: "pure_perception", target: "intentionality", type: "dialogue", weight: 2, bidirectional: true }, 

            // БЕРГСОН - НИЦШЕ
            { source: "elan_vital", target: "will_power", type: "dialogue", weight: 2 },
            { source: "dionysian", target: "duree", type: "influence", weight: 1 }, 

            // СПИНОЗА - ГЕГЕЛЬ
            { source: "substance_spinoza", target: "absolute_idea", type: "influence", weight: 3 },
            { source: "dialectic", target: "determinism", type: "dialogue", weight: 2 },
            { source: "conatus", target: "negative", type: "influence", weight: 2 },
            { source: "adequate_ideas", target: "absolute_idea", type: "influence", weight: 2 },

            //СПИНОЗА - ФИХТЕ
            { source: "conatus", target: "striving", type: "influence", weight: 2 },

            // ЛЕЙБНИЦ - ГЕГЕЛЬ
            { source: "monads", target: "absolute_ego", type: "influence", weight: 2 },

            // ЛЕЙБНИЦ - ГУССЕРЛЬ
            { source: "petites_perceptions", target: "lifeworld", type: "influence", weight: 1 },
            { source: "apperception", target: "intentionality", type: "develop", weight: 2 },
            { source: "apperception", target: "transcendental_ego", type: "develop", weight: 2 },

            // ЛАКАН - ДЕЛЁЗ 
            { source: "objet_petit_a", target: "desiring_machines", type: "critique", weight: 2, bidirectional: true },
            { source: "big_other", target: "rhizome", type: "oppose", weight: 2, bidirectional: true },
            { source: "desire_other", target: "desiring_machines", type: "dialogue", weight: 3, bidirectional: true },
            { source: "objet_petit_a", target: "body_without_organs", type: "dialogue", weight: 2, bidirectional: true },
            { source: "three_registers", target: "rhizome", type: "dialogue", weight: 1, bidirectional: true },

            // ФУКО - ДЕЛЁЗ 
            { source: "power_knowledge", target: "desiring_machines", type: "dialogue", weight: 2, bidirectional: true },
            { source: "biopower", target: "body_without_organs", type: "dialogue", weight: 2, bidirectional: true },

            // ГЕРАКЛИТ - БЕРГСОН
            { source: "panta_rhei", target: "duree", type: "influence", weight: 2 },

            // ФИХТЕ - САРТР
            { source: "striving", target: "freedom_sartre", type: "influence", weight: 2 },

            // БЕРГСОН - ДЕКАРТ
            { source: "matter_memory", target: "res_extensa", type: "dialogue", weight: 1 },

            // ФРЕГЕ - ЛАКАН
            { source: "signifier", target: "sense_reference", type: "dialogue", weight: 2 },

            // ПЛАТОН - ГЕГЕЛЬ
            { source: "ideal_state", target: "objective_spirit", type: "influence", weight: 2 },

            // КАНТ - ШЕЛЛИНГ
            { source: "thing_itself", target: "absolute_identity", type: "develop", weight: 3 },
            { source: "intellectual_intuition", target: "transcendental", type: "critique", weight: 2 },
            { source: "aesthetic_judgment", target: "aesthetic_production", type: "influence", weight: 2 },
            { source: "synthetic_apriori", target: "transcendental_idealism_system", type: "develop", weight: 3 }, 

            // ФИХТЕ - ШЕЛЛИНГ    
            { source: "absolute_ego", target: "absolute_identity", type: "develop", weight: 3 },
            { source: "tathandlung", target: "intellectual_intuition", type: "develop", weight: 2 },
            { source: "wissenschaftslehre", target: "transcendental_idealism_system", type: "develop", weight: 3 },
            { source: "imagination", target: "aesthetic_production", type: "influence", weight: 2 },
            
            // СПИНОЗА - ШЕЛЛИНГ
            { source: "substance_spinoza", target: "absolute_identity", type: "influence", weight: 3 },
            { source: "natura_naturans", target: "naturphilosophie", type: "develop", weight: 3 },
            { source: "intellectual_love", target: "intellectual_intuition", type: "influence", weight: 2 },

            // ШЕЛЛИНГ - ГЕГЕЛЬ
            { source: "absolute_identity", target: "absolute_idea", type: "develop", weight: 3 },
            { source: "potencies", target: "dialectic", type: "influence", weight: 2 },
            { source: "naturphilosophie", target: "objective_spirit", type: "influence", weight: 2 },
            { source: "intellectual_intuition", target: "absolute_idea", type: "critique", weight: 2, bidirectional: true },

            // ШЕЛЛИНГ - ХАЙДЕГГЕР
            { source: "philosophy_revelation", target: "aletheia", type: "influence", weight: 2 },
            { source: "potencies", target: "ereignis", type: "influence", weight: 1 },

            // МЕЙНОНГ - РАССЕЛ
            { source: "non_existent_objects", target: "theory_descriptions", type: "critique", weight: 3 },
            { source: "sosein", target: "logical_atomism", type: "dialogue", weight: 2 },

            // МЕЙНОНГ - ГУССЕРЛЬ
            { source: "assumptions", target: "intentionality", type: "dialogue", weight: 2, bidirectional: true },
            { source: "object_theory", target: "eidetic", type: "influence", weight: 2 },

            // ШОПЕНГАУЭР - ФРЕЙД
            { source: "will_schop", target: "unconscious", type: "develop", weight: 3 },
            { source: "suffering", target: "pleasure_principle", type: "influence", weight: 2 },
            { source: "will_schop", target: "death_drive", type: "influence", weight: 2 },

            // НИЦШЕ - ФРЕЙД
            { source: "death_drive", target: "will_power", type: "dialogue", weight: 2 },
            { source: "dionysian", target: "unconscious", type: "influence", weight: 2 },

            // ФРЕЙД - ЛАКАН
            { source: "unconscious", target: "big_other", type: "develop", weight: 3 },
            { source: "oedipus_complex", target: "mirror_stage", type: "develop", weight: 3 },
            { source: "dream_work", target: "signifier", type: "develop", weight: 2 },
            { source: "repression", target: "three_registers", type: "develop", weight: 2 },
            { source: "transference", target: "desire_other", type: "develop", weight: 3 },
            { source: "death_drive", target: "objet_petit_a", type: "influence", weight: 2 },

            // ФРЕЙД - САРТР
            { source: "bad_faith", target: "unconscious", type: "critique", weight: 2 },
            { source: "for_itself", target: "repression", type: "dialogue", weight: 1 },

            // ФРЕЙД - ДЕЛЁЗ
            { source: "desiring_machines", target: "unconscious", type: "critique", weight: 3 },
            { source: "body_without_organs", target: "oedipus_complex", type: "critique", weight: 2 },
            { source: "death_drive", target: "desiring_machines", type: "develop", weight: 2 },

            // ФРЕЙД - ФУКО
            { source: "power_knowledge", target: "repression", type: "critique", weight: 2 },
            { source: "care_self", target: "id_ego_superego", type: "dialogue", weight: 2 },

            // ХАЙДЕГГЕР - ГАДАМЕР
            { source: "sein", target: "hermeneutic_circle", type: "develop", weight: 3 },
            { source: "dasein", target: "horizon_understanding", type: "develop", weight: 3 },
            { source: "kehre", target: "effective_history", type: "develop", weight: 3 },
            { source: "being_in_world", target: "hermeneutic_circle", type: "influence", weight: 2 },
            { source: "aletheia", target: "tradition_gadamer", type: "influence", weight: 2 },

            // ГУССЕРЛЬ - ГАДАМЕР
            { source: "lifeworld", target: "tradition_gadamer", type: "influence", weight: 2 },
            { source: "intentionality", target: "horizon_understanding", type: "influence", weight: 2 },

            //ХАЙДЕГГЕР - ЛЕВИНАС
            { source: "ethics_first_philosophy", target: "sein", type: "critique", weight: 3 },
            { source: "other_levinas", target: "sorge", type: "critique", weight: 3 },
            { source: "face", target: "dasein", type: "critique", weight: 2 },
            { source: "other_levinas", target: "being_in_world", type: "critique", weight: 2 },

            // ГУССЕРЛЬ - ЛЕВИНАС
            { source: "intentionality", target: "face", type: "develop", weight: 2 },
            { source: "other_levinas", target: "transcendental_ego", type: "critique", weight: 3 },
            { source: "responsibility", target: "intersubjectivity", type: "critique", weight: 2 },

            // ДЕКАРТ - ЛЕВИНАС
            { source: "other_levinas", target: "cogito", type: "critique", weight: 2 },
            { source: "infinite_idea", target: "infinity_levinas", type: "develop", weight: 3 },

            // ПЛАТОН - ЛЕВИНАС
            { source: "good", target: "infinity_levinas", type: "influence", weight: 2 },
            { source: "face", target: "eidos", type: "dialogue", weight: 1 },

            // ЛЕВИНАС - ДЕЛЁЗ
            { source: "other_levinas", target: "difference", type: "dialogue", weight: 2, bidirectional: true },
            { source: "infinity_levinas", target: "multiplicity", type: "dialogue", weight: 1, bidirectional: true },

            // ГАДАМЕР - ФУКО
            { source: "tradition_gadamer", target: "episteme", type: "dialogue", weight: 2, bidirectional: true },
            { source: "effective_history", target: "archaeology", type: "influence", weight: 2 },

            // ГЕГЕЛЬ - ДИЛЬТЕЙ
            { source: "objective_spirit", target: "objective_spirit_dilthey", type: "develop", weight: 3 },
            { source: "weltgeist", target: "leben_dilthey", type: "influence", weight: 2 },

            // КАНТ - ДИЛЬТЕЙ 
            { source: "historical_reason", target: "transcendental", type: "critique", weight: 3 },
            { source: "verstehen", target: "synthetic_apriori", type: "dialogue", weight: 2 },

            // ДИЛЬТЕЙ - ХАЙДЕГГЕР 
            { source: "erlebnis", target: "geworfenheit", type: "develop", weight: 2 },
            { source: "hermeneutics_life", target: "sein", type: "develop", weight: 3 },
            { source: "verstehen", target: "dasein", type: "develop", weight: 2 },
            { source: "leben_dilthey", target: "sein", type: "influence", weight: 2 },
            { source: "historical_reason", target: "kehre", type: "develop", weight: 3 },

            // ДИЛЬТЕЙ - ГАДАМЕР
            { source: "verstehen", target: "hermeneutic_circle", type: "develop", weight: 3 },
            { source: "tradition_gadamer", target: "hermeneutics_life", type: "critique", weight: 2 },
            { source: "geisteswissenschaften", target: "horizon_understanding", type: "develop", weight: 2 },
            { source: "erlebnis", target: "fusion_horizons", type: "influence", weight: 2 },
            { source: "objective_spirit_dilthey", target: "effective_history", type: "develop", weight: 2 },

            // ДИЛЬТЕЙ - ГУССЕРЛЬ 
            { source: "erlebnis", target: "lifeworld", type: "influence", weight: 2 },

            // БЕРГСОН - ДИЛЬТЕЙ
            { source: "duree", target: "erlebnis", type: "dialogue", weight: 2, bidirectional: true },
            { source: "intuition_bergson", target: "verstehen", type: "dialogue", weight: 2, bidirectional: true },

            // НИЦШЕ - ДИЛЬТЕЙ 
            { source: "perspectivism", target: "historical_reason", type: "dialogue", weight: 1, bidirectional: true },

            // АРИСТОТЕЛЬ - БРЕНТАНО
            { source: "nous_poietikos", target: "intentionality_brentano", type: "influence", weight: 2 },
            { source: "form", target: "immanent_objectivity", type: "influence", weight: 2 },

            // ФОМА - БРЕНТАНО
            { source: "essence_existence", target: "intentionality_brentano", type: "influence", weight: 2 },

            // БРЕНТАНО - ГУССЕРЛЬ
            { source: "intentionality_brentano", target: "intentionality", type: "develop", weight: 3 },
            { source: "descriptive_psychology", target: "eidetic", type: "develop", weight: 3 },
            { source: "immanent_objectivity", target: "noesis_noema", type: "develop", weight: 2 },
            { source: "inner_perception", target: "epoché", type: "influence", weight: 2 },
            { source: "evidence_brentano", target: "transcendental_ego", type: "develop", weight: 2 },
            { source: "judgment_presentation", target: "noesis_noema", type: "influence", weight: 2 },

            // БРЕНТАНО - МЕЙНОНГ 
            { source: "intentionality_brentano", target: "object_theory", type: "develop", weight: 3 },
            { source: "immanent_objectivity", target: "non_existent_objects", type: "develop", weight: 3 },
            { source: "judgment_presentation", target: "assumptions", type: "develop", weight: 2 },
            { source: "descriptive_psychology", target: "sosein", type: "influence", weight: 2 },

            // БРЕНТАНО - ФРЕЙД 
            { source: "unconscious", target: "descriptive_psychology", type: "critique", weight: 2 },
            { source: "repression", target: "inner_perception", type: "critique", weight: 2 },
            { source: "psychical_physical", target: "id_ego_superego", type: "influence", weight: 1 },

            // БРЕНТАНО - ХАЙДЕГГЕР 
            { source: "intentionality_brentano", target: "being_in_world", type: "develop", weight: 2 },
            { source: "immanent_objectivity", target: "dasein", type: "influence", weight: 1 },

            // ДЕКАРТ - БРЕНТАНО 
            { source: "res_cogitans", target: "psychical_physical", type: "influence", weight: 2 },
            { source: "cogito", target: "inner_perception", type: "influence", weight: 2 },

            // ЮМ - БРЕНТАНО
            { source: "descriptive_psychology", target: "impressions", type: "dialogue", weight: 1 },

            // КАНТ - БРЕНТАНО
            { source: "descriptive_psychology", target: "transcendental", type: "dialogue", weight: 2 },
            { source: "evidence_brentano", target: "apriori", type: "dialogue", weight: 1 },

            // ЛЕВИНАС - САРТР
            { source: "other_levinas", target: "look", type: "oppose", weight: 3, bidirectional: true, 
            description: "Другой как этическая эпифания против объективирующего взгляда: Левинас критикует редукцию Другого к объекту" },
            { source: "ethics_first_philosophy", target: "freedom_sartre", type: "critique", weight: 3, bidirectional: true, 
            description: "Этика первичнее свободы: Левинас против сартровского примата свободы — ответственность предшествует выбору" },
            { source: "face", target: "look", type: "oppose", weight: 3, bidirectional: true, 
            description: "Лицо против взгляда: этический призыв 'не убий' против объективации через взгляд" },
            { source: "responsibility", target: "freedom_sartre", type: "oppose", weight: 3, bidirectional: true, 
            description: "Ответственность до свободы: я ответственен прежде чем свободен — критика сартровской автономии" },
            { source: "other_levinas", target: "for_itself", type: "critique", weight: 2, bidirectional: true, 
            description: "Другой против эгологии для-себя: Левинас критикует сартровский примат субъективности" },
            { source: "engagement", target: "responsibility", type: "dialogue", weight: 2, bidirectional: true, 
            description: "Ангажированность и ответственность: обе об обязательстве, но у Сартра — из свободы, у Левинаса — до свободы" },
            { source: "bad_faith", target: "responsibility", type: "oppose", weight: 2, bidirectional: true, 
            description: "Недобросовестность против безусловной ответственности: нельзя избежать ответственности за Другого" },

        ];

        // Создаём карту философов по id -> имя на русском
        const philosopherIdToName = {};
        philosophers.forEach(p => {
            philosopherIdToName[p.id] = p.nameRu;
        });
        
        // Создаём объект philosopherConcepts для совместимости с существующим кодом
        const philosopherConcepts = {};
        philosophers.forEach(p => {
            philosopherConcepts[p.nameRu] = {
                color: p.color,
                years: p.years
            };
        });
        
        // Создаём объект philosopherOrder (уже есть в старом коде, но можно регенерировать)
        const philosopherOrder = {};
        philosophers.forEach(p => {
            philosopherOrder[p.nameRu] = p.birth;
        });
        
        // Преобразуем relationTypes из массива в объект
        const relationTypesObj = {};
        relationTypes.forEach(rt => {
            relationTypesObj[rt.id] = {
                color: rt.color,
                label: rt.label
            };
        });

        // Создаём объект linkColors для быстрого доступа к цветам связей
        const linkColors = {};
        relationTypes.forEach(rt => {
            linkColors[rt.id] = rt.color;
        });
        
        // Создаём nodes из concepts
        const nodes = concepts.map(c => ({
            id: c.id,
            label: c.label,
            concept: philosopherIdToName[c.philosopher], // Преобразуем id в имя
            rubrics: c.rubrics || [],
            description: c.description,
            extendedDescription: c.extendedDescription
        }));
        
        // Создаём links из relations
        const links = relations.map(r => ({
            source: r.source,
            target: r.target,
            type: r.type,
            weight: r.weight || 2, // Вес по умолчанию, если не указан
            bidirectional: r.bidirectional || false,
            description: r.description,
        }));
        
        // Создаём обратный индекс концепция -> рубрики
        const conceptToRubrics = {};
        concepts.forEach(c => {
            conceptToRubrics[c.id] = c.rubrics || [];
        });
        
        // Создаём объект rubrics для совместимости
        const rubricsObj = {};
        rubrics.forEach(r => {
            rubricsObj[r.name] = {
                concepts: concepts.filter(c => c.rubrics && c.rubrics.includes(r.id)).map(c => c.id),
                description: r.description
            };
        });
        
        // Индивидуальные веса для связей (примеры ключевых связей)
        const specificWeights = {
            // Фундаментальные сильные связи (вес 3)
            "ideas-form": 3,                    // Платон → Аристотель (критика идей)
            "eidos-form": 3,                    // Эйдос → Форма (развитие)
            "cogito-dualism": 3,                // Cogito обосновывает дуализм
            "substance_spinoza-modes": 3,       // Субстанция обосновывает модусы
            "dialectic-absolute_idea": 3,       // Диалектика обосновывает абсолютную идею
            "will_schop-representation": 3,     // Воля противостоит представлению
            "thing_itself-phenomenon": 3,       // Вещь в себе vs феномен
            "existence-nothingness": 3,         // Существование обосновывает Ничто
            "intentionality-epoché": 3,         // Интенциональность обосновывает эпохе
            "dasein-sein": 3,                   // Dasein обосновывает Sein
            
            // Исторически значимые влияния (вес 3)
            "form-essence_existence": 3,        // Аристотель → Фома
            "absolute_ego-absolute_idea": 3,    // Фихте → Гегель
            "dialectic-historical_materialism": 3, // Гегель → Маркс
            "will_schop-will_power": 3,         // Шопенгауэр → Ницше
            "transcendental-absolute_ego": 3,   // Кант → Фихте
            
            // Внутренние противоречия (вес 2-3 в зависимости от центральности)
            "thing_itself-phenomenon_internal": 3, // Центральная антиномия Канта
            "res_cogitans-res_extensa_internal": 3, // Центральная проблема Декарта
            "freedom_sartre-bad_faith_internal": 2, // Важная, но не единственная тема
            
            // Средние связи (вес 2) - существенные, но не критичные
            "maieutics-anamnesis": 2,
            "care_soul-tripartite_soul": 2,
            "four_causes-five_ways": 2,
            "impressions-ideas_hume": 2,
            "apriori-phenomenon": 2,
            "master_slave-dialectic": 2,
            
            // Слабые связи (вес 1) - косвенные влияния
            "daimonion-subjective_truth": 1,    // Дальняя связь Сократ → Кьеркегор
            "demiurge-best_worlds": 1,          // Периферийное влияние
            "tripartite_soul-golden_mean": 1,   // Косвенное влияние
            "geworfenheit-original_sin": 1,     // Тематическая параллель, не прямое влияние
            
            // Аристотель
            "act_potency-form": 3,
            "act_potency-matter_ar": 3,
            "act_potency-entelechy": 3,
            "act_potency-essence_existence": 3,  // Ключевое влияние на томизм
            
            // Платон
            "good-ideas": 3,
            "good-eidos": 3,
            "eros-anamnesis": 2,
            "eros-good": 2,
            
            // Гегель
            "dialectic-entfremdung": 2,
            "entfremdung-objective_spirit": 2,
            "entfremdung-alienation": 3,  // Важная историческая связь
            
            // Кант
            "antinomies-thing_itself": 3,
            "antinomies-dialectic": 3,  // Ключевое влияние
            
            // Ницше
            "dionysian-apollonian": 3,  // Центральная оппозиция
            "dionysian-will_power": 2,
            "apollonian-will_power": 2,
            "ressentiment-slave_morality": 3,
            
            // Хайдеггер
            "das_man-dasein": 2,
            
            // Платон: новые веса
            "methexis-eidos": 3,                    // Центральная связь платонизма
            "methexis-cave": 2,
            "mimesis-methexis": 2,
            "chora-demiurge": 2,
            
            // Аристотель: новые веса
            "phronesis-golden_mean": 3,
            "phronesis-virtue_knowledge": 3,        // Развитие сократовской этики
            "eudaimonia-entelechy": 3,
            "logos-form": 3,
            "eudaimonia-categorical": 2,            // Важная критика Кантом
            
            // Фома: новые веса
            "participatio-methexis": 3,             // Ключевое историческое влияние
            "participatio-essence_existence": 3,
            "actual_being-act_potency": 3,
            
            // Спиноза: новые веса
            "natura_naturans-substance_spinoza": 3,
            "natura_naturata-modes": 3,
            "adequate_ideas-intellectual_love": 2,
            
            // Лейбниц: новые веса
            "apperception-monads": 3,
            "apperception-intentionality": 2,       // Важное влияние на феноменологию
            
            // Кант: новые веса
            "sublime-thing_itself": 2,
            "postulates-categorical": 3,
            "aesthetic_judgment-transcendental": 2,
            
            // Фихте: новые веса
            "imagination-absolute_ego": 3,
            "imagination-non_ego": 3,
            "wissenschaftslehre-tathandlung": 2,
            
            // Гегель: новые веса
            "negative-dialectic": 3,                // Центральная концепция
            "negative-aufhebung": 3,
            "concrete-absolute_idea": 2,
            "concrete-abstract": 3,                 // Центральная оппозиция Гегеля
            "abstract-dialectic": 2,
            "abstract-aufhebung": 2,
            
            // Шопенгауэр: новые веса
            "individuation-representation": 3,
            "individuation-will_schop": 2,
            
            // Кьеркегор: новые веса
            "repetition-eternal_return": 2,
            "moment-leap_faith": 3,
            "moment-time_augustine": 2,
            
            // Гуссерль: новые веса
            "noesis_noema-intentionality": 3,       // Центральная структура
            "constitution-transcendental_ego": 3,
            "intersubjectivity-lifeworld": 2,
            
            // Хайдеггер: новые веса
            "ereignis-sein": 3,                     // Поздний Хайдеггер
            "geviert-dwelling": 2,
            "kehre-sein": 2,
            
            // Витгенштейн: новые веса
            "showing_saying-limits_language": 3,    // Tractatus
            "private_language-form_of_life": 3,    // Философские исследования
            "rule_following-language_game": 3,
            
            // Сартр: новые веса
            "project-existence": 3,
            "project-freedom_sartre": 3,
            "engagement-bad_faith": 2,
            
            // Фуко: новые веса
            "panopticon-discipline": 3,             // Знаменитый анализ
            "problematization-archaeology": 2,
            
            // Делёз: новые веса
            "virtual_actual-difference": 3,
            "event-ereignis": 2,
            "fold-body_without_organs": 2
            
        };
        
        // Глобальные переменные для переключения режимов расчёта
        let useWeightedPaths = true;
        let respectDirection = true;

        // Независимые настройки для поиска пути
        let useWeightsInPathFinding = true;
        let respectDirectionInPathFinding = true;

        // Режимы строгости хронологии
        const CHRONOLOGY_MODES = {
            STRICT: 'strict',       // Строгая: учёт реальных периодов активности
            MODERATE: 'moderate',   // Умеренная: окно ±50 лет от рождения
            LOOSE: 'loose'          // Свободная: окно ±100 лет от рождения
        };

        // Текущий режим хронологии (по умолчанию строгий)
        let currentChronologyMode = CHRONOLOGY_MODES.STRICT;

        // Возраст начала интеллектуальной активности
        const MATURITY_AGE = 25;

        // Функция для генерации ключа связи
        function getLinkKey(link) {
            const source = typeof link.source === 'string' ? link.source : link.source.id;
            const target = typeof link.target === 'string' ? link.target : link.target.id;
            return `${source}-${target}`;
        }
        
        // Назначаем веса
        links.forEach(link => {
            const key = getLinkKey(link);
            const reverseKey = `${typeof link.target === 'string' ? link.target : link.target.id}-${typeof link.source === 'string' ? link.source : link.source.id}`;
            
            // Проверяем специфический вес
            if (specificWeights[key]) {
                link.weight = specificWeights[key];
            } else if (specificWeights[reverseKey] && link.bidirectional) {
                link.weight = specificWeights[reverseKey];
            } else {
                // Вес по умолчанию в зависимости от типа связи
                switch(link.type) {
                    case "consequence":
                    case "develop":
                    case "synthesize":
                        link.weight = 2; // По умолчанию среднее для этих типов
                        break;
                    case "internal_contradiction":
                        link.weight = 2; // Противоречия обычно важны
                        break;
                    case "influence":
                    case "dialogue":
                        link.weight = 1; // По умолчанию слабое для косвенных влияний
                        break;
                    case "oppose":
                    case "critique":
                        link.weight = 2; // Критика обычно существенна
                        break;
                    default:
                        link.weight = 2;
                }
            }
        });
        
        // Дополнительная логика: усиливаем веса для связей внутри одного философа
        links.forEach(link => {
            const sourceNode = nodes.find(n => n.id === (typeof link.source === 'string' ? link.source : link.source.id));
            const targetNode = nodes.find(n => n.id === (typeof link.target === 'string' ? link.target : link.target.id));
            
            // Если связь внутри системы одного философа и это ground/synthesize
            if (sourceNode && targetNode && 
                sourceNode.concept === targetNode.concept && 
                (link.type === "consequence" || link.type === "synthesize")) {
                // Увеличиваем вес на 1, но не больше 3
                link.weight = Math.min(link.weight + 1, 3);
            }
        });
        
        // Состояние фильтров
        let selectedPhilosophers = new Set(Object.keys(philosopherConcepts));
        let selectedRelations = new Set(Object.keys(relationTypesObj));
        let selectedRubrics = new Set(rubrics.map(r => r.id));
        
        // Режимы фильтрации: 'all' - только выбранные, 'internal' - только внутренние, 'context' - с соседними
        let filterMode = 'all';
        
        // Инициализация селектов для поиска пути
        function initPathFinder() {
            const sourceSelect = document.getElementById('sourceSelect');
            const targetSelect = document.getElementById('targetSelect');
            
            nodes.forEach(node => {
                const option1 = document.createElement('option');
                option1.value = node.id;
                option1.textContent = `${node.label} (${node.concept})`;
                sourceSelect.appendChild(option1);
                
                const option2 = document.createElement('option');
                option2.value = node.id;
                option2.textContent = `${node.label} (${node.concept})`;
                targetSelect.appendChild(option2);
            });
        }
        
        // ============================================
        // ПРОВЕРКА ХРОНОЛОГИЧЕСКОЙ КОРРЕКТНОСТИ
        // ============================================

        /**
         * Строгая проверка хронологии: учитывает реальные периоды активности
         * @param {Object} fromPhil - Философ "от кого"
         * @param {Object} toPhil - Философ "к кому"
         * @returns {boolean} - Может ли fromPhil повлиять на toPhil
         */
        function strictChronologyCheck(fromPhil, toPhil) {
            // Периоды активной деятельности (с MATURITY_AGE лет до смерти)
            const fromActiveStart = fromPhil.birth + MATURITY_AGE;
            const fromActiveEnd = fromPhil.death;
            const toActiveStart = toPhil.birth + MATURITY_AGE;
            const toActiveEnd = toPhil.death;
            
            // Случай 1: fromPhil умер до начала активности toPhil
            // Посмертное влияние через тексты и идеи
            if (fromActiveEnd < toActiveStart) {
                return true;
            }
            
            // Случай 2: fromPhil стал активным раньше toPhil И дожил хотя бы до начала активности toPhil
            // Старший современник может влиять на младшего
            if (fromActiveStart < toActiveStart && fromActiveEnd >= toActiveStart) {
                return true;
            }
            
            // Случай 3: Они стали активными одновременно (в пределах 5 лет)
            // Возможно взаимное влияние ровесников
            if (Math.abs(fromActiveStart - toActiveStart) <= 5) {
                // Но если один умер значительно раньше другого, то только старший влияет на младшего
                if (fromActiveEnd < toActiveEnd - 10) {
                    // fromPhil умер раньше - может влиять
                    return true;
                } else if (toActiveEnd < fromActiveEnd - 10) {
                    // toPhil умер раньше - fromPhil НЕ может влиять на него
                    return false;
                }
                // Умерли примерно в одно время - взаимное влияние допустимо
                return true;
            }
            
            // Случай 4: fromPhil стал активным ПОЗЖЕ toPhil
            // Младший современник НЕ может влиять на старшего, КРОМЕ особых случаев
            if (fromActiveStart > toActiveStart) {
                // Если toPhil всё ещё был активен, когда fromPhil начал свою деятельность,
                // И toPhil прожил достаточно долго после начала активности fromPhil (минимум 10 лет),
                // то возможно обратное влияние (младший на старшего)
                if (fromActiveStart < toActiveEnd && (toActiveEnd - fromActiveStart) >= 10) {
                    return true;
                }
                // Иначе - младший НЕ может влиять на старшего
                return false;
            }
            
            // Все остальные случаи - анахронизм
            return false;
        }

        /**
         * Умеренная проверка: окно ±50 лет от рождения
         * @param {Object} fromPhil - Философ "от кого"
         * @param {Object} toPhil - Философ "к кому"
         * @returns {boolean}
         */
        function moderateChronologyCheck(fromPhil, toPhil) {
            // toPhil должен родиться не раньше чем за 50 лет до fromPhil
            return toPhil.birth >= fromPhil.birth - 50;
        }

        /**
         * Свободная проверка: окно ±100 лет от рождения
         * @param {Object} fromPhil - Философ "от кого"
         * @param {Object} toPhil - Философ "к кому"
         * @returns {boolean}
         */
        function looseChronologyCheck(fromPhil, toPhil) {
            // toPhil должен родиться не раньше чем за 100 лет до fromPhil
            return toPhil.birth >= fromPhil.birth - 100;
        }

        /**
         * Универсальная функция проверки хронологической корректности
         * @param {string} fromNodeId - ID узла "от"
         * @param {string} toNodeId - ID узла "к"
         * @param {string} mode - Режим проверки (strict/moderate/loose)
         * @returns {boolean} - Валиден ли переход
         */
        function isChronologicallyValid(fromNodeId, toNodeId, mode = currentChronologyMode) {
            const fromNode = nodes.find(n => n.id === fromNodeId);
            const toNode = nodes.find(n => n.id === toNodeId);
            
            if (!fromNode || !toNode) return true; // Если узлы не найдены, разрешаем
            
            // Находим данные философов по имени (nameRu)
            const fromPhil = philosophers.find(p => p.nameRu === fromNode.concept);
            const toPhil = philosophers.find(p => p.nameRu === toNode.concept);
            
            if (!fromPhil || !toPhil) return true; // Если философы не найдены, разрешаем
            
            // Если один и тот же философ - всегда разрешаем
            if (fromPhil.id === toPhil.id) return true;
            
            // Применяем соответствующую проверку
            switch(mode) {
                case CHRONOLOGY_MODES.STRICT:
                    return strictChronologyCheck(fromPhil, toPhil);
                    
                case CHRONOLOGY_MODES.MODERATE:
                    return moderateChronologyCheck(fromPhil, toPhil);
                    
                case CHRONOLOGY_MODES.LOOSE:
                    return looseChronologyCheck(fromPhil, toPhil);
                    
                default:
                    return true; // По умолчанию разрешаем
            }
        }

        /**
         * Анализ пути на наличие анахронизмов
         * @param {Array} path - Массив ID узлов пути
         * @param {string} mode - Режим проверки (strict/moderate/loose)
         * @returns {Array} - Массив предупреждений об анахронизмах
         */
        function analyzePath(path, mode = CHRONOLOGY_MODES.STRICT) {
            const warnings = [];
            
            for (let i = 0; i < path.length - 1; i++) {
                const fromId = path[i];
                const toId = path[i + 1];
                
                // Проверяем по СТРОГОМУ режиму, независимо от выбранного
                // чтобы показать потенциальные проблемы
                if (!isChronologicallyValid(fromId, toId, mode)) {
                    const fromNode = nodes.find(n => n.id === fromId);
                    const toNode = nodes.find(n => n.id === toId);
                    
                    if (fromNode && toNode) {
                        const fromPhil = philosophers.find(p => p.nameRu === fromNode.concept);
                        const toPhil = philosophers.find(p => p.nameRu === toNode.concept);
                        
                        if (fromPhil && toPhil) {
                            warnings.push({
                                from: fromNode.label,
                                to: toNode.label,
                                fromPhil: fromNode.concept,
                                toPhil: toNode.concept,
                                fromYears: `${fromPhil.birth}-${fromPhil.death}`,
                                toYears: `${toPhil.birth}-${toPhil.death}`
                            });
                        }
                    }
                }
            }
            
            return warnings;
        }

        // Поиск кратчайшего пути между двумя концепциями (BFS)
        function findShortestPath(sourceId, targetId, respectChronology = true, useDirection = null) {
            // Используем глобальный параметр, если не передан явно
            const shouldRespectDirection = useDirection !== null ? useDirection : respectDirection;
            
            if (useWeightedPaths) {
                return findShortestPathWeighted(sourceId, targetId, respectChronology, shouldRespectDirection);
            } else {
                return findShortestPathUnweighted(sourceId, targetId, respectChronology, shouldRespectDirection);
            }
        }
        
        // Взвешенный поиск (Дейкстра)
        function findShortestPathWeighted(sourceId, targetId, respectChronology = true, shouldRespectDirection = true) {
            if (sourceId === targetId) return [sourceId];
            
            const distances = {};
            const previous = {};
            const unvisited = new Set();
            
            nodes.forEach(n => {
                distances[n.id] = Infinity;
                previous[n.id] = null;
                unvisited.add(n.id);
            });
            
            distances[sourceId] = 0;
            
            while (unvisited.size > 0) {
                // Найти узел с минимальным расстоянием
                let current = null;
                let minDist = Infinity;
                unvisited.forEach(nodeId => {
                    if (distances[nodeId] < minDist) {
                        minDist = distances[nodeId];
                        current = nodeId;
                    }
                });
                
                if (current === null || distances[current] === Infinity) break;
                if (current === targetId) break;
                
                unvisited.delete(current);
                
                const currentNode = nodes.find(n => n.id === current);
                
                // Обновить расстояния до соседей
                links.forEach(link => {
                    const src = link.source.id || link.source;
                    const tgt = link.target.id || link.target;
                    
                    let neighbor = null;
                    let canTraverse = false;
                    
                    if (shouldRespectDirection) {
                        // Учитываем направленность
                        if (src === current) {
                            neighbor = tgt;
                            canTraverse = true;
                        } else if (link.bidirectional && tgt === current) {
                            neighbor = src;
                            canTraverse = true;
                        }
                    } else {
                        // Не учитываем направленность - граф ненаправленный
                        if (src === current) {
                            neighbor = tgt;
                            canTraverse = true;
                        } else if (tgt === current) {
                            neighbor = src;
                            canTraverse = true;
                        }
                    }
                    
                    if (canTraverse && neighbor && unvisited.has(neighbor)) {
                        // Преобразуем вес: больший вес = меньшая "стоимость" связи
                        const weight = link.weight || 2;
                        const cost = 4 - weight;
                        const alt = distances[current] + cost;
                        
                        if (respectChronology) {
                            // Используем новую функцию проверки с выбранным режимом
                            if (!isChronologicallyValid(current, neighbor, currentChronologyMode)) {
                                return; // Пропускаем этот переход как хронологически некорректный
                            }
                        }
                        
                        if (alt < distances[neighbor]) {
                            distances[neighbor] = alt;
                            previous[neighbor] = current;
                        }
                    }
                });
            }
            
            // Восстановить путь
            if (distances[targetId] === Infinity) return null;
            
            const path = [];
            let current = targetId;
            while (current !== null) {
                path.unshift(current);
                current = previous[current];
            }
            
            return path;
        }
        
        // Невзвешенный поиск (BFS)
        function findShortestPathUnweighted(sourceId, targetId, respectChronology = true, shouldRespectDirection = true) {
            if (sourceId === targetId) return [sourceId];
            
            const queue = [[sourceId]];
            const visited = new Set([sourceId]);
            
            const adjacency = {};
            nodes.forEach(n => adjacency[n.id] = []);
            
            links.forEach(l => {
                const src = l.source.id || l.source;
                const tgt = l.target.id || l.target;
                
                if (shouldRespectDirection) {
                    adjacency[src].push(tgt);
                    if (l.bidirectional) {
                        adjacency[tgt].push(src);
                    }
                } else {
                    adjacency[src].push(tgt);
                    adjacency[tgt].push(src);
                }
            });
            
            while (queue.length > 0) {
                const path = queue.shift();
                const currentNodeId = path[path.length - 1];
                
                if (currentNodeId === targetId) {
                    return path;
                }
                
                const neighbors = adjacency[currentNodeId] || [];
                for (const neighborId of neighbors) {
                    if (!visited.has(neighborId)) {
                        if (respectChronology) {
                            // Используем новую функцию проверки с выбранным режимом
                            if (!isChronologicallyValid(currentNodeId, neighborId, currentChronologyMode)) {
                                continue; // Пропускаем этот переход как хронологически некорректный
                            }
                        }
                        
                        visited.add(neighborId);
                        queue.push([...path, neighborId]);
                    }
                }
            }
            
            return null;
        }
        
        // Функция для отображения найденного пути
        function findAndShowPath() {
            // ИЗМЕНЕНО: используем новые переменные вместо старых select
            const sourceId = selectedSourceNode;
            const targetId = selectedTargetNode;
            
            const resultDiv = document.getElementById('pathResult');
            
            const respectChronology = document.getElementById('respectChronology').checked;
            const respectDirectionPath = document.getElementById('respectDirectionPath').checked;
            const useWeightsPath = document.getElementById('useWeightsPath').checked;
            
            // Получаем выбранный режим хронологии
            const selectedChronologyMode = document.getElementById('chronologyModeSelect').value;
            
            if (!sourceId || !targetId) {
                alert('Пожалуйста, выберите обе концепции');
                return;
            }
            
            if (sourceId === targetId) {
                alert('Начальная и конечная концепции должны быть разными');
                return;
            }
            
            // Временно меняем глобальные переменные для поиска пути
            const originalWeights = useWeightedPaths;
            const originalDirection = respectDirection;
            const originalChronologyMode = currentChronologyMode; // НОВОЕ: Сохраняем режим
            
            useWeightedPaths = useWeightsPath;
            respectDirection = respectDirectionPath;
            currentChronologyMode = selectedChronologyMode; // НОВОЕ: Устанавливаем выбранный режим
            
            const path = findShortestPath(sourceId, targetId, respectChronology, respectDirectionPath);
            
            // Восстанавливаем глобальные переменные
            useWeightedPaths = originalWeights;
            respectDirection = originalDirection;
            currentChronologyMode = originalChronologyMode; // НОВОЕ: Восстанавливаем режим
            
            if (!path) {
                const sourceNode = nodes.find(n => n.id === sourceId);
                const targetNode = nodes.find(n => n.id === targetId);
                
                let message = 'Эти концепции не связаны';
                if (respectChronology && respectDirectionPath) {
                    message += ' хронологически корректным путём с учётом направленности связей.';
                } else if (respectChronology) {
                    message += ' хронологически корректным путём.';
                } else if (respectDirectionPath) {
                    message += ' с учётом направленности связей.';
                } else {
                    message += ' в графе.';
                }

                resultDiv.innerHTML = `
                    <div class="path-length">❌ Путь не найден</div>
                    <div class="path-chain">${message}<br><br>
                    <small style="color: #95a5a6;">Попробуйте снять ограничения ниже.</small></div>
                    <button onclick="clearPathHighlight()" style="width: 100%; margin-top: 10px; background: #95a5a6; color: white; border: none; padding: 8px; border-radius: 6px; cursor: pointer; font-size: 12px;">
                        Очистить
                    </button>
                `;
                resultDiv.classList.add('show');
                resetHighlight();
                return;
            }
            
            // Анализируем путь на анахронизмы
            const anachronismWarnings = analyzePath(path, selectedChronologyMode);

            // Формируем визуальное представление пути
            const pathNodes = path.map(id => nodes.find(n => n.id === id));
            
            // Создаём HTML с узлами и стрелками
            let pathHTML = '';
            
            for (let i = 0; i < pathNodes.length; i++) {
                const node = pathNodes[i];
                const philosopherColor = philosopherConcepts[node.concept].color;
                
                // Добавляем узел с философом
                pathHTML += `
                    <span class="path-node-container">
                        <span class="path-philosopher">${node.concept}</span>
                        <span class="path-node" style="border-color: ${philosopherColor};" title="${node.concept}: ${node.description}">
                            ${node.label}
                        </span>
                    </span>
                `;
                
                // Добавляем стрелку, если это не последний узел
                if (i < pathNodes.length - 1) {
                    const currentNode = pathNodes[i];
                    const nextNode = pathNodes[i + 1];
                    
                    // Находим связь между текущим и следующим узлом
                    const link = links.find(l => {
                        const src = l.source.id || l.source;
                        const tgt = l.target.id || l.target;
                        
                        if (respectDirectionPath) {
                            return (src === currentNode.id && tgt === nextNode.id) ||
                                   (l.bidirectional && src === nextNode.id && tgt === currentNode.id);
                        } else {
                            return (src === currentNode.id && tgt === nextNode.id) ||
                                   (src === nextNode.id && tgt === currentNode.id);
                        }
                    });
                    
                    if (link) {
                        const linkColor = relationTypesObj[link.type].color;
                        const linkLabel = relationTypesObj[link.type].label;
                        const linkDescription = link.description || '';
                        const src = link.source.id || link.source;
                        const tgt = link.target.id || link.target;
                        
                        // Определяем направление стрелки
                        let arrow;
                        if (link.bidirectional) {
                            arrow = '↔';
                        } else if (src === currentNode.id && tgt === nextNode.id) {
                            arrow = '→';
                        } else {
                            arrow = '←';
                        }
                        
                        // Используем data-атрибуты для хранения информации о связи
                        pathHTML += `
                            <span class="path-arrow ${link.bidirectional ? 'bidirectional' : ''}" 
                                  style="color: ${linkColor};" 
                                  data-link-type="${linkLabel}"
                                  data-link-description="${linkDescription.replace(/"/g, '&quot;').replace(/'/g, '&#39;')}"
                                  onmouseenter="handlePathArrowHover(event, true)"
                                  onmouseleave="handlePathArrowHover(event, false)">
                                ${arrow}
                            </span>
                        `;
                    } else {
                        pathHTML += `<span class="path-arrow" style="color: #95a5a6;">→</span>`;
                    }
                }
            }
            
            // Добавляем информацию о хронологии и режиме
            const years = pathNodes.map(n => philosopherConcepts[n.concept].years);
            const modeNames = {
                strict: 'строгий',
                moderate: 'умеренный', 
                loose: 'свободный'
            };
            
            const chronologyInfo = respectChronology ? 
                `<div style="margin-top: 8px; font-size: 10px; color: #7f8c8d;">
                    <strong>Хронология:</strong> ${years[0]} → ${years[years.length - 1]}<br>
                    <strong>Режим:</strong> ${modeNames[selectedChronologyMode]}
                </div>` : '';
            
            // Формируем предупреждения об анахронизмах
            let warningsHTML = '';
            if (anachronismWarnings.length > 0) {
                warningsHTML = `
                    <div class="anachronism-warnings">
                        <div class="anachronism-warnings-title">Обнаружены анахронизмы</div>
                        ${anachronismWarnings.map(w => `
                            <div class="anachronism-item">
                                <strong>${w.from}</strong> (${w.fromPhil}, ${w.fromYears}) → 
                                <strong>${w.to}</strong> (${w.toPhil}, ${w.toYears})
                            </div>
                        `).join('')}
                        <div style="font-size: 9px; color: #856404; margin-top: 6px; font-style: italic;">
                            Эти переходы могут быть хронологически некорректны в строгом режиме.
                        </div>
                    </div>
                `;
            }
            
            resultDiv.innerHTML = `
                <div class="path-length">✅ Длина пути: ${path.length} концепций</div>
                <div class="path-chain" style="line-height: 2;">${pathHTML}</div>
                ${chronologyInfo}
                ${warningsHTML}
                <button onclick="showPathDescriptionsModal()" style="width: 100%; margin-top: 10px; background: #3498db; color: white; border: none; padding: 8px; border-radius: 6px; cursor: pointer; font-size: 12px; transition: background 0.3s;" onmouseover="this.style.background='#2980b9'" onmouseout="this.style.background='#3498db'">
                    📋 Показать все описания связей
                </button>
                <button onclick="clearPathHighlight()" style="width: 100%; margin-top: 10px; background: #e74c3c; color: white; border: none; padding: 8px; border-radius: 6px; cursor: pointer; font-size: 12px; transition: background 0.3s;" onmouseover="this.style.background='#c0392b'" onmouseout="this.style.background='#e74c3c'">
                    🔄 Сбросить подсветку
                </button>
            `;

            currentPathData = {
                path: path,
                pathNodes: pathNodes,
                respectDirection: respectDirectionPath
            };

            resultDiv.classList.add('show');
            
            // Подсвечиваем путь на графе
            highlightPath(path, respectDirectionPath);
        }

        // Обработчик наведения на стрелку пути с таймером и глобальным tooltip
        let arrowHoverTimer = null;
        const ARROW_HOVER_DELAY = 800; // Задержка в мс перед показом description

        function handlePathArrowHover(event, isEntering) {
            const arrowElement = event.target;
            const tooltip = document.getElementById('tooltip');
            
            if (isEntering) {
                const linkType = arrowElement.dataset.linkType;
                const linkDescription = arrowElement.dataset.linkDescription;
                
                // Получаем позицию элемента
                const rect = arrowElement.getBoundingClientRect();
                
                // Позиционируем tooltip
                tooltip.style.left = (rect.left + rect.width / 2) + 'px';
                tooltip.style.top = (rect.top - 10) + 'px';
                tooltip.style.transform = 'translate(-50%, -100%)'; // Центрируем и поднимаем над элементом
                
                // Сначала показываем тип связи
                tooltip.innerHTML = linkType;
                tooltip.style.opacity = 1;
                
                // Через задержку показываем description, если он есть
                if (linkDescription && linkDescription.trim() !== '') {
                    arrowHoverTimer = setTimeout(() => {
                        tooltip.innerHTML = `<strong>${linkType}</strong><br><br>${linkDescription}`;
                        // Перепозиционируем после изменения содержимого
                        const newRect = arrowElement.getBoundingClientRect();
                        tooltip.style.left = (newRect.left + newRect.width / 2) + 'px';
                        tooltip.style.top = (newRect.top - 10) + 'px';
                    }, ARROW_HOVER_DELAY);
                }
            } else {
                // Убираем tooltip
                tooltip.style.opacity = 0;
                if (arrowHoverTimer) {
                    clearTimeout(arrowHoverTimer);
                    arrowHoverTimer = null;
                }
            }
        }
        
        // Подсветка пути на графе
        function highlightPath(path, respectDirection = true) {
            resetHighlight();
            
            const pathSet = new Set(path);
            const pathLinks = new Set();
            
            // Находим связи, которые входят в путь
            for (let i = 0; i < path.length - 1; i++) {
                const currentNode = path[i];
                const nextNode = path[i + 1];
                
                const linkData = links.find(l => {
                    const src = l.source.id || l.source;
                    const tgt = l.target.id || l.target;
                    
                    if (respectDirection) {
                        // Учитываем направленность: ищем связь в прямом направлении или bidirectional
                        return (src === currentNode && tgt === nextNode) ||
                               (l.bidirectional && src === nextNode && tgt === currentNode);
                    } else {
                        // Не учитываем направленность: любая связь между этими узлами подходит
                        return (src === currentNode && tgt === nextNode) ||
                               (src === nextNode && tgt === currentNode);
                    }
                });
                
                if (linkData) pathLinks.add(linkData);
            }
            
            // Применяем стили
            node.classed("dimmed", d => !pathSet.has(d.id))
                .classed("highlighted", d => pathSet.has(d.id));
            
            // Применяем к видимому пути внутри группы
            link.classed("dimmed", l => !pathLinks.has(l))
                .classed("path-highlight", l => pathLinks.has(l));
        }
        
        // Очистка подсветки пути
        function clearPathHighlight() {
            resetHighlight();
            const resultDiv = document.getElementById('pathResult');
            resultDiv.classList.remove('show');
            resultDiv.innerHTML = '';
        }

        // Глобальная переменная для хранения текущего пути
        let currentPathData = null;

        // Показать модальное окно с описаниями всех связей пути
        function showPathDescriptionsModal() {
            if (!currentPathData) return;
            
            const { path, pathNodes, respectDirection } = currentPathData;
            const modal = document.getElementById('pathDescriptionsModal');
            const overlay = document.getElementById('modalOverlay');
            const content = document.getElementById('pathDescriptionsContent');

            freezeSimulation();
            
            let html = '<h3>📋 Описания связей в пути</h3>';
            
            // Кнопка для показа/скрытия описаний узлов
            html += `
                <button class="toggle-nodes-descriptions-btn" onclick="togglePathNodesDescriptions()">
                    Показать описания узлов
                </button>
            `;
            
            // Проходим по всем связям в пути
            for (let i = 0; i < pathNodes.length - 1; i++) {
                const currentNode = pathNodes[i];
                const nextNode = pathNodes[i + 1];
                
                // Находим связь между узлами
                const link = links.find(l => {
                    const src = l.source.id || l.source;
                    const tgt = l.target.id || l.target;
                    
                    if (respectDirection) {
                        return (src === currentNode.id && tgt === nextNode.id) ||
                               (l.bidirectional && src === nextNode.id && tgt === currentNode.id);
                    } else {
                        return (src === currentNode.id && tgt === nextNode.id) ||
                               (src === nextNode.id && tgt === currentNode.id);
                    }
                });
                
                if (link) {
                    const linkColor = relationTypesObj[link.type].color;
                    const linkLabel = relationTypesObj[link.type].label;
                    const src = link.source.id || link.source;
                    const tgt = link.target.id || link.target;
                    
                    let arrow;
                    if (link.bidirectional) {
                        arrow = '↔';
                    } else if (src === currentNode.id && tgt === nextNode.id) {
                        arrow = '→';
                    } else {
                        arrow = '←';
                    }
                    
                    html += `
                        <div class="path-description-item">
                            <div class="path-description-header">
                                <span class="path-description-nodes">${currentNode.label}</span>
                                <span class="path-description-arrow" style="color: ${linkColor};">${arrow}</span>
                                <span class="path-description-nodes">${nextNode.label}</span>
                            </div>
                            <div class="path-description-type">Тип связи: ${linkLabel}</div>
                            ${link.description ? `
                                <div class="path-description-text">${link.description}</div>
                            ` : `
                                <div class="path-description-text" style="color: #95a5a6; font-style: italic;">
                                    Описание связи отсутствует
                                </div>
                            `}
                            
                            <!-- Скрытые описания узлов -->
                            <div class="path-node-full-description" id="node-desc-${i}">
                                <h4>Узел: ${currentNode.label}</h4>
                                <p><strong>Философ:</strong> ${currentNode.concept}</p>
                                <p><strong>Описание:</strong> ${currentNode.extendedDescription || 'Описание отсутствует'}</p>
                            </div>
                        </div>
                    `;
                }
            }
            
            // Добавляем описание последнего узла
            const lastNode = pathNodes[pathNodes.length - 1];
            html += `
                <div class="path-node-full-description" id="node-desc-${pathNodes.length - 1}">
                    <h4>Конечный узел: ${lastNode.label}</h4>
                    <p><strong>Философ:</strong> ${lastNode.concept}</p>
                    <p><strong>Описание:</strong> ${lastNode.extendedDescription || 'Описание отсутствует'}</p>
                </div>
            `;
            
            content.innerHTML = html;
            modal.classList.add('show');
            overlay.classList.add('show');
        }

        // Закрыть модальное окно описаний пути
        function closePathDescriptionsModal() {
            const modal = document.getElementById('pathDescriptionsModal');
            const overlay = document.getElementById('modalOverlay');
            
            modal.classList.remove('show');
            overlay.classList.remove('show');

            unfreezeSimulation();
        }

        // Переключить видимость описаний узлов
        let nodesDescriptionsVisible = false;

        function togglePathNodesDescriptions() {
            const nodeDescriptions = document.querySelectorAll('.path-node-full-description');
            const toggleBtn = event.target;
            
            nodesDescriptionsVisible = !nodesDescriptionsVisible;
            
            nodeDescriptions.forEach(desc => {
                if (nodesDescriptionsVisible) {
                    desc.classList.add('show');
                } else {
                    desc.classList.remove('show');
                }
            });
            
            toggleBtn.textContent = nodesDescriptionsVisible ? 
                'Скрыть описания узлов' : 
                'Показать описания узлов';
        }

        // Debounce для оптимизации частых вызовов
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        /**
         * Создание и управление индикатором загрузки
         */
        const LoadingIndicator = {
            create(title, subtitle, color = '#3498db') {
                const indicator = document.createElement('div');
                const id = 'loadingIndicator_' + Date.now();
                indicator.id = id;
                indicator.style.cssText = `
                    position: fixed;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    background: rgba(52, 73, 94, 0.95);
                    color: white;
                    padding: 25px 35px;
                    border-radius: 12px;
                    z-index: 10000;
                    box-shadow: 0 4px 20px rgba(0,0,0,0.4);
                    min-width: 320px;
                `;
                indicator.innerHTML = `
                    <div style="font-size: 14px; font-weight: 600; margin-bottom: 8px; text-align: center;">
                        ${title}
                    </div>
                    <div style="font-size: 11px; opacity: 0.8; margin-bottom: 15px; text-align: center;">
                        ${subtitle}
                    </div>
                    <div style="background: rgba(255,255,255,0.2); height: 8px; border-radius: 4px; overflow: hidden; margin-bottom: 8px;">
                        <div class="progress-bar" style="background: ${color}; height: 100%; width: 0%; transition: width 0.3s ease-out;"></div>
                    </div>
                    <div class="progress-text" style="font-size: 12px; text-align: center; opacity: 0.9;">0%</div>
                `;
                document.body.appendChild(indicator);
                
                return {
                    id: id,
                    updateProgress(percent) {
                        const progressBar = indicator.querySelector('.progress-bar');
                        const progressText = indicator.querySelector('.progress-text');
                        if (progressBar) progressBar.style.width = percent + '%';
                        if (progressText) progressText.textContent = Math.round(percent) + '%';
                    },
                    remove() {
                        const elem = document.getElementById(id);
                        if (elem) document.body.removeChild(elem);
                    }
                };
            }
        };

        /**
         * Показывает временное информационное сообщение пользователю
         * @param {string} message - текст сообщения
         * @param {number} duration - длительность показа в мс (по умолчанию 3000)
         */
        function showTemporaryMessage(message, duration = 3000) {
            const msgBox = document.createElement('div');
            msgBox.style.cssText = `
                position: fixed;
                top: 20px;
                left: 50%;
                transform: translateX(-50%);
                background: rgba(52, 73, 94, 0.95);
                color: white;
                padding: 12px 24px;
                border-radius: 8px;
                z-index: 10001;
                box-shadow: 0 4px 20px rgba(0,0,0,0.3);
                font-size: 13px;
                animation: slideDown 0.3s ease-out;
            `;
            msgBox.textContent = message;
            document.body.appendChild(msgBox);
            
            setTimeout(() => {
                msgBox.style.opacity = '0';
                msgBox.style.transition = 'opacity 0.3s ease-out';
                setTimeout(() => {
                    if (msgBox.parentNode) {
                        document.body.removeChild(msgBox);
                    }
                }, 300);
            }, duration);
        }

        /**
         * Построение графа смежности для отфильтрованных узлов
         * @param {Array} filteredNodes - отфильтрованные узлы
         * @param {Map} nodeById - карта узлов по ID
         * @returns {Map} - граф смежности
         */
        function buildAdjacencyGraph(filteredNodes, nodeById) {
            const adjacency = new Map();
            filteredNodes.forEach(n => adjacency.set(n.id, []));
            
            links.forEach(l => {
                if (!selectedRelations.has(l.type)) return;
                
                // Проверка рубрик
                const sourceId = l.source.id || l.source;
                const targetId = l.target.id || l.target;
                const sourceRubrics = conceptToRubrics[sourceId] || [];
                const targetRubrics = conceptToRubrics[targetId] || [];
                
                const sourceHasSelectedRubric = sourceRubrics.length === 0 || 
                                               sourceRubrics.some(r => selectedRubrics.has(r));
                const targetHasSelectedRubric = targetRubrics.length === 0 || 
                                               targetRubrics.some(r => selectedRubrics.has(r));
                
                if (!sourceHasSelectedRubric || !targetHasSelectedRubric) return;
                
                if (!nodeById.has(sourceId) || !nodeById.has(targetId)) return;
                
                if (!adjacency.has(sourceId)) adjacency.set(sourceId, []);
                adjacency.get(sourceId).push({ nodeId: targetId, link: l });
                
                if (l.bidirectional) {
                    if (!adjacency.has(targetId)) adjacency.set(targetId, []);
                    adjacency.get(targetId).push({ nodeId: sourceId, link: l });
                }
            });
            
            return adjacency;
        }

        /**
         * Обработка BFS поиска цепочек
         * @param {Object} startNode - начальный узел
         * @param {string} startPhil - начальный философ
         * @param {Array} philsArray - массив всех философов
         * @param {Map} adjacency - граф смежности
         * @param {Map} nodeById - карта узлов по ID
         * @param {Set} nodesInChains - результирующее множество узлов
         * @param {Set} linksInChains - результирующее множество связей
         * @param {boolean} uniqueMode - режим уникальных цепочек (каждый философ один раз)
         */
        function processBFS(startNode, startPhil, philsArray, adjacency, nodeById, 
                            nodesInChains, linksInChains, uniqueMode) {
            const queue = [{
                nodeId: startNode.id,
                path: [startNode.id],
                linkPath: [],
                philosophers: new Set([startPhil])
            }];
            
            const visited = new Map();
            visited.set(startNode.id, new Set([startPhil]));
            
            const maxDepth = philsArray.length * (uniqueMode ? 3 : 4);
            
            while (queue.length > 0) {
                const { nodeId, path, linkPath, philosophers } = queue.shift();
                
                if (path.length > maxDepth) continue;
                
                if (philosophers.size === philsArray.length) {
                    path.forEach(n => nodesInChains.add(n));
                    linkPath.forEach(l => linksInChains.add(l));
                    continue;
                }
                
                const neighbors = adjacency.get(nodeId) || [];
                for (const { nodeId: nextId, link } of neighbors) {
                    if (path.includes(nextId)) continue;
                    
                    const nextNode = nodeById.get(nextId);
                    if (!nextNode) continue;
                    
                    // КРИТИЧНО: проверка уникальности философа в uniqueMode
                    if (uniqueMode && philosophers.has(nextNode.concept)) continue;
                    
                    const nextPhilosophers = new Set(philosophers);
                    nextPhilosophers.add(nextNode.concept);
                    
                    const prevPhilosophers = visited.get(nextId);
                    const shouldVisit = !prevPhilosophers || nextPhilosophers.size > prevPhilosophers.size;
                    
                    if (shouldVisit) {
                        visited.set(nextId, nextPhilosophers);
                        
                        queue.push({
                            nodeId: nextId,
                            path: [...path, nextId],
                            linkPath: [...linkPath, link],
                            philosophers: nextPhilosophers
                        });
                    }
                }
            }
        }

        /**
         * Универсальная функция поиска цепочек через всех философов
         * @param {Set} selectedPhils - множество выбранных философов
         * @param {Function|null} progressCallback - опциональный callback для обновления прогресса
         * @returns {Promise<{nodes: Set, links: Set}>}
         */
        async function findChainsThroughAllPhilosophers(selectedPhils, progressCallback = null) {
            const philsArray = Array.from(selectedPhils);
            const nodesInChains = new Set();
            const linksInChains = new Set();
            
            const filteredNodes = nodes.filter(n => selectedPhils.has(n.concept));
            const nodeById = new Map();
            filteredNodes.forEach(n => nodeById.set(n.id, n));
            
            const adjacency = buildAdjacencyGraph(filteredNodes, nodeById);
            
            const allStartNodes = [];
            philsArray.forEach(startPhil => {
                const philStartNodes = filteredNodes.filter(n => n.concept === startPhil);
                philStartNodes.forEach(node => {
                    allStartNodes.push({ phil: startPhil, node: node });
                });
            });
            
            const totalStartNodes = allStartNodes.length;
            let processedStartNodes = 0;
            
            const CHUNK_SIZE = progressCallback ? 5 : allStartNodes.length;
            
            for (let i = 0; i < allStartNodes.length; i += CHUNK_SIZE) {
                const chunk = allStartNodes.slice(i, Math.min(i + CHUNK_SIZE, allStartNodes.length));
                
                chunk.forEach(({ phil: startPhil, node: startNode }) => {
                    processBFS(startNode, startPhil, philsArray, adjacency, nodeById, 
                              nodesInChains, linksInChains, false);
                    processedStartNodes++;
                });
                
                if (progressCallback) {
                    const progress = (processedStartNodes / totalStartNodes) * 100;
                    progressCallback(progress);
                    await new Promise(resolve => setTimeout(resolve, 0));
                }
            }
            
            if (progressCallback) progressCallback(100);
            
            return { nodes: nodesInChains, links: linksInChains };
        }

        /**
         * Универсальная функция поиска уникальных цепочек
         */
        async function findUniquePhilosopherChains(selectedPhils, progressCallback = null) {
            const philsArray = Array.from(selectedPhils);
            const nodesInChains = new Set();
            const linksInChains = new Set();
            
            const filteredNodes = nodes.filter(n => selectedPhils.has(n.concept));
            const nodeById = new Map();
            filteredNodes.forEach(n => nodeById.set(n.id, n));
            
            const adjacency = buildAdjacencyGraph(filteredNodes, nodeById);
            
            const allStartNodes = [];
            philsArray.forEach(startPhil => {
                const philStartNodes = filteredNodes.filter(n => n.concept === startPhil);
                philStartNodes.forEach(node => {
                    allStartNodes.push({ phil: startPhil, node: node });
                });
            });
            
            const totalStartNodes = allStartNodes.length;
            let processedStartNodes = 0;
            const CHUNK_SIZE = progressCallback ? 5 : allStartNodes.length;
            
            for (let i = 0; i < allStartNodes.length; i += CHUNK_SIZE) {
                const chunk = allStartNodes.slice(i, Math.min(i + CHUNK_SIZE, allStartNodes.length));
                
                chunk.forEach(({ phil: startPhil, node: startNode }) => {
                    processBFS(startNode, startPhil, philsArray, adjacency, nodeById, 
                              nodesInChains, linksInChains, true); // true = unique mode
                    processedStartNodes++;
                });
                
                if (progressCallback) {
                    const progress = (processedStartNodes / totalStartNodes) * 100;
                    progressCallback(progress);
                    await new Promise(resolve => setTimeout(resolve, 0));
                }
            }
            
            if (progressCallback) progressCallback(100);
            
            return { nodes: nodesInChains, links: linksInChains };
        }

        /**
         * Конфигурация режимов фильтрации
         */
        const FilterModes = {
            all: {
                name: 'Только выбранные философы',
                linkFilter: (l) => {
                    // Проверка типа связи и философов
                    const baseCheck = selectedRelations.has(l.type) &&
                                     selectedPhilosophers.has(l.source.concept) &&
                                     selectedPhilosophers.has(l.target.concept);
                    
                    if (!baseCheck) return false;
                    
                    // Проверка рубрик
                    const sourceId = l.source.id || l.source;
                    const targetId = l.target.id || l.target;
                    const sourceRubrics = conceptToRubrics[sourceId] || [];
                    const targetRubrics = conceptToRubrics[targetId] || [];
                    
                    // Связь видна, если хотя бы одна рубрика source или target выбрана
                    const sourceHasSelectedRubric = sourceRubrics.length === 0 || 
                                                   sourceRubrics.some(r => selectedRubrics.has(r));
                    const targetHasSelectedRubric = targetRubrics.length === 0 || 
                                                   targetRubrics.some(r => selectedRubrics.has(r));
                    
                    return sourceHasSelectedRubric && targetHasSelectedRubric;
                }
            },
            internal: {
                name: 'Только внутренние связи',
                linkFilter: (l) => {
                    // Проверка типа связи, философов и внутренней связи
                    const baseCheck = selectedRelations.has(l.type) &&
                                     selectedPhilosophers.has(l.source.concept) &&
                                     selectedPhilosophers.has(l.target.concept) &&
                                     l.source.concept === l.target.concept;
                    
                    if (!baseCheck) return false;
                    
                    // Проверка рубрик
                    const sourceId = l.source.id || l.source;
                    const targetId = l.target.id || l.target;
                    const sourceRubrics = conceptToRubrics[sourceId] || [];
                    const targetRubrics = conceptToRubrics[targetId] || [];
                    
                    const sourceHasSelectedRubric = sourceRubrics.length === 0 || 
                                                   sourceRubrics.some(r => selectedRubrics.has(r));
                    const targetHasSelectedRubric = targetRubrics.length === 0 || 
                                                   targetRubrics.some(r => selectedRubrics.has(r));
                    
                    return sourceHasSelectedRubric && targetHasSelectedRubric;
                }
            },
            context: {
                name: 'С соседними узлами',
                linkFilter: (l) => {
                    // Проверка типа связи и хотя бы одного философа
                    const baseCheck = selectedRelations.has(l.type) &&
                                     (selectedPhilosophers.has(l.source.concept) ||
                                      selectedPhilosophers.has(l.target.concept));
                    
                    if (!baseCheck) return false;
                    
                    // Проверка рубрик
                    const sourceId = l.source.id || l.source;
                    const targetId = l.target.id || l.target;
                    const sourceRubrics = conceptToRubrics[sourceId] || [];
                    const targetRubrics = conceptToRubrics[targetId] || [];
                    
                    const sourceHasSelectedRubric = sourceRubrics.length === 0 || 
                                                   sourceRubrics.some(r => selectedRubrics.has(r));
                    const targetHasSelectedRubric = targetRubrics.length === 0 || 
                                                   targetRubrics.some(r => selectedRubrics.has(r));
                    
                    return sourceHasSelectedRubric && targetHasSelectedRubric;
                }
            },
            external: {
                name: 'Только внешние связи',
                linkFilter: (l) => {
                    // Проверка типа связи, философов и внешней связи
                    const baseCheck = selectedRelations.has(l.type) &&
                                     (selectedPhilosophers.has(l.source.concept) ||
                                      selectedPhilosophers.has(l.target.concept)) &&
                                     l.source.concept !== l.target.concept;
                    
                    if (!baseCheck) return false;
                    
                    // Проверка рубрик
                    const sourceId = l.source.id || l.source;
                    const targetId = l.target.id || l.target;
                    const sourceRubrics = conceptToRubrics[sourceId] || [];
                    const targetRubrics = conceptToRubrics[targetId] || [];
                    
                    const sourceHasSelectedRubric = sourceRubrics.length === 0 || 
                                                   sourceRubrics.some(r => selectedRubrics.has(r));
                    const targetHasSelectedRubric = targetRubrics.length === 0 || 
                                                   targetRubrics.some(r => selectedRubrics.has(r));
                    
                    return sourceHasSelectedRubric && targetHasSelectedRubric;
                }
            },
            cross_selected: {
                name: 'Межфилософские связи выбранных',
                linkFilter: (l) => {
                    // Проверка типа связи, философов и межфилософской связи
                    const isDifferent = selectedPhilosophers.size === 1 || 
                                       l.source.concept !== l.target.concept;
                    const baseCheck = selectedRelations.has(l.type) &&
                                     selectedPhilosophers.has(l.source.concept) &&
                                     selectedPhilosophers.has(l.target.concept) &&
                                     isDifferent;
                    
                    if (!baseCheck) return false;
                    
                    // Проверка рубрик
                    const sourceId = l.source.id || l.source;
                    const targetId = l.target.id || l.target;
                    const sourceRubrics = conceptToRubrics[sourceId] || [];
                    const targetRubrics = conceptToRubrics[targetId] || [];
                    
                    const sourceHasSelectedRubric = sourceRubrics.length === 0 || 
                                                   sourceRubrics.some(r => selectedRubrics.has(r));
                    const targetHasSelectedRubric = targetRubrics.length === 0 || 
                                                   targetRubrics.some(r => selectedRubrics.has(r));
                    
                    return sourceHasSelectedRubric && targetHasSelectedRubric;
                }
            }
        };

        /**
         * Применение базовых фильтров (не chains/unique_chains)
         */
        function applyBasicFilter(mode) {
            const config = FilterModes[mode];
            if (!config) return;
            
            const allRelationsSelected = selectedRelations.size === Object.keys(relationTypesObj).length;
            
            // Фильтруем связи по правилам режима
            const validLinks = links.filter(config.linkFilter);
            
            // Собираем видимые узлы из валидных связей
            const visibleNodes = new Set();
            validLinks.forEach(l => {
                visibleNodes.add(l.source.id || l.source);
                visibleNodes.add(l.target.id || l.target);
            });
            
            // Применяем видимость к узлам
            node.style("display", d => visibleNodes.has(d.id) ? null : "none");
            
            // Применяем видимость к группам связей
            link.style("display", l => {
                const sourceVisible = visibleNodes.has(l.source.id);
                const targetVisible = visibleNodes.has(l.target.id);
                return config.linkFilter(l) && sourceVisible && targetVisible ? null : "none";
            });
        }

        /**
         * Применение видимости для найденных цепочек
         */
        function applyChainVisibility(chainNodes, chainLinks) {
            node.style("display", d => chainNodes.has(d.id) ? null : "none");
            link.style("display", l => chainLinks.has(l) ? null : "none");
        }

        /**
         * Обработка режима 'chains'
         */
        async function handleChainsMode() {
            if (selectedPhilosophers.size === 1 || selectedPhilosophers.size === 2) {
                // Быстрый синхронный режим для 1-2 философов
                const { nodes: chainNodes, links: chainLinks } = 
                    await findChainsThroughAllPhilosophers(selectedPhilosophers);
                applyChainVisibility(chainNodes, chainLinks);
                updateFilterStats();
            } else {
                // Асинхронный режим с прогрессом для 3+ философов
                const indicator = LoadingIndicator.create(
                    ' Поиск сквозных цепочек',
                    `Анализ связей между ${selectedPhilosophers.size} философами`
                );
                
                setTimeout(async () => {
                    try {
                        const { nodes: chainNodes, links: chainLinks } = 
                            await findChainsThroughAllPhilosophers(
                                selectedPhilosophers, 
                                (progress) => indicator.updateProgress(progress)
                            );
                        
                        applyChainVisibility(chainNodes, chainLinks);
                        indicator.remove();
                        updateFilterStats();
                        
                        if (chainNodes.size === 0) {
                            showTemporaryMessage('⚠️ Сквозных цепочек не найдено. Попробуйте выбрать других философов.');
                        }
                    } catch (error) {
                        console.error('Ошибка при поиске цепочек:', error);
                        indicator.remove();
                        showTemporaryMessage('❌ Ошибка при поиске цепочек');
                    }
                }, 50);
            }
        }

        /**
         * Обработка режима 'unique_chains'
         */
        async function handleUniqueChainsMode() {
            if (selectedPhilosophers.size === 1) {
                // Для 1 философа - показываем внутренние связи
                applyBasicFilter('internal');
                updateFilterStats();
                return;
            }
            
            if (selectedPhilosophers.size === 2) {
                // Для 2 философов - как cross_selected
                applyBasicFilter('cross_selected');
                updateFilterStats();
                return;
            }
            
            // Для 3+ философов - поиск уникальных цепочек с прогрессом
            const indicator = LoadingIndicator.create(
                '⚡ Поиск уникальных цепочек',
                `Однократное участие каждого из ${selectedPhilosophers.size} философов`,
                '#9b59b6'
            );
            
            setTimeout(async () => {
                try {
                    const { nodes: chainNodes, links: chainLinks } = 
                        await findUniquePhilosopherChains(
                            selectedPhilosophers,
                            (progress) => indicator.updateProgress(progress)
                        );
                    
                    applyChainVisibility(chainNodes, chainLinks);
                    indicator.remove();
                    updateFilterStats();
                    
                    if (chainNodes.size === 0) {
                        showTemporaryMessage('⚠️ Уникальных цепочек не найдено. Попробуйте выбрать других философов или другие типы связей.');
                    } else {
                        showTemporaryMessage(`✅ Найдено ${chainNodes.size} узлов в уникальных цепочках`, 2000);
                    }
                } catch (error) {
                    console.error('Ошибка при поиске уникальных цепочек:', error);
                    indicator.remove();
                    showTemporaryMessage('❌ Ошибка при поиске уникальных цепочек');
                }
            }, 50);
        }

        /**
         * Очистка выделений невидимых узлов
         */
        function cleanupInvisibleSelections() {
            const visibleNodeIds = new Set();
            node.each(function(d) {
                if (this.style.display !== "none") {
                    visibleNodeIds.add(d.id);
                }
            });
            
            selectedNodes.forEach(node => {
                if (!visibleNodeIds.has(node.id)) {
                    selectedNodes.delete(node);
                }
            });

            if (selectedNodes.size === 0) {
                resetHighlight();
            } else {
                highlightConnected(Array.from(selectedNodes));
            }
        }

        function applyFiltersImmediate() {
            // Специальные режимы с цепочками
            if (filterMode === 'chains') {
                handleChainsMode();
                return;
            }
            
            if (filterMode === 'unique_chains') {
                handleUniqueChainsMode();
                return;
            }
            
            // Базовые режимы фильтрации
            applyBasicFilter(filterMode);
            
            // Общая пост-обработка
            updateFilterStats();
            cleanupInvisibleSelections();
        }

        const debouncedApplyFilters = debounce(applyFiltersImmediate, 150);

        function applyFilters() { debouncedApplyFilters(); }
        
        // Инициализация фильтров
        function initFilters() {
            // Создаем фильтры философов
            const philContainer = document.getElementById('philosopherFilters');
            Object.entries(philosopherConcepts).forEach(([name, data]) => {
                const item = document.createElement('div');
                item.className = 'legend-item';
                item.innerHTML = `
                    <input type="checkbox" id="phil-${name}" value="${name}" checked onchange="togglePhilosopher('${name}')">
                    <label for="phil-${name}">
                        <div class="legend-color" style="background: ${data.color}"></div>
                        <span>${name}<small style="color: #95a5a6; font-size: 9px;"> (${data.years})</small></span>
                    </label>
                `;
                philContainer.appendChild(item);
            });
        
            // Создаем фильтры связей (без изменений)
            const relContainer = document.getElementById('relationFilters');
            Object.entries(relationTypesObj).forEach(([type, typeData]) => {
                const item = document.createElement('div');
                item.className = 'legend-item';
                item.innerHTML = `
                    <input type="checkbox" id="rel-${type}" checked onchange="toggleRelation('${type}')">
                    <label for="rel-${type}">
                        <div class="legend-line" style="background: ${typeData.color}"></div>
                        <span>${typeData.label}</span>
                    </label>
                `;
                relContainer.appendChild(item);
            });

            // Создаем фильтры рубрик
            const rubricContainer = document.getElementById('rubricFilters');
            rubrics.forEach(rubric => {
                const item = document.createElement('div');
                item.className = 'legend-item';
                item.innerHTML = `
                    <input type="checkbox" id="rubric-${rubric.id}" checked onchange="toggleRubric('${rubric.id}')">
                    <label for="rubric-${rubric.id}">
                        <span>${rubric.name}</span>
                    </label>
                `;
                rubricContainer.appendChild(item);
            });

        }
        
        // Переключение философа
        function togglePhilosopher(philosopher) {
            if (selectedPhilosophers.has(philosopher)) {
                selectedPhilosophers.delete(philosopher);
            } else {
                selectedPhilosophers.add(philosopher);
            }
            applyFilters();
        }
        
        // Переключение типа связи
        function toggleRelation(relationType) {
            if (selectedRelations.has(relationType)) {
                selectedRelations.delete(relationType);
            } else {
                selectedRelations.add(relationType);
            }
            applyFilters();
        }
        
        // Выбрать всех философов
        function selectAllPhilosophers() {
            selectedPhilosophers = new Set(Object.keys(philosopherConcepts));
            Object.keys(philosopherConcepts).forEach(name => {
                document.getElementById(`phil-${name}`).checked = true;
            });
            applyFilters();
        }
        
        // Снять всех философов
        function deselectAllPhilosophers() {
            selectedPhilosophers.clear();
            Object.keys(philosopherConcepts).forEach(name => {
                document.getElementById(`phil-${name}`).checked = false;
            });
            applyFilters();
        }
        
        // Выбрать все связи
        function selectAllRelations() {
            selectedRelations = new Set(Object.keys(relationTypesObj));
            Object.keys(relationTypesObj).forEach(type => {
                document.getElementById(`rel-${type}`).checked = true;
            });
            applyFilters();
        }
        
        // Снять все связи
        function deselectAllRelations() {
            selectedRelations.clear();
            Object.keys(relationTypesObj).forEach(type => {
                document.getElementById(`rel-${type}`).checked = false;
            });
            applyFilters();
        }

        // Переключение рубрики
        function toggleRubric(rubricId) {
            if (selectedRubrics.has(rubricId)) {
                selectedRubrics.delete(rubricId);
            } else {
                selectedRubrics.add(rubricId);
            }
            applyFilters();
        }

        // Выбрать все рубрики
        function selectAllRubrics() {
            selectedRubrics = new Set(rubrics.map(r => r.id));
            rubrics.forEach(rubric => {
                document.getElementById(`rubric-${rubric.id}`).checked = true;
            });
            applyFilters();
        }

        // Снять все рубрики
        function deselectAllRubrics() {
            selectedRubrics.clear();
            rubrics.forEach(rubric => {
                document.getElementById(`rubric-${rubric.id}`).checked = false;
            });
            applyFilters();
        }

        /**
         * Переключение видимости секции в легенде (упрощённая версия без localStorage)
         * @param {string} sectionId - идентификатор секции ('philosophers', 'rubrics', 'relations')
         */
        function toggleSection(sectionId) {
            const header = event.currentTarget;
            const content = document.getElementById(`${sectionId}-content`);
            
            if (!content) {
                console.error(`Секция ${sectionId}-content не найдена`);
                return;
            }
            
            // Переключаем классы
            const isCollapsed = content.classList.contains('collapsed');
            
            if (isCollapsed) {
                // Разворачиваем
                content.classList.remove('collapsed');
                header.classList.remove('collapsed');
                
                // Устанавливаем max-height равным реальной высоте контента
                const scrollHeight = content.scrollHeight;
                content.style.maxHeight = scrollHeight + 'px';
                
                // После окончания анимации убираем ограничение
                setTimeout(() => {
                    if (!content.classList.contains('collapsed')) {
                        content.style.maxHeight = 'none';
                    }
                }, 300); // 300ms - длительность transition
                
            } else {
                // Перед сворачиванием устанавливаем текущую высоту
                const scrollHeight = content.scrollHeight;
                content.style.maxHeight = scrollHeight + 'px';
                
                // Принудительный reflow для применения стиля
                content.offsetHeight;
                
                // Сворачиваем
                content.classList.add('collapsed');
                header.classList.add('collapsed');
                content.style.maxHeight = '0px';
            }
        }
        
        // Переключение режима фильтрации
        function changeFilterMode(mode) {
            filterMode = mode;
            applyFilters();
        }

        // Переключение режима одинаковой толщины связей
        function toggleUniformLinkWidth() {
            const isUniform = document.getElementById('uniformLinkWidth').checked;
            
            if (isUniform) {
                svg.classed('uniform-width-links', true);
            } else {
                svg.classed('uniform-width-links', false);
            }
        }

        // Обновление статистики фильтров
        function updateFilterStats() {
            let visibleNodesCount = 0;
            let visibleLinksCount = 0;
            
            node.each(function() {
                if (this.style.display !== "none") visibleNodesCount++;
            });
            
            link.each(function() {
                if (this.style.display !== "none") visibleLinksCount++;
            });
            
            const totalNodes = nodes.length;
            const totalLinks = links.length;
            
            document.getElementById('filterStats').textContent = 
                `Показано: ${visibleNodesCount}/${totalNodes} концепций, ${visibleLinksCount}/${totalLinks} связей`;
        }

        // ============================================
        // ПОСТРОЕНИЕ ГРАФА СМЕЖНОСТИ
        // ============================================

        function buildGlobalGraphCache() {
            if (graphCache) return graphCache;
            
            const graph = {
                adjacency: {},      // Список смежности
                inNeighbors: {},    // Входящие соседи (для направленного графа)
                outNeighbors: {},   // Исходящие соседи (для направленного графа)
                allNeighbors: {},   // Все соседи (для ненаправленного)
                edgeWeights: {}     // Веса рёбер
            };
            
            // Инициализация
            nodes.forEach(n => {
                graph.adjacency[n.id] = [];
                graph.inNeighbors[n.id] = [];
                graph.outNeighbors[n.id] = [];
                graph.allNeighbors[n.id] = [];
                graph.edgeWeights[n.id] = {};
            });
            
            // Построение графа
            links.forEach(link => {
                const src = link.source.id || link.source;
                const tgt = link.target.id || link.target;
                const weight = link.weight || 2;
                
                // КРИТИЧНО: учитываем useWeightedPaths при построении!
                const distance = useWeightedPaths ? (4 - weight) : 1;
                const effectiveWeight = useWeightedPaths ? weight : 1;
                
                // Сохранение весов
                if (!graph.edgeWeights[src][tgt]) {
                    graph.edgeWeights[src][tgt] = { weight: effectiveWeight, distance: distance };
                }
                
                if (respectDirection) {
                    // Направленный граф
                    graph.outNeighbors[src].push({ node: tgt, weight: effectiveWeight, distance: distance });
                    graph.inNeighbors[tgt].push({ node: src, weight: effectiveWeight, distance: distance });
                    
                    if (link.bidirectional) {
                        graph.outNeighbors[tgt].push({ node: src, weight: effectiveWeight, distance: distance });
                        graph.inNeighbors[src].push({ node: tgt, weight: effectiveWeight, distance: distance });
                        
                        if (!graph.edgeWeights[tgt][src]) {
                            graph.edgeWeights[tgt][src] = { weight: effectiveWeight, distance: distance };
                        }
                    }
                    
                    // Для общего списка смежности
                    graph.adjacency[src].push({ node: tgt, weight: effectiveWeight, distance: distance });
                    graph.adjacency[tgt].push({ node: src, weight: effectiveWeight, distance: distance });
                } else {
                    // Ненаправленный граф
                    graph.allNeighbors[src].push({ node: tgt, weight: effectiveWeight, distance: distance });
                    graph.allNeighbors[tgt].push({ node: src, weight: effectiveWeight, distance: distance });
                    graph.adjacency[src].push({ node: tgt, weight: effectiveWeight, distance: distance });
                    graph.adjacency[tgt].push({ node: src, weight: effectiveWeight, distance: distance });
                }
            });
            
            // Удаление дубликатов
            Object.keys(graph.adjacency).forEach(nodeId => {
                const seen = new Set();
                graph.adjacency[nodeId] = graph.adjacency[nodeId].filter(neighbor => {
                    if (seen.has(neighbor.node)) return false;
                    seen.add(neighbor.node);
                    return true;
                });
            });
            
            ['inNeighbors', 'outNeighbors', 'allNeighbors'].forEach(key => {
                Object.keys(graph[key]).forEach(nodeId => {
                    const seen = new Set();
                    graph[key][nodeId] = graph[key][nodeId].filter(neighbor => {
                        if (seen.has(neighbor.node)) return false;
                        seen.add(neighbor.node);
                        return true;
                    });
                });
            });
            
            graphCache = graph;
            return graph;
        }
        
        // Расчет узлов-мостов (betweenness centrality - ПОЛНАЯ версия с асинхронностью)
        let betweennessCache = null;
        let betweennessCalculating = false;
        
        // ============================================
        // BETWEENNESS CENTRALITY (ОПТИМИЗИРОВАННАЯ)
        // ============================================

        async function calculateBetweennessAsync(progressCallback) {
            if (betweennessCache) return betweennessCache;
            if (betweennessCalculating) return null;
            
            betweennessCalculating = true;
            const betweenness = {};
            nodes.forEach(n => betweenness[n.id] = 0);
            
            // Предварительное построение графа
            const graph = buildGlobalGraphCache();
            
            let processedNodes = 0;
            const totalNodes = nodes.length;
            
            // Для каждого исходного узла - модифицированный алгоритм Брандеса
            for (let sourceIdx = 0; sourceIdx < nodes.length; sourceIdx++) {
                const source = nodes[sourceIdx];
                
                const S = []; // Стек узлов в порядке невозрастающего расстояния
                const P = {}; // Предшественники на кратчайших путях
                const sigma = {}; // Количество кратчайших путей
                const d = {}; // Расстояния
                const delta = {}; // Зависимости
                
                nodes.forEach(n => {
                    P[n.id] = [];
                    sigma[n.id] = 0;
                    d[n.id] = Infinity;
                    delta[n.id] = 0;
                });
                
                sigma[source.id] = 1;
                d[source.id] = 0;
                
                // ✅ УЛУЧШЕНО: Для взвешенных графов используем приоритетную очередь
                if (useWeightedPaths) {
                    // Алгоритм с приоритетной очередью (модифицированный Дейкстра)
                    const pq = [[0, source.id]];
                    const visited = new Set();
                    
                    while (pq.length > 0) {
                        pq.sort((a, b) => a[0] - b[0]);
                        const [currentDist, v] = pq.shift();
                        
                        if (visited.has(v)) continue;
                        visited.add(v);
                        S.push(v);
                        
                        // Получаем соседей из предпостроенного графа
                        let neighbors;
                        if (respectDirection) {
                            neighbors = graph.outNeighbors[v] || [];
                        } else {
                            neighbors = graph.allNeighbors[v] || [];
                        }
                        
                        neighbors.forEach(({ node: w, distance }) => {
                            const weight = distance;
                            const newDist = d[v] + weight;
                            
                            // Путь к w найден впервые или улучшен?
                            if (d[w] === Infinity) {
                                d[w] = newDist;
                                pq.push([newDist, w]);
                            }
                            
                            // Кратчайший путь к w через v?
                            if (Math.abs(d[w] - newDist) < 1e-10) {  // Учитываем погрешность float
                                sigma[w] += sigma[v];
                                P[w].push(v);
                            }
                        });
                    }
                } else {
                    // Для невзвешенных графов используем обычный BFS
                    const Q = [source.id];
                    
                    while (Q.length > 0) {
                        const v = Q.shift();
                        S.push(v);
                        
                        // Получаем соседей из предпостроенного графа
                        let neighbors;
                        if (respectDirection) {
                            neighbors = graph.outNeighbors[v] || [];
                        } else {
                            neighbors = graph.allNeighbors[v] || [];
                        }
                        
                        neighbors.forEach(({ node: w, distance }) => {
                            const weight = 1;  // Для невзвешенного графа
                            
                            // Путь к w найден впервые?
                            if (d[w] === Infinity) {
                                Q.push(w);
                                d[w] = d[v] + weight;
                            }
                            
                            // Кратчайший путь к w через v?
                            if (d[w] === d[v] + weight) {
                                sigma[w] += sigma[v];
                                P[w].push(v);
                            }
                        });
                    }
                }
                
                // Накопление (обратный проход) - одинаково для обоих случаев
                while (S.length > 0) {
                    const w = S.pop();
                    P[w].forEach(v => {
                        delta[v] += (sigma[v] / sigma[w]) * (1 + delta[w]);
                    });
                    if (w !== source.id) {
                        betweenness[w] += delta[w];
                    }
                }
                
                processedNodes++;
                
                // Обновляем прогресс каждые 10 узлов
                if (processedNodes % 10 === 0) {
                    if (progressCallback) {
                        progressCallback(processedNodes, totalNodes);
                    }
                    await new Promise(resolve => setTimeout(resolve, 0));
                }
            }
            
            // Нормализация
            const normFactor = respectDirection ? 1.0 : 2.0;
            Object.keys(betweenness).forEach(key => {
                betweenness[key] /= normFactor;
            });
            
            const result = Object.entries(betweenness)
                .map(([id, value]) => ({
                    node: nodes.find(n => n.id === id),
                    value: value,
                    count: Math.round(value)
                }))
                .sort((a, b) => b.value - a.value);
            
            betweennessCache = result;
            betweennessCalculating = false;
            
            if (progressCallback) {
                progressCallback(totalNodes, totalNodes);
            }
            
            return result;
        }
        
        // Синхронная версия для обратной совместимости (возвращает кэш или null)
        function calculateBetweenness() {
            if (betweennessCache) return betweennessCache;
            
            // Если кэша нет - запускаем асинхронный расчёт
            if (!betweennessCalculating) {
                calculateBetweennessAsync();
            }
            
            return null; // Вернём null, пока идёт расчёт
        }
        
        // Сброс кэша при изменении графа
        function invalidateBetweennessCache() {
            betweennessCache = null;
            betweennessCalculating = false;
        }
        
        // Кэш для PageRank
        let pageRankCache = null;
        let pageRankCalculating = false;
        
        // ============================================
        // PAGERANK (ОПТИМИЗИРОВАННАЯ)
        // ============================================

        function calculatePageRank(iterations = 20, dampingFactor = 0.85, progressCallback = null) {
            if (pageRankCache) return Promise.resolve(pageRankCache);
            if (pageRankCalculating) return Promise.resolve(null);
            
            pageRankCalculating = true;
            
            return new Promise(async (resolve) => {
                const pageRank = {};
                const graph = buildGlobalGraphCache();
                
                // Инициализация равномерным распределением
                nodes.forEach(n => {
                    pageRank[n.id] = 1.0 / nodes.length;
                });
                
                // Выбор стратегии нормализации               
                let normalizationStrategy;
                
                if (respectDirection) {
                    // СТРАТЕГИЯ 1: НАПРАВЛЕННЫЙ ГРАФ (стандартный PageRank) - Нормализация по количеству исходящих ребер
                    normalizationStrategy = {};
                    nodes.forEach(node => {
                        const outNeighbors = graph.outNeighbors[node.id] || [];
                        normalizationStrategy[node.id] = outNeighbors.length > 0 ? outNeighbors.length : 1;
                    });
                    
                } else {
                    // СТРАТЕГИЯ 2: НЕНАПРАВЛЕННЫЙ ГРАФ (Weighted PageRank) - Нормализация по СУММЕ ВЕСОВ ребер для создания асимметрии
                    normalizationStrategy = {};
                    nodes.forEach(node => {
                        let weightSum = 0;
                        const neighbors = graph.allNeighbors[node.id] || [];
                        
                        neighbors.forEach(({ weight }) => {
                            // В ненаправленном графе используем веса для дифференциации
                            weightSum += useWeightedPaths ? weight : 1;
                        });
                        
                        normalizationStrategy[node.id] = weightSum > 0 ? weightSum : 1;
                    });
                }
                
                // ОБЩИЙ ИТЕРАТИВНЫЙ АЛГОРИТМ               
                for (let iter = 0; iter < iterations; iter++) {
                    const newPageRank = {};
                    
                    nodes.forEach(node => {
                        let sum = 0;
                        
                        // Получаем входящих соседей в зависимости от режима
                        const incomingNeighbors = respectDirection 
                            ? (graph.inNeighbors[node.id] || [])
                            : (graph.allNeighbors[node.id] || []);
                        
                        // Суммируем вклады от всех входящих соседей
                        incomingNeighbors.forEach(({ node: neighbor, weight }) => {
                            const normalizationFactor = normalizationStrategy[neighbor];
                            
                            if (respectDirection) {
                                // Для направленного: вес ребра учитывается через деление на 3 (нормализация к диапазону [0.33, 0.67, 1.0] для весов 1-3)
                                const edgeWeight = useWeightedPaths ? weight / 3.0 : 1.0;
                                sum += (pageRank[neighbor] * edgeWeight) / normalizationFactor;
                            } else {
                                // Для ненаправленного: вес ребра используется в нормализации (создает асимметрию даже при симметричной структуре)
                                const edgeWeight = useWeightedPaths ? weight : 1;
                                sum += (pageRank[neighbor] * edgeWeight) / normalizationFactor;
                            }
                        });
                        
                        // Формула PageRank: (1-d)/N + d × sum
                        newPageRank[node.id] = (1 - dampingFactor) / nodes.length + dampingFactor * sum;
                    });
                    
                    // Обновить значения
                    Object.keys(newPageRank).forEach(key => {
                        pageRank[key] = newPageRank[key];
                    });
                    
                    // Обновление прогресса
                    if (progressCallback && iter % 5 === 0) {
                        progressCallback(iter, iterations);
                        await new Promise(res => setTimeout(res, 0));
                    }
                }
                
                // ФИНАЛЬНАЯ НОРМАЛИЗАЦИЯ - Для ненаправленного графа нормализуем сумму к 1 для лучшей читаемости
                if (!respectDirection) {
                    const totalPR = Object.values(pageRank).reduce((a, b) => a + b, 0);
                    if (totalPR > 0) {
                        Object.keys(pageRank).forEach(key => {
                            pageRank[key] /= totalPR;
                        });
                    }
                }
                
                // Формирование результата
                const result = Object.entries(pageRank)
                    .map(([id, value]) => ({
                        node: nodes.find(n => n.id === id),
                        value: value
                    }))
                    .sort((a, b) => b.value - a.value);
                
                pageRankCache = result;
                pageRankCalculating = false;
                
                if (progressCallback) progressCallback(iterations, iterations);
                
                resolve(result);
            });
        }
        
        function invalidatePageRankCache() {
            pageRankCache = null;
            pageRankCalculating = false;
        }
        
        // Кэш для Closeness
        let closenessCache = null;
        let closenessCalculating = false;

        // ============================================
        // ОПТИМИЗИРОВАННЫЙ BFS
        // ============================================

        // BFS от одного узла ко всем остальным за один проход
        function bfsFromSource(sourceId) {
            const graph = buildGlobalGraphCache();
            const distances = {};
            const visited = new Set();
            const queue = [sourceId];
            
            nodes.forEach(n => {
                distances[n.id] = Infinity;
            });
            distances[sourceId] = 0;
            visited.add(sourceId);
            
            while (queue.length > 0) {
                const current = queue.shift();
                const currentDist = distances[current];
                
                // Получаем соседей в зависимости от режима
                let neighbors;
                if (respectDirection) {
                    neighbors = graph.outNeighbors[current] || [];
                } else {
                    neighbors = graph.allNeighbors[current] || [];
                }
                
                neighbors.forEach(({ node: neighbor, distance }) => {
                    const edgeWeight = useWeightedPaths ? distance : 1;
                    const newDist = currentDist + edgeWeight;
                    
                    if (newDist < distances[neighbor]) {
                        distances[neighbor] = newDist;
                        
                        if (!visited.has(neighbor)) {
                            visited.add(neighbor);
                            queue.push(neighbor);
                        }
                    }
                });
            }
            
            return distances;
        }
        
        // ============================================
        // CLOSENESS CENTRALITY (ОПТИМИЗИРОВАННАЯ)
        // ============================================

        async function calculateClosenessCentrality(progressCallback = null) {
            if (closenessCache) return closenessCache;
            if (closenessCalculating) return null;
            
            closenessCalculating = true;
            const closeness = {};
            
            // Предварительное построение графа
            buildGlobalGraphCache();
            
            let processedNodes = 0;
            const totalNodes = nodes.length;
            
            // Для каждого узла запускаем алгоритм поиска кратчайших путей
            for (let i = 0; i < nodes.length; i++) {
                const source = nodes[i];
                
                // ✅ ИСПРАВЛЕНО: используем Дейкстру для взвешенных графов
                const distances = useWeightedPaths 
                    ? dijkstraFromSource(source.id)  // Для взвешенных графов
                    : bfsFromSource(source.id);       // Для невзвешенных графов
                
                // Подсчёт метрики
                let totalDistance = 0;
                let reachableNodes = 0;
                
                Object.entries(distances).forEach(([targetId, dist]) => {
                    if (targetId !== source.id && dist !== Infinity) {
                        totalDistance += dist;
                        reachableNodes++;
                    }
                });
                
                // Нормализованная closeness (Wasserman & Faust, 1994)
                if (reachableNodes > 0) {
                    // ✅ УЛУЧШЕНО: более понятная формула
                    // normalizedCloseness = (reachableNodes^2) / ((N-1) * totalDistance)
                    const normalizedCloseness = (reachableNodes * reachableNodes) / 
                                               ((nodes.length - 1) * totalDistance);
                    
                    closeness[source.id] = {
                        value: normalizedCloseness,
                        node: source,
                        reachable: reachableNodes
                    };
                } else {
                    closeness[source.id] = { value: 0, node: source, reachable: 0 };
                }
                
                processedNodes++;
                
                // Обновление прогресса реже - каждые 10 узлов
                if (processedNodes % 10 === 0) {
                    if (progressCallback) {
                        progressCallback(processedNodes, totalNodes);
                    }
                    await new Promise(resolve => setTimeout(resolve, 0));
                }
            }
            
            const result = Object.values(closeness).sort((a, b) => b.value - a.value);
            closenessCache = result;
            closenessCalculating = false;
            
            if (progressCallback) progressCallback(totalNodes, totalNodes);
            
            return result;
        }
        
        function invalidateClosenessCache() {
            closenessCache = null;
            closenessCalculating = false;
        }
        
        // Кэш для Clustering
        let clusteringCache = null;
        
        // ============================================
        // CLUSTERING COEFFICIENT (ОПТИМИЗИРОВАННАЯ)
        // ============================================

        function calculateClusteringCoefficient() {
            if (clusteringCache) return clusteringCache;
            
            const clustering = {};
            const graph = buildGlobalGraphCache();
            
            nodes.forEach(node => {
                // Получаем всех соседей из предпостроенного графа
                const neighbors = new Set();
                graph.adjacency[node.id].forEach(({ node: neighbor }) => {
                    neighbors.add(neighbor);
                });
                
                const k = neighbors.size;
                if (k < 2) {
                    clustering[node.id] = { value: 0, node: node, neighbors: k };
                    return;
                }
                
                // Подсчитать связи между соседями, используя предпостроенный граф
                let edgesBetweenNeighbors = 0;
                const neighborArray = Array.from(neighbors);
                
                for (let i = 0; i < neighborArray.length; i++) {
                    const neighborAdjacency = new Set(
                        graph.adjacency[neighborArray[i]].map(({ node }) => node)
                    );
                    
                    for (let j = i + 1; j < neighborArray.length; j++) {
                        if (neighborAdjacency.has(neighborArray[j])) {
                            edgesBetweenNeighbors++;
                        }
                    }
                }
                
                clustering[node.id] = {
                    value: (2.0 * edgesBetweenNeighbors) / (k * (k - 1)),
                    node: node,
                    neighbors: k
                };
            });
            
            const result = Object.values(clustering).sort((a, b) => b.value - a.value);
            clusteringCache = result;
            return result;
        }
        
        function invalidateClusteringCache() {
            clusteringCache = null;
        }
        
        // ============================================
        // УЛУЧШЕННЫЕ МЕТРИКИ КЛАСТЕРИЗАЦИИ
        // ============================================

        // Глобальные переменные для кэширования
        let weightedClusteringCache = null;
        let localCohesionCache = null;
        let richClubCache = null;

        /**
         * Взвешенный коэффициент кластеризации (Barrat et al., 2004)
         * Учитывает силу связей в треугольниках
         */
        function calculateWeightedClustering() {
            if (weightedClusteringCache) return weightedClusteringCache;
            
            const clustering = {};
            const graph = buildGlobalGraphCache();
            
            nodes.forEach(node => {
                // Получаем всех соседей
                const neighbors = new Set();
                const neighborWeights = new Map(); // Веса связей с соседями
                
                graph.adjacency[node.id].forEach(({ node: neighbor, weight }) => {
                    neighbors.add(neighbor);
                    neighborWeights.set(neighbor, weight);
                });
                
                const k = neighbors.size;
                if (k < 2) {
                    clustering[node.id] = { 
                        value: 0, 
                        node: node, 
                        neighbors: k,
                        strength: 0,
                        triangleStrength: 0
                    };
                    return;
                }
                
                // Подсчитываем strength узла (сумма весов)
                let strength = 0;
                neighborWeights.forEach(w => strength += w);
                
                // Подсчитываем взвешенную кластеризацию
                let weightedTriangles = 0;
                const neighborArray = Array.from(neighbors);
                
                for (let i = 0; i < neighborArray.length; i++) {
                    const neighborAdjacency = new Map();
                    graph.adjacency[neighborArray[i]].forEach(({ node, weight }) => {
                        neighborAdjacency.set(node, weight);
                    });
                    
                    for (let j = i + 1; j < neighborArray.length; j++) {
                        if (neighborAdjacency.has(neighborArray[j])) {
                            // Треугольник найден: node - neighborArray[i] - neighborArray[j] - node
                            const w_ij = neighborWeights.get(neighborArray[i]);
                            const w_ih = neighborWeights.get(neighborArray[j]);
                            const w_jh = neighborAdjacency.get(neighborArray[j]);
                            
                            // Средний вес треугольника
                            const triangleWeight = (w_ij + w_ih + w_jh) / 3.0;
                            weightedTriangles += triangleWeight;
                        }
                    }
                }
                
                // Нормализация
                const maxPossibleTriangles = (k * (k - 1)) / 2;
                const normalizedValue = weightedTriangles / maxPossibleTriangles;
                
                clustering[node.id] = {
                    value: normalizedValue,
                    node: node,
                    neighbors: k,
                    strength: strength,
                    triangleStrength: weightedTriangles,
                    maxTriangles: maxPossibleTriangles
                };
            });
            
            const result = Object.values(clustering).sort((a, b) => b.value - a.value);
            weightedClusteringCache = result;
            return result;
        }

        function invalidateWeightedClusteringCache() {
            weightedClusteringCache = null;
        }

        /**
         * Локальная когезия (Local Cohesion Score)
         * Комбинирует кластеризацию × силу связей × количество соседей
         */
        function calculateLocalCohesion() {
            if (localCohesionCache) return localCohesionCache;
            
            const clustering = calculateClusteringCoefficient();
            const weightedDegree = calculateWeightedDegree();
            
            const cohesion = clustering.map(c => {
                const wd = weightedDegree.find(w => w.node.id === c.node.id);
                
                // Логарифм для сглаживания разброса
                const strengthBonus = Math.log(1 + (wd?.totalWeight || 0));
                const degreeBonus = Math.log(1 + c.neighbors);
                
                const cohesionScore = c.value * strengthBonus * degreeBonus;
                
                return {
                    node: c.node,
                    value: cohesionScore,
                    clustering: c.value,
                    strength: wd?.totalWeight || 0,
                    neighbors: c.neighbors,
                    rawScore: c.value * (wd?.totalWeight || 0)
                };
            });
            
            const result = cohesion.sort((a, b) => b.value - a.value);
            localCohesionCache = result;
            return result;
        }

        function invalidateLocalCohesionCache() {
            localCohesionCache = null;
        }

        /**
         * Rich-Club коэффициент
         * Показывает степень связности узла с другими высокостепенными узлами
         */
        function calculateRichClubCoefficient() {
            if (richClubCache) return richClubCache;
            
            const graph = buildGlobalGraphCache();
            const degrees = new Map();
            
            // Подсчёт степеней
            nodes.forEach(node => {
                const neighborCount = (graph.adjacency[node.id] || []).length;
                degrees.set(node.id, neighborCount);
            });
            
            const richClub = nodes.map(node => {
                const neighbors = graph.adjacency[node.id] || [];
                const myDegree = degrees.get(node.id);
                
                if (neighbors.length === 0) {
                    return {
                        node: node,
                        value: 0,
                        degree: 0,
                        avgNeighborDegree: 0
                    };
                }
                
                // Средняя степень соседей
                let neighborDegreeSum = 0;
                let highDegreeNeighbors = 0;
                
                neighbors.forEach(({ node: neighborId }) => {
                    const neighborDegree = degrees.get(neighborId) || 0;
                    neighborDegreeSum += neighborDegree;
                    
                    // Считаем "богатых" соседей (степень выше или равна моей)
                    if (neighborDegree >= myDegree) {
                        highDegreeNeighbors++;
                    }
                });
                
                const avgNeighborDegree = neighborDegreeSum / neighbors.length;
                
                // Rich-club score: отношение богатых соседей к общему числу
                const richClubRatio = highDegreeNeighbors / neighbors.length;
                
                // Комбинированная метрика
                const combinedScore = richClubRatio * Math.log(1 + avgNeighborDegree);
                
                return {
                    node: node,
                    value: combinedScore,
                    richClubRatio: richClubRatio,
                    degree: myDegree,
                    avgNeighborDegree: avgNeighborDegree,
                    highDegreeNeighbors: highDegreeNeighbors
                };
            });
            
            const result = richClub.sort((a, b) => b.value - a.value);
            richClubCache = result;
            return result;
        }

        function invalidateRichClubCache() {
            richClubCache = null;
        }

        // ============================================
        // WEIGHTED DEGREE (ОПТИМИЗИРОВАННАЯ)
        // ============================================

        function calculateWeightedDegree() {
            const weightedDegree = {};
            const graph = buildGlobalGraphCache();
            
            nodes.forEach(node => {
                let inWeight = 0;
                let outWeight = 0;
                let inCount = 0;
                let outCount = 0;
                
                if (respectDirection) {
                    // Используем предпостроенные списки
                    const inNeighbors = graph.inNeighbors[node.id] || [];
                    const outNeighbors = graph.outNeighbors[node.id] || [];
                    
                    inNeighbors.forEach(({ weight }) => {
                        inWeight += useWeightedPaths ? weight : 1;
                        inCount++;
                    });
                    
                    outNeighbors.forEach(({ weight }) => {
                        outWeight += useWeightedPaths ? weight : 1;
                        outCount++;
                    });
                } else {
                    // ✅ ИСПРАВЛЕНО: Для ненаправленного графа
                    const allNeighbors = graph.allNeighbors[node.id] || [];
                    
                    allNeighbors.forEach(({ weight }) => {
                        const w = useWeightedPaths ? weight : 1;
                        inWeight += w;
                        inCount++;
                    });
                    
                    // В ненаправленном графе in = out
                    outWeight = inWeight;
                    outCount = inCount;
                }
                
                weightedDegree[node.id] = {
                    inWeight: inWeight,
                    outWeight: outWeight,
                    totalWeight: respectDirection ? (inWeight + outWeight) : inWeight,
                    inCount: inCount,
                    outCount: outCount,
                    totalCount: respectDirection ? (inCount + outCount) : inCount,
                    node: node
                };
            });
            
            return Object.values(weightedDegree).sort((a, b) => b.totalWeight - a.totalWeight);
        }
        
        /**
         * Алгоритм Дейкстры для поиска кратчайших путей от одного узла ко всем остальным
         * Использует приоритетную очередь для корректной работы с взвешенными графами
         * @param {string} sourceId - ID исходного узла
         * @returns {Object} Объект с расстояниями от source до всех узлов
         */
        function dijkstraFromSource(sourceId) {
            const graph = buildGlobalGraphCache();
            const distances = {};
            const visited = new Set();
            
            // Инициализация расстояний
            nodes.forEach(n => {
                distances[n.id] = Infinity;
            });
            distances[sourceId] = 0;
            
            // Приоритетная очередь: массив пар [distance, nodeId]
            const priorityQueue = [[0, sourceId]];
            
            while (priorityQueue.length > 0) {
                // Сортируем очередь и берем узел с минимальным расстоянием
                priorityQueue.sort((a, b) => a[0] - b[0]);
                const [currentDist, current] = priorityQueue.shift();
                
                // Пропускаем, если уже посетили
                if (visited.has(current)) continue;
                visited.add(current);
                
                // Получаем соседей в зависимости от режима
                let neighbors;
                if (respectDirection) {
                    neighbors = graph.outNeighbors[current] || [];
                } else {
                    neighbors = graph.allNeighbors[current] || [];
                }
                
                // Релаксация ребер
                neighbors.forEach(({ node: neighbor, distance }) => {
                    if (visited.has(neighbor)) return;
                    
                    const edgeWeight = useWeightedPaths ? distance : 1;
                    const newDist = currentDist + edgeWeight;
                    
                    if (newDist < distances[neighbor]) {
                        distances[neighbor] = newDist;
                        priorityQueue.push([newDist, neighbor]);
                    }
                });
            }
            
            return distances;
        }
        
        // Кэш для Eigenvector Centrality
        let eigenvectorCache = null;
        let eigenvectorCalculating = false;

        let graphCache = null;
        
        // ============================================
        // EIGENVECTOR CENTRALITY (ОПТИМИЗИРОВАННАЯ)
        // ============================================

        async function calculateEigenvectorCentrality(iterations = 100, progressCallback = null) {
            if (eigenvectorCache) return eigenvectorCache;
            if (eigenvectorCalculating) return null;
            
            eigenvectorCalculating = true;
            
            return new Promise(async (resolve) => {
                const eigenvector = {};
                
                // Инициализация равными значениями
                nodes.forEach(n => {
                    eigenvector[n.id] = 1.0 / Math.sqrt(nodes.length);
                });
                
                // Использовать предпостроенный граф
                const graph = buildGlobalGraphCache();
                
                // Power iteration method
                for (let iter = 0; iter < iterations; iter++) {
                    const newEigenvector = {};
                    
                    // Вычисляем новые значения
                    nodes.forEach(node => {
                        let sum = 0;
                        
                        // Получаем входящих соседей из предпостроенного графа
                        const neighbors = respectDirection 
                            ? (graph.inNeighbors[node.id] || [])
                            : (graph.allNeighbors[node.id] || []);
                        
                        neighbors.forEach(({ node: neighbor, weight }) => {
                            const edgeWeight = useWeightedPaths ? weight / 3.0 : 1.0;
                            sum += eigenvector[neighbor] * edgeWeight;
                        });
                        
                        newEigenvector[node.id] = sum;
                    });
                    
                    // Нормализация (L2 norm)
                    let norm = 0;
                    Object.values(newEigenvector).forEach(val => {
                        norm += val * val;
                    });
                    norm = Math.sqrt(norm);
                    
                    // Избегаем деления на ноль
                    if (norm < 1e-10) {
                        console.warn('Eigenvector: норма слишком мала, прерываем итерации');
                        break;
                    }
                    
                    Object.keys(newEigenvector).forEach(key => {
                        eigenvector[key] = newEigenvector[key] / norm;
                    });
                    
                    // Обновляем прогресс реже - каждые 10 итераций
                    if (progressCallback && iter % 10 === 0) {
                        progressCallback(iter, iterations);
                        await new Promise(res => setTimeout(res, 0));
                    }
                }
                
                const result = Object.entries(eigenvector)
                    .map(([id, value]) => ({
                        node: nodes.find(n => n.id === id),
                        value: value
                    }))
                    .sort((a, b) => b.value - a.value);
                
                eigenvectorCache = result;
                eigenvectorCalculating = false;
                
                if (progressCallback) progressCallback(iterations, iterations);
                
                resolve(result);
            });
        }
        
        function invalidateEigenvectorCache() {
            eigenvectorCache = null;
            eigenvectorCalculating = false;
        }
        
        // ============================================
        // CONNECTED COMPONENTS (ОПТИМИЗИРОВАННАЯ)
        // ============================================

        function findConnectedComponents() {
            const visited = new Set();
            const components = [];
            const graph = buildGlobalGraphCache();
            
            nodes.forEach(node => {
                if (visited.has(node.id)) return;
                
                const component = [];
                const queue = [node.id];
                visited.add(node.id);
                
                while (queue.length > 0) {
                    const current = queue.shift();
                    component.push(current);
                    
                    // Получаем соседей из предпостроенного графа
                    const neighbors = respectDirection 
                        ? (graph.outNeighbors[current] || [])
                        : (graph.allNeighbors[current] || []);
                    
                    neighbors.forEach(({ node: neighbor }) => {
                        if (!visited.has(neighbor)) {
                            visited.add(neighbor);
                            queue.push(neighbor);
                        }
                    });
                }
                
                components.push(component);
            });
            
            return components;
        }

        // ============================================
        // ФУНКЦИИ ДЛЯ ФИЛОСОФСКОГО АНАЛИЗА
        // ============================================

        // Глобальные переменные для метрик
        let _concepts = null;
        let _relations = null;
        let _philosophers = null;
        let _conceptMap = null;
        let _philosopherMap = null;
        let _incomingLinks = null;
        let _outgoingLinks = null;

        // Вспомогательные функции для построения графа связей
        function buildIncomingLinks() {
            const incoming = new Map();
            _concepts.forEach(c => incoming.set(c.id, []));
            _relations.forEach(r => {
                if (!incoming.has(r.target)) incoming.set(r.target, []);
                incoming.get(r.target).push(r);
                if (r.bidirectional) {
                    if (!incoming.has(r.source)) incoming.set(r.source, []);
                    incoming.get(r.source).push({...r, source: r.target, target: r.source});
                }
            });
            return incoming;
        }

        function buildOutgoingLinks() {
            const outgoing = new Map();
            _concepts.forEach(c => outgoing.set(c.id, []));
            _relations.forEach(r => {
                if (!outgoing.has(r.source)) outgoing.set(r.source, []);
                outgoing.get(r.source).push(r);
                if (r.bidirectional) {
                    if (!outgoing.has(r.target)) outgoing.set(r.target, []);
                    outgoing.get(r.target).push({...r, source: r.target, target: r.source});
                }
            });
            return outgoing;
        }

        // Функция инициализации глобальных переменных метрик
        function initializeMetricsData(conceptsData, relationsData, philosophersData) {
            _concepts = conceptsData;
            _relations = relationsData;
            _philosophers = philosophersData;
            _conceptMap = new Map(_concepts.map(c => [c.id, c]));
            _philosopherMap = new Map(_philosophers.map(p => [p.id, p]));
            _incomingLinks = buildIncomingLinks();
            _outgoingLinks = buildOutgoingLinks();
        }

        // ============================================
        // ФУНКЦИИ БАЗОВЫХ ФИЛОСОФСКИХ МЕТРИК
        // ============================================

        // Кеш для problemGenerationIndex
        let problemGenerationIndexCache = null;
        /*
        function problemGenerationIndex(conceptId) {

            const incoming = _incomingLinks.get(conceptId) || [];

            const critiques = incoming.filter(r => r.type === 'critique').length;
            const oppositions = incoming.filter(r => r.type === 'oppose').length;
            const contradictions = incoming.filter(r => r.type === 'internal_contradiction').length;

            const weightedCriticism = incoming.reduce((sum, r) => {
            const typeWeight = {
            'critique': 2,
            'oppose': 3,
            'internal_contradiction': 4
            }[r.type] || 0;
            return sum + typeWeight * (r.weight || 1);
            }, 0);

            return {
            raw: critiques + oppositions + contradictions,
            weighted: weightedCriticism,
            critiques,
            oppositions,
            contradictions
            };
        }
        */

        function problemGenerationIndex(conceptId) {
            const incoming = _incomingLinks.get(conceptId) || [];
            const outgoing = _outgoingLinks.get(conceptId) || [];
            
            // ============================================
            // 1. ИММАНЕНТНЫЕ ПРОТИВОРЕЧИЯ (исходный подход верен!)
            // ============================================
            const internalContradictions = incoming.filter(r => 
                r.type === 'internal_contradiction'
            ).reduce((sum, r) => sum + (r.weight || 1), 0);
            
            // Также учитываем противоречия, которые эта концепция порождает
            const outgoingContradictions = outgoing.filter(r => 
                r.type === 'internal_contradiction'
            ).reduce((sum, r) => sum + (r.weight || 1), 0);
            
            // ============================================
            // 2. ПОРОЖДЕНИЕ ПРОБЛЕМАТИЗАЦИИ (новое!)
            // ============================================
            // Исходящие критики и оппозиции - активная проблемность
            const activeProblematization = outgoing.filter(r => 
                r.type === 'critique' || r.type === 'oppose'
            ).reduce((sum, r) => sum + (r.weight || 1), 0);
            
            // ============================================
            // 3. ПОЛУЧЕНИЕ КРИТИКИ (исходный подход)
            // ============================================
            const incomingCritiques = incoming.filter(r => 
                r.type === 'critique'
            ).reduce((sum, r) => sum + (r.weight || 1), 0);
            
            const incomingOppositions = incoming.filter(r => 
                r.type === 'oppose'
            ).reduce((sum, r) => sum + (r.weight || 1), 0);
            
            // ============================================
            // 4. ОГРАНИЧЕНИЯ И УСЛОВИЯ (новое!)
            // ============================================
            // Связи типа "limit" - концепция имеет признанные границы
            const acknowledgedLimits = incoming.filter(r => 
                r.type === 'limit'
            ).length;
            
            // Связи типа "condition" - концепция требует условий
            const conditionalDependencies = incoming.filter(r => 
                r.type === 'condition'
            ).length;
            
            // ============================================
            // 5. ПОРОЖДЕНИЕ РАЗВИТИЯ (новое!)
            // ============================================
            // Сколько концепций "возникли из" данной (emerge_from)
            const conceptsEmergedFrom = incoming.filter(r => 
                r.type === 'emerge_from'
            ).length;
            
            // Сколько концепций эта концепция "кульминирует в"
            const culminations = outgoing.filter(r => 
                r.type === 'culminate'
            ).length;
            
            // ============================================
            // 6. ДВУНАПРАВЛЕННЫЕ ПРОБЛЕМЫ (новое!)
            // ============================================
            const bidirectionalContradictions = incoming.filter(r => 
                r.type === 'internal_contradiction' && r.bidirectional
            ).length;
            
            // ============================================
            // ВЗВЕШЕННАЯ ФОРМУЛА
            // ============================================
            const total = 
                (internalContradictions + outgoingContradictions) * 4.0 +  // Имманентные апории
                bidirectionalContradictions * 1.5 +                         // Взаимные противоречия
                activeProblematization * 2.0 +                              // Активная критика
                incomingCritiques * 1.5 +                                   // Получение критики
                incomingOppositions * 2.0 +                                 // Оппозиции
                acknowledgedLimits * 1.0 +                                  // Признанные ограничения
                conditionalDependencies * 0.8 +                             // Условность
                conceptsEmergedFrom * 1.2 +                                 // Порождение новых концепций
                culminations * 1.0;                                         // Кульминации
            
            return {
                total,
                weighted: total,
                internalContradictions,
                outgoingContradictions,
                bidirectionalContradictions,
                activeProblematization,
                incomingCritiques,
                incomingOppositions,
                acknowledgedLimits,
                conditionalDependencies,
                conceptsEmergedFrom,
                culminations,
                // Старый формат для совместимости
                raw: incomingCritiques + incomingOppositions + internalContradictions,
                critiques: incomingCritiques,
                oppositions: incomingOppositions,
                contradictions: internalContradictions
            };
        }

        function invalidateProblemGenerationIndexCache() {
            problemGenerationIndexCache = null;
        }

        // Кеш для criticalPowerIndex
        let criticalPowerIndexCache = null;
        /*
        function criticalPowerIndex(conceptId) {

            const outgoing = _outgoingLinks.get(conceptId) || [];

            const critiques = outgoing.filter(r => r.type === 'critique');
            const oppositions = outgoing.filter(r => r.type === 'oppose');

            const targetInfluence = critiques.concat(oppositions).reduce((sum, r) => {
            const targetIn = _incomingLinks.get(r.target) || [];
            return sum + targetIn.length;
            }, 0);

            return {
            raw: critiques.length + oppositions.length,
            weighted: outgoing.reduce((sum, r) => {
            const typeWeight = {
            'critique': 2,
            'oppose': 3
            }[r.type] || 0;
            return sum + typeWeight * (r.weight || 1);
            }, 0),
            targetInfluence: targetInfluence / (critiques.length + oppositions.length || 1)
            };
        }
        */

        function criticalPowerIndex(conceptId) {
            const incoming = _incomingLinks.get(conceptId) || [];
            const outgoing = _outgoingLinks.get(conceptId) || [];
            const concept = _conceptMap.get(conceptId);
            const philosopher = _philosopherMap.get(concept?.philosopher);
            
            // ============================================
            // 1. ОБЪЁМ КРИТИЧЕСКОЙ АКТИВНОСТИ
            // ============================================
            const critiques = outgoing.filter(r => r.type === 'critique');
            const oppositions = outgoing.filter(r => r.type === 'oppose');
            
            const rawCriticalActivity = critiques.length + oppositions.length;
            
            const weightedCriticalActivity = outgoing.reduce((sum, r) => {
                const typeWeight = {
                    'critique': 2,
                    'oppose': 3
                }[r.type] || 0;
                return sum + typeWeight * (r.weight || 1);
            }, 0);
            
            // ============================================
            // 2. КАЧЕСТВО ЦЕЛЕЙ (улучшено)
            // ============================================
            // Не просто средняя влиятельность, а распределение
            const targetAnalysis = critiques.concat(oppositions).reduce((acc, r) => {
                const targetIn = _incomingLinks.get(r.target) || [];
                const targetInfluence = targetIn.length;
                
                // Категоризация целей
                if (targetInfluence > 15) acc.majorTargets++; // Центральные концепции
                else if (targetInfluence > 5) acc.mediumTargets++;
                else acc.minorTargets++;
                
                acc.totalTargetInfluence += targetInfluence;
                
                return acc;
            }, { majorTargets: 0, mediumTargets: 0, minorTargets: 0, totalTargetInfluence: 0 });
            
            const averageTargetInfluence = rawCriticalActivity > 0
                ? targetAnalysis.totalTargetInfluence / rawCriticalActivity
                : 0;
            
            // Бонус за критику центральных концепций
            const majorTargetBonus = targetAnalysis.majorTargets * 2.0;
            
            // ============================================
            // 3. ЭФФЕКТИВНОСТЬ КРИТИКИ (новое!)
            // ============================================
            // Породила ли критика последствия?
            const criticalConsequences = critiques.concat(oppositions).reduce((sum, r) => {
                const targetOut = _outgoingLinks.get(r.target) || [];
                
                // Цель критики породила ответы/развития ПОСЛЕ критики?
                // (упрощение: считаем все исходящие от цели)
                const targetResponses = targetOut.filter(link => 
                    link.type === 'develop' || 
                    link.type === 'synthesize' ||
                    link.type === 'complement'
                ).length;
                
                return sum + targetResponses;
            }, 0);
            
            // Породила ли сама критическая концепция развития?
            const ownDevelopments = outgoing.filter(r => 
                r.type === 'develop' || r.type === 'synthesize'
            ).length;
            
            // Эффективность = критика стимулировала изменения
            const effectiveness = criticalConsequences + ownDevelopments * 2;
            
            // ============================================
            // 4. ШИРОТА КРИТИЧЕСКОЙ АТАКИ (новое!)
            // ============================================
            // Сколько РАЗНЫХ философов/эпох критикует?
            const targetedPhilosophers = new Set(
                critiques.concat(oppositions).map(r => {
                    const target = _conceptMap.get(r.target);
                    return target?.philosopher;
                }).filter(Boolean)
            ).size;
            
            // Временной диапазон критикуемых
            const targetedEras = critiques.concat(oppositions).map(r => {
                const target = _conceptMap.get(r.target);
                const targetPhil = _philosopherMap.get(target?.philosopher);
                return targetPhil?.birth;
            }).filter(Boolean);
            
            const eraSpan = targetedEras.length > 0
                ? Math.max(...targetedEras) - Math.min(...targetedEras)
                : 0;
            
            // ============================================
            // 5. КОНСТРУКТИВНОСТЬ КРИТИКИ (новое!)
            // ============================================
            // Критика + синтез = конструктивная критика (Кант)
            // Критика без синтеза = деструктивная критика (Ницше, скептики)
            const synthesesAfterCritique = outgoing.filter(r => 
                r.type === 'synthesize'
            ).length;
            
            const constructivenessRatio = rawCriticalActivity > 0
                ? synthesesAfterCritique / rawCriticalActivity
                : 0;
            
            // ============================================
            // 6. ВРЕМЕННАЯ ПЕРСПЕКТИВА (новое!)
            // ============================================
            // Критика философов из прошлого (ретроспективная)
            const retroactiveCritiques = critiques.concat(oppositions).filter(r => {
                const target = _conceptMap.get(r.target);
                const targetPhil = _philosopherMap.get(target?.philosopher);
                return targetPhil && philosopher && targetPhil.birth < philosopher.birth;
            }).length;
            
            // Критика современников (синхронная)
            const contemporaryCritiques = critiques.concat(oppositions).filter(r => {
                const target = _conceptMap.get(r.target);
                const targetPhil = _philosopherMap.get(target?.philosopher);
                return targetPhil && philosopher && 
                    Math.abs(targetPhil.birth - philosopher.birth) < 30;
            }).length;
            
            // ============================================
            // ИНТЕГРАЛЬНЫЙ ИНДЕКС
            // ============================================
            const total = 
                weightedCriticalActivity * 1.0 +        // Базовая активность
                majorTargetBonus * 1.5 +                 // Критика центральных концепций
                effectiveness * 2.0 +                    // Эффективность (главное!)
                targetedPhilosophers * 0.8 +             // Широта атаки
                eraSpan / 100 +                          // Временной диапазон
                (constructivenessRatio > 0.3 ? 3 : 0);   // Бонус за конструктивность
            
            return {
                total,
                
                // Активность
                rawCriticalActivity,
                weightedCriticalActivity,
                
                // Качество целей
                targets: {
                    majorTargets: targetAnalysis.majorTargets,
                    mediumTargets: targetAnalysis.mediumTargets,
                    minorTargets: targetAnalysis.minorTargets,
                    averageInfluence: averageTargetInfluence
                },
                
                // Эффективность
                effectiveness,
                criticalConsequences,
                ownDevelopments,
                
                // Широта
                targetedPhilosophers,
                eraSpan,
                
                // Тип критики
                constructivenessRatio,
                retroactiveCritiques,
                contemporaryCritiques,
                
                // Для обратной совместимости
                raw: rawCriticalActivity,
                weighted: weightedCriticalActivity,
                targetInfluence: averageTargetInfluence
            };
        }

        function invalidateCriticalPowerIndexCache() {
            criticalPowerIndexCache = null;
        }

        // Кеш для revolutionaryIndex
        let revolutionaryIndexCache = null;
        /*
        function revolutionaryIndex(conceptId) {

            const concept = _conceptMap.get(conceptId);
            if (!concept) return { total: 0 };

            const philosopher = _philosopherMap.get(concept.philosopher);
            if (!philosopher) return { total: 0 };

            const incoming = _incomingLinks.get(conceptId) || [];
            const outgoing = _outgoingLinks.get(conceptId) || [];

            const oppositionsToEarlier = incoming.filter(r => {
                const source = _conceptMap.get(r.source);
                if (!source) return false;
                const sourcePhil = _philosopherMap.get(source.philosopher);
                return sourcePhil && r.type === 'oppose' && sourcePhil.birth < philosopher.birth;
            }).length;

            const critiquesOfInfluential = outgoing.filter(r => {
                if (r.type !== 'critique' && r.type !== 'oppose') return false;
                const targetIn = _incomingLinks.get(r.target) || [];
                return targetIn.length > 10;
            }).length;

            const syntheses = outgoing.filter(r => r.type === 'synthesize').length;
            const developments = incoming.filter(r => r.type === 'develop').length;

            const influences = incoming.filter(r => {
                const source = _conceptMap.get(r.source);
                if (!source) return false;
                const sourcePhil = _philosopherMap.get(source.philosopher);
                return sourcePhil && r.type === 'influence' && sourcePhil.birth < philosopher.birth;
            }).length;

            const rootedness = influences / Math.max(oppositionsToEarlier, 1);

            return {
            total: oppositionsToEarlier * 2 + critiquesOfInfluential * 1.5 + syntheses * 2 + developments - rootedness * 3,
            oppositionsToEarlier,
            critiquesOfInfluential,
            syntheses,
            developments,
            rootedness
            };
        }
        */

        function revolutionaryIndex(conceptId) {
            const concept = _conceptMap.get(conceptId);
            if (!concept) return { total: 0 };

            const philosopher = _philosopherMap.get(concept.philosopher);
            if (!philosopher) return { total: 0 };

            const incoming = _incomingLinks.get(conceptId) || [];
            const outgoing = _outgoingLinks.get(conceptId) || [];

            // ============================================
            // 1. НЕЗАВИСИМОСТЬ ОТ ТРАДИЦИИ (исправлено)
            // ============================================
            const weightedOppositionsToEarlier = incoming.filter(r => {
                const source = _conceptMap.get(r.source);
                if (!source) return false;
                const sourcePhil = _philosopherMap.get(source.philosopher);
                return sourcePhil && r.type === 'oppose' && sourcePhil.birth < philosopher.birth;
            }).reduce((sum, r) => sum + (r.weight || 1), 0);

            const weightedInfluencesFromEarlier = incoming.filter(r => {
                const source = _conceptMap.get(r.source);
                if (!source) return false;
                const sourcePhil = _philosopherMap.get(source.philosopher);
                return sourcePhil && r.type === 'influence' && sourcePhil.birth < philosopher.birth;
            }).reduce((sum, r) => sum + (r.weight || 1), 0);

            // Баланс: революционность = оппозиции минус укоренённость
            // Используем разность вместо деления (избегаем деления на 0)
            const independenceScore = weightedOppositionsToEarlier - weightedInfluencesFromEarlier * 0.5;

            // ============================================
            // 2. КРИТИКА ДОМИНИРУЮЩИХ ИДЕЙ (улучшено)
            // ============================================
            const weightedCritiquesOfInfluential = outgoing.filter(r => {
                if (r.type !== 'critique' && r.type !== 'oppose') return false;
                const targetIn = _incomingLinks.get(r.target) || [];
                return targetIn.length > 10; // Целится в "узлы" графа
            }).reduce((sum, r) => sum + (r.weight || 1), 0);

            // ============================================
            // 3. СИНТЕТИЧЕСКАЯ НОВИЗНА (взвешенная)
            // ============================================
            const weightedSyntheses = outgoing.filter(r => r.type === 'synthesize')
                .reduce((sum, r) => sum + (r.weight || 1), 0);

            // ============================================
            // 4. ДИСКУССИОННОСТЬ (новое)
            // ============================================
            // Двунаправленные диалоги - признак спорной новизны
            const bidirectionalDialogues = [...incoming, ...outgoing].filter(r => 
                r.type === 'dialogue' && r.bidirectional
            ).length / 2; // Делим на 2, т.к. каждая связь учитывается дважды

            // ============================================
            // 5. МЕЖДИСЦИПЛИНАРНОСТЬ (новое)
            // ============================================
            // Революционные концепции часто выходят за пределы одной рубрики
            const rubricDiversity = (conceptToRubrics[conceptId] || []).length;

            // ============================================
            // 6. ДОЛГОСРОЧНОЕ ВЛИЯНИЕ (новое)
            // ============================================
            // Влияние на философов через >50 лет - признак парадигмального сдвига
            const futureImpact = outgoing.filter(r => {
                const target = _conceptMap.get(r.target);
                if (!target) return false;
                const targetPhil = _philosopherMap.get(target.philosopher);
                return targetPhil && (targetPhil.birth - philosopher.birth) > 50;
            }).length;

            // ============================================
            // 7. ШИРОТА ВЛИЯНИЯ (новое)
            // ============================================
            // Количество различных философов, на которых повлияла концепция
            const influencedPhilosophersCount = new Set(
                outgoing.map(r => {
                    const target = _conceptMap.get(r.target);
                    return target?.philosopher;
                }).filter(Boolean)
            ).size;

            // ============================================
            // 8. РАЗНООБРАЗИЕ ОТНОШЕНИЙ (новое)
            // ============================================
            // Концепция, участвующая в разных типах связей, концептуально богаче
            const outgoingTypeDiversity = new Set(outgoing.map(r => r.type)).size;

            // ============================================
            // ИТОГОВАЯ ФОРМУЛА
            // ============================================
            const total = 
                independenceScore * 2.0 +                    // Автономия от традиции
                weightedCritiquesOfInfluential * 1.5 +       // Атака на центральные узлы
                weightedSyntheses * 1.8 +                    // Синтетическая креативность
                bidirectionalDialogues * 1.2 +               // Порождение дискуссий
                rubricDiversity * 0.8 +                      // Выход за дисциплинарные рамки
                futureImpact * 1.0 +                         // Влияние через поколения
                influencedPhilosophersCount * 0.7 +          // Широта воздействия
                outgoingTypeDiversity * 0.5;                 // Концептуальное богатство

            return {
                total,
                // Компоненты для анализа
                independenceScore,
                weightedOppositionsToEarlier,
                weightedInfluencesFromEarlier,
                weightedCritiquesOfInfluential,
                weightedSyntheses,
                bidirectionalDialogues,
                rubricDiversity,
                futureImpact,
                influencedPhilosophersCount,
                outgoingTypeDiversity
            };
        }

        function invalidateRevolutionaryIndexCache() {
            revolutionaryIndexCache = null;
        }

        // Кеш для paradigmShiftIndex
        let paradigmShiftIndexCache = null;

        function paradigmShiftIndex(conceptId) {

            const concept = _conceptMap.get(conceptId);
            if (!concept) return { total: 0 };

            const philosopher = _philosopherMap.get(concept.philosopher);
            if (!philosopher) return { total: 0 };

            const outgoing = _outgoingLinks.get(conceptId) || [];
            const incoming = _incomingLinks.get(conceptId) || [];

            const isMethodological = (concept.rubrics || []).includes('method');

            const influencedRubrics = new Set();
            outgoing.filter(r => r.type === 'influence' || r.type === 'apply').forEach(r => {
            const target = _conceptMap.get(r.target);
            if (target) {
            (target.rubrics || []).forEach(rub => influencedRubrics.add(rub));
            }
            });

            const laterPhilosophers = new Set();
            incoming.forEach(r => {
            const source = _conceptMap.get(r.source);
            if (source) {
            const sourcePhil = _philosopherMap.get(source.philosopher);
            if (sourcePhil && sourcePhil.birth > philosopher.birth) {
            laterPhilosophers.add(source.philosopher);
            }
            }
            });

            return {
            total: (isMethodological ? 5 : 0) + influencedRubrics.size * 2 + laterPhilosophers.size,
            isMethodological,
            rubricsBreadth: influencedRubrics.size,
            laterAdopters: laterPhilosophers.size
            };
        }

        function invalidateParadigmShiftIndexCache() {
            paradigmShiftIndexCache = null;
        }

        // Кеш для influenceIndex
        let influenceIndexCache = null;

        function influenceIndex(conceptId) {

            const concept = _conceptMap.get(conceptId);
            if (!concept) return { total: 0 };

            const philosopher = _philosopherMap.get(concept.philosopher);
            if (!philosopher) return { total: 0 };

            const incoming = _incomingLinks.get(conceptId) || [];

            const forwardInfluence = incoming.reduce((sum, r) => {
            const source = _conceptMap.get(r.source);
            if (!source) return sum;
            const sourcePhil = _philosopherMap.get(source.philosopher);
            if (!sourcePhil) return sum;

            if (sourcePhil.birth > philosopher.birth) {
            const typeWeight = {
            'influence': 3,
            'develop': 2.5,
            'apply': 2,
            'dialogue': 1.5
            }[r.type] || 1;
            return sum + typeWeight * (r.weight || 1);
            }
            return sum;
            }, 0);

            const contemporaryInfluence = incoming.reduce((sum, r) => {
            const source = _conceptMap.get(r.source);
            if (!source) return sum;
            const sourcePhil = _philosopherMap.get(source.philosopher);
            if (!sourcePhil) return sum;

            const timeDiff = Math.abs(sourcePhil.birth - philosopher.birth);
            if (timeDiff < 50) {
            const typeWeight = {
            'dialogue': 2,
            'critique': 1.5,
            'synthesize': 2
            }[r.type] || 1;
            return sum + typeWeight * (r.weight || 1);
            }
            return sum;
            }, 0);

            const totalIncoming = incoming.length;

            return {
            total: forwardInfluence + contemporaryInfluence * 0.5,
            forward: forwardInfluence,
            contemporary: contemporaryInfluence,
            incoming: totalIncoming
            };
        }

        function invalidateInfluenceIndexCache() {
            influenceIndexCache = null;
        }

        // Кеш для foundationalIndex
        let foundationalIndexCache = null;

        function foundationalIndex(conceptId) {

            const outgoing = _outgoingLinks.get(conceptId) || [];
            const incoming = _incomingLinks.get(conceptId) || [];

            const presuppositions = outgoing.filter(r => r.type === 'presuppose').length;
            const conditions = outgoing.filter(r => r.type === 'condition').length;
            const emergences = incoming.filter(r => r.type === 'emerge_from').length;
            const applications = incoming.filter(r => r.type === 'apply').length;
            const developments = incoming.filter(r => r.type === 'develop').length;

            return {
            total: presuppositions * 3 + conditions * 2 + emergences * 2.5 + applications + developments,
            presuppositions,
            conditions,
            emergences,
            applications,
            developments
            };
        }

        function invalidateFoundationalIndexCache() {
            foundationalIndexCache = null;
        }

        // Кеш для syntheticIndex
        let syntheticIndexCache = null;

        function syntheticIndex(conceptId) {

            const concept = _conceptMap.get(conceptId);
            if (!concept) return { total: 0 };

            const incoming = _incomingLinks.get(conceptId) || [];
            const outgoing = _outgoingLinks.get(conceptId) || [];

            const syntheses = outgoing.filter(r => r.type === 'synthesize').length;
            const reconciliations = outgoing.filter(r => r.type === 'reconcile').length;

            const influenceSources = new Set(
            incoming
            .filter(r => r.type === 'influence' || r.type === 'develop')
            .map(r => {
            const src = _conceptMap.get(r.source);
            return src ? src.philosopher : null;
            })
            .filter(p => p !== null)
            );

            const sourceRubrics = new Set();
            incoming
            .filter(r => r.type === 'influence' || r.type === 'develop')
            .forEach(r => {
            const source = _conceptMap.get(r.source);
            if (source) {
            (source.rubrics || []).forEach(rub => sourceRubrics.add(rub));
            }
            });

            return {
            total: syntheses * 3 + reconciliations * 2 + influenceSources.size * 2 + sourceRubrics.size,
            syntheses,
            reconciliations,
            diverseInfluences: influenceSources.size,
            thematicBreadth: sourceRubrics.size
            };
        }

        function invalidateSyntheticIndexCache() {
            syntheticIndexCache = null;
        }

        // Кеш для dialogicalIndex
        let dialogicalIndexCache = null;

        function dialogicalIndex(conceptId) {

            const incoming = _incomingLinks.get(conceptId) || [];
            const outgoing = _outgoingLinks.get(conceptId) || [];

            const dialogues = incoming.filter(r => r.type === 'dialogue').length;
            const bidirectional = incoming.filter(r => r.bidirectional).length;
            const complements = incoming.filter(r => r.type === 'complement').length + 
            outgoing.filter(r => r.type === 'complement').length;

            return {
            total: dialogues * 2 + bidirectional * 3 + complements,
            dialogues,
            bidirectional,
            complements
            };
        }

        function invalidateDialogicalIndexCache() {
            dialogicalIndexCache = null;
        }

        // Кеш для internalCoherenceIndex
        let internalCoherenceIndexCache = null;

        function internalCoherenceIndex(conceptId) {

            const concept = _conceptMap.get(conceptId);
            if (!concept) return { total: 0 };

            const incoming = _incomingLinks.get(conceptId) || [];
            const outgoing = _outgoingLinks.get(conceptId) || [];

            const internalLinks = incoming.concat(outgoing).filter(r => {
            const other = _conceptMap.get(r.source === conceptId ? r.target : r.source);
            return other && other.philosopher === concept.philosopher;
            });

            const positive = internalLinks.filter(r => 
            ['presuppose', 'consequence', 'develop', 'apply', 'complement', 
            'condition', 'exemplify', 'culminate', 'mediate'].includes(r.type)
            ).length;

            const negative = internalLinks.filter(r => 
            ['internal_contradiction', 'oppose'].includes(r.type)
            ).length;

            const coherenceScore = positive - negative * 2;

            return {
            total: Math.max(0, coherenceScore),
            positive,
            negative,
            coherenceScore
            };
        }

        function invalidateInternalCoherenceIndexCache() {
            internalCoherenceIndexCache = null;
        }

        // Кеш для tensionIndex
        let tensionIndexCache = null;
        /*
        function tensionIndex(conceptId) {

            const incoming = _incomingLinks.get(conceptId) || [];
            const outgoing = _outgoingLinks.get(conceptId) || [];

            const tensions = incoming.filter(r => r.type === 'tension').length;
            const oppositions = outgoing.filter(r => r.type === 'oppose').length;
            const contradictions = incoming.filter(r => r.type === 'internal_contradiction').length;

            return {
            total: tensions * 2 + oppositions + contradictions * 3,
            tensions,
            oppositions,
            contradictions
            };
        }
        */

        function tensionIndex(conceptId) {
            const incoming = _incomingLinks.get(conceptId) || [];
            const outgoing = _outgoingLinks.get(conceptId) || [];
            const concept = _conceptMap.get(conceptId);
            
            // ============================================
            // УРОВЕНЬ 1: ИММАНЕНТНОЕ НАПРЯЖЕНИЕ
            // (внутренняя противоречивость концепции)
            // ============================================
            
            // 1.1 Внутренние противоречия (главный источник)
            const internalContradictions = [...incoming, ...outgoing].filter(r => 
                r.type === 'internal_contradiction'
            ).reduce((sum, r) => {
                const bidirectionalBonus = r.bidirectional ? 1.5 : 1;
                return sum + (r.weight || 1) * bidirectionalBonus;
            }, 0);
            
            // 1.2 Ограничения (напряжение границ)
            const acknowledgedLimits = [...incoming, ...outgoing].filter(r => 
                r.type === 'limit'
            ).length;
            
            // 1.3 Условность (зависимость от предпосылок)
            const conditionalDependencies = incoming.filter(r => 
                r.type === 'condition'
            ).length;
            
            // 1.4 Опосредование (стоять между противоположностями)
            const mediations = [...incoming, ...outgoing].filter(r => 
                r.type === 'mediate'
            ).length;
            
            // 1.5 Потребность в дополнении (неполнота)
            const complementarityNeeds = [...incoming, ...outgoing].filter(r => 
                r.type === 'complement'
            ).length;
            
            const immanentTension = 
                internalContradictions * 3.0 +
                acknowledgedLimits * 1.5 +
                conditionalDependencies * 1.2 +
                mediations * 2.0 +
                complementarityNeeds * 1.0;
            
            // ============================================
            // УРОВЕНЬ 2: ПОЛЕМИЧЕСКОЕ НАПРЯЖЕНИЕ
            // (конфликтность позиции)
            // ============================================
            
            // 2.1 Исходящая агрессия (активная критика)
            const outgoingConflict = outgoing.filter(r => 
                r.type === 'oppose' || r.type === 'critique'
            ).reduce((sum, r) => sum + (r.weight || 1), 0);
            
            // 2.2 Входящая критика (оспариваемость)
            const incomingConflict = incoming.filter(r => 
                r.type === 'oppose' || r.type === 'critique'
            ).reduce((sum, r) => sum + (r.weight || 1), 0);
            
            // 2.3 Взаимная полемика (двусторонние споры)
            const mutualPolemics = incoming.filter(r => 
                r.type === 'dialogue' && r.bidirectional
            ).length;
            
            const polemicalTension = 
                outgoingConflict * 1.5 +
                incomingConflict * 1.0 +
                mutualPolemics * 2.0;
            
            // ============================================
            // УРОВЕНЬ 3: ДИАЛЕКТИЧЕСКОЕ НАПРЯЖЕНИЕ
            // (продуктивность противоречия)
            // ============================================
            
            // 3.1 Синтезы (попытки разрешения)
            const syntheses = outgoing.filter(r => 
                r.type === 'synthesize'
            ).length;
            
            // 3.2 Кульминации (переходы к новому качеству)
            const culminations = outgoing.filter(r => 
                r.type === 'culminate'
            ).length;
            
            // 3.3 Порождение новых концепций
            const emergentConcepts = incoming.filter(r => 
                r.type === 'emerge_from'
            ).length;
            
            // 3.4 Развития (попытки преодолеть противоречие)
            const developments = outgoing.filter(r => 
                r.type === 'develop'
            ).length;
            
            // Нерешённое напряжение = противоречия минус разрешения
            const totalContradictions = internalContradictions + 
                (incomingConflict + outgoingConflict) / 4; // Внешние конфликты тоже создают противоречия
            const resolutionAttempts = syntheses + culminations + developments * 0.5;
            const unresolvedTension = Math.max(totalContradictions - resolutionAttempts, 0);
            
            const dialecticalTension = 
                unresolvedTension * 2.0 +           // Нерешённое напряжение
                emergentConcepts * 1.5 +            // Плодотворность
                mediations * 1.0;                   // Опосредование (здесь тоже релевантно)
            
            // ============================================
            // ИНТЕГРАЛЬНЫЙ ИНДЕКС
            // ============================================
            
            // Взвешенная сумма трёх типов напряжения
            const total = 
                immanentTension * 1.0 +         // Имманентное (базовое)
                polemicalTension * 0.8 +        // Полемическое (контекстное)
                dialecticalTension * 1.2;       // Диалектическое (продуктивное, поэтому выше)
            
            // ============================================
            // ДОПОЛНИТЕЛЬНЫЕ АНАЛИТИЧЕСКИЕ МЕТРИКИ
            // ============================================
            
            // Баланс между напряжением и разрешением
            const tensionResolutionRatio = totalContradictions > 0 
                ? resolutionAttempts / totalContradictions 
                : 0;
            
            // Доминирующий тип напряжения
            const dominantType = 
                immanentTension > polemicalTension && immanentTension > dialecticalTension ? 'immanent' :
                polemicalTension > dialecticalTension ? 'polemical' : 'dialectical';
            
            // Интенсивность (средний вес связей)
            const allTensionLinks = [
                ...incoming.filter(r => ['internal_contradiction', 'oppose', 'critique', 'limit'].includes(r.type)),
                ...outgoing.filter(r => ['internal_contradiction', 'oppose', 'critique'].includes(r.type))
            ];
            const averageIntensity = allTensionLinks.length > 0
                ? allTensionLinks.reduce((sum, r) => sum + (r.weight || 1), 0) / allTensionLinks.length
                : 0;
            
            return {
                // Общий индекс
                total,
                
                // Три уровня напряжения
                immanentTension,
                polemicalTension,
                dialecticalTension,
                
                // Компоненты имманентного напряжения
                immanent: {
                    internalContradictions,
                    acknowledgedLimits,
                    conditionalDependencies,
                    mediations,
                    complementarityNeeds
                },
                
                // Компоненты полемического напряжения
                polemical: {
                    outgoingConflict,
                    incomingConflict,
                    mutualPolemics
                },
                
                // Компоненты диалектического напряжения
                dialectical: {
                    unresolvedTension,
                    syntheses,
                    culminations,
                    emergentConcepts,
                    developments,
                    resolutionAttempts
                },
                
                // Аналитические метрики
                analytics: {
                    dominantType,
                    tensionResolutionRatio,
                    averageIntensity,
                    totalContradictions
                }
            };
        }

        function invalidateTensionIndexCache() {
            tensionIndexCache = null;
        }

        // Кеш для philosopherProfile
        let philosopherProfileCache = null;

        function philosopherProfile(philosopherId) {

            const philosopherConcepts = _concepts.filter(c => c.philosopher === philosopherId);
            if (philosopherConcepts.length === 0) return null;

            const metrics = philosopherConcepts.map(c => ({
            influence: influenceIndex(c.id).total,
            revolutionary: revolutionaryIndex(c.id).total,
            coherence: internalCoherenceIndex(c.id).total
            }));

            const averages = {
            influence: metrics.reduce((sum, m) => sum + m.influence, 0) / metrics.length,
            revolutionary: metrics.reduce((sum, m) => sum + m.revolutionary, 0) / metrics.length,
            coherence: metrics.reduce((sum, m) => sum + m.coherence, 0) / metrics.length
            };

            return {
            philosopherId,
            conceptsCount: philosopherConcepts.length,
            metrics,
            averages
            };
        }

        function invalidatePhilosopherProfileCache() {
            philosopherProfileCache = null;
        }

        // Кеш для philosopherSystematicIndex
        let philosopherSystematicIndexCache = null;

        function philosopherSystematicIndex(philosopherId) {

            const philosopherConcepts = _concepts.filter(c => c.philosopher === philosopherId);
            if (philosopherConcepts.length === 0) return { density: 0 };

            const conceptIds = new Set(philosopherConcepts.map(c => c.id));
            let internalLinks = 0;

            _relations.forEach(r => {
                if (conceptIds.has(r.source) && conceptIds.has(r.target)) {
                internalLinks++;
                }
            });

            const maxPossibleLinks = (philosopherConcepts.length * (philosopherConcepts.length - 1)) / 2;
            const density = maxPossibleLinks > 0 ? internalLinks / maxPossibleLinks : 0;

            return {
                density: density * 100,
                internalLinks,
                totalConcepts: philosopherConcepts.length,
                maxPossibleLinks
            };
        }

        function invalidatePhilosopherSystematicIndexCache() {
            philosopherSystematicIndexCache = null;
        }

        // Кеш для philosopherHistoricalReachIndex
        let philosopherHistoricalReachIndexCache = null;

        function philosopherHistoricalReachIndex(philosopherId) {

            const philosopher = _philosopherMap.get(philosopherId);
            if (!philosopher) return { total: 0 };

            const philosopherConcepts = _concepts.filter(c => c.philosopher === philosopherId);
            const conceptIds = new Set(philosopherConcepts.map(c => c.id));

            const influencedPhilosophers = new Set();
            const influencedYears = [];

            _relations.forEach(r => {
            if (conceptIds.has(r.target)) {
            const sourceConcept = _conceptMap.get(r.source);
            if (sourceConcept) {
            const sourcePhil = _philosopherMap.get(sourceConcept.philosopher);
            if (sourcePhil && sourcePhil.birth > philosopher.birth) {
            influencedPhilosophers.add(sourceConcept.philosopher);
            influencedYears.push(sourcePhil.birth);
            }
            }
            }
            });

            const latestInfluence = influencedYears.length > 0 ? Math.max(...influencedYears) : philosopher.birth;
            const timeSpan = latestInfluence - philosopher.birth;
            const generations = Math.floor(timeSpan / 25);

            return {
            total: influencedPhilosophers.size * generations,
            influencedPhilosophersCount: influencedPhilosophers.size,
            timeSpan,
            generations,
            latestInfluence
            };
        }

        function invalidatePhilosopherHistoricalReachIndexCache() {
            philosopherHistoricalReachIndexCache = null;
        }

        // Кеш для philosopherInterdisciplinaryIndex
        let philosopherInterdisciplinaryIndexCache = null;

        function philosopherInterdisciplinaryIndex(philosopherId) {

            const philosopherConcepts = _concepts.filter(c => c.philosopher === philosopherId);
            if (philosopherConcepts.length === 0) return { total: 0 };

            const rubrics = new Set();
            philosopherConcepts.forEach(c => {
            (c.rubrics || []).forEach(r => rubrics.add(r));
            });

            const rubricDistribution = {};
            philosopherConcepts.forEach(c => {
            (c.rubrics || []).forEach(r => {
            rubricDistribution[r] = (rubricDistribution[r] || 0) + 1;
            });
            });

            const entropy = Object.values(rubricDistribution).length > 0 ? 
            Object.values(rubricDistribution).reduce((sum, count) => {
                const p = count / philosopherConcepts.length;
                return sum - p * Math.log2(p);
            }, 0)
                : 0;

            return {
            total: rubrics.size * (1 + entropy),
            rubricCount: rubrics.size,
            entropy,
            distribution: rubricDistribution
            };
        }

        function invalidatePhilosopherInterdisciplinaryIndexCache() {
            philosopherInterdisciplinaryIndexCache = null;
        }

        // Кеш для temporalInfluencePattern
        let temporalInfluencePatternCache = null;

        function temporalInfluencePattern(conceptId) {

            const concept = _conceptMap.get(conceptId);
            if (!concept) return { pattern: 'none', periods: {} };

            const philosopher = _philosopherMap.get(concept.philosopher);
            if (!philosopher) return { pattern: 'none', periods: {} };

            const incoming = _incomingLinks.get(conceptId) || [];

            const periods = {
            immediate: 0,
            near: 0,
            medium: 0,
            long: 0
            };

            incoming.forEach(r => {
            const source = _conceptMap.get(r.source);
            if (source) {
            const sourcePhil = _philosopherMap.get(source.philosopher);
            if (sourcePhil) {
            const timeDiff = sourcePhil.birth - philosopher.birth;

            if (timeDiff > 0) {
            if (timeDiff <= 50) periods.immediate++;
            else if (timeDiff <= 150) periods.near++;
            else if (timeDiff <= 300) periods.medium++;
            else periods.long++;
            }
            }
            }
            });

            let pattern = 'none';
            if (periods.immediate > 0 && periods.long > 0) pattern = 'lasting';
            else if (periods.immediate > 0 && periods.near === 0) pattern = 'fading';
            else if (periods.immediate === 0 && periods.medium > 0) pattern = 'delayed';
            else if (periods.immediate > 0) pattern = 'normal';

            return {
            pattern,
            periods,
            totalForwardReferences: Object.values(periods).reduce((a, b) => a + b, 0)
            };
        }

        function invalidateTemporalInfluencePatternCache() {
            temporalInfluencePatternCache = null;
        }

        // Кеш для generateRankings
        let generateRankingsCache = null;

        function generateRankings() {
            if (generateRankingsCache) return generateRankingsCache;


            const allConcepts = _concepts.map(c => ({
            id: c.id,
            label: c.label,
            philosopher: c.philosopher,
            influence: influenceIndex(c.id).total,
            revolutionary: revolutionaryIndex(c.id).total,
            problematic: problemGenerationIndex(c.id).weighted,
            synthetic: syntheticIndex(c.id).total,
            foundational: foundationalIndex(c.id).total,
            critical: criticalPowerIndex(c.id).weighted
            }));

            return {
            mostInfluential: [...allConcepts].sort((a, b) => b.influence - a.influence).slice(0, 20),
            mostRevolutionary: [...allConcepts].sort((a, b) => b.revolutionary - a.revolutionary).slice(0, 20),
            mostProblematic: [...allConcepts].sort((a, b) => b.problematic - a.problematic).slice(0, 20),
            mostSynthetic: [...allConcepts].sort((a, b) => b.synthetic - a.synthetic).slice(0, 20),
            mostFoundational: [...allConcepts].sort((a, b) => b.foundational - a.foundational).slice(0, 20),
            mostCritical: [...allConcepts].sort((a, b) => b.critical - a.critical).slice(0, 20)
            };
        }

        function invalidateGenerateRankingsCache() {
            generateRankingsCache = null;
        }

        // Кеш для generatePhilosopherRankings
        let generatePhilosopherRankingsCache = null;

        /**
         * Генерирует рейтинги философов по различным критериям
         */
        function generatePhilosopherRankings() {
            if (generatePhilosopherRankingsCache) return generatePhilosopherRankingsCache;
            
            // Получаем уникальный список философов
            const philosophers = Array.from(new Set(_concepts.map(c => c.philosopher)));
            
            console.log(`📊 Вычисление рейтингов для ${philosophers.length} философов...`);
            
            // Вспомогательная функция для безопасного получения числового значения
            const getSafeValue = (value, defaultValue = 0) => {
                if (value === null || value === undefined || isNaN(value)) {
                    return defaultValue;
                }
                return Number(value);
            };
            
            // Вычисляем метрики для каждого философа
            const philosopherStats = philosophers.map(philosopherId => {
                try {
                    const profile = philosopherProfile(philosopherId);
                    const systematic = philosopherSystematicIndex(philosopherId);
                    const reach = philosopherHistoricalReachIndex(philosopherId);
                    const interdisciplinary = philosopherInterdisciplinaryIndex(philosopherId);
                    
                    // Безопасное извлечение значений с проверками
                    const influence = getSafeValue(profile?.averages?.influence, 0);                    
                    const revolutionary = getSafeValue(profile?.averages?.revolutionary, 0);                    
                    const systematicValue = getSafeValue(systematic?.total, 0);                    
                    const historicalReachValue = getSafeValue(reach?.total, 0);                    
                    const interdisciplinaryValue = getSafeValue(interdisciplinary?.total, 0);
                    
                    // Логирование для отладки (можно убрать после проверки)
                    if (influence === 0 && revolutionary === 0 && systematicValue === 0) {
                        console.warn(`⚠️ Философ "${philosopherId}" имеет нулевые значения всех метрик`);
                    }
                    
                    return {
                        philosopher: philosopherId,
                        name: philosopherId,
                        influence: influence,
                        revolutionary: revolutionary,
                        systematic: systematicValue,
                        historicalReach: historicalReachValue,
                        interdisciplinary: interdisciplinaryValue
                    };
                } catch (error) {
                    console.error(`❌ Ошибка при вычислении метрик для философа "${philosopherId}":`, error);
                    
                    // Возвращаем объект с нулевыми значениями в случае ошибки
                    return {
                        philosopher: philosopherId,
                        name: philosopherId,
                        influence: 0,
                        revolutionary: 0,
                        systematic: 0,
                        historicalReach: 0,
                        interdisciplinary: 0
                    };
                }
            });
            
            console.log(`✅ Метрики вычислены для ${philosopherStats.length} философов`);
            
            // Создаем рейтинги
            const result = {
                mostInfluential: [...philosopherStats]
                    .sort((a, b) => b.influence - a.influence)
                    .slice(0, 20),
                mostRevolutionary: [...philosopherStats]
                    .sort((a, b) => b.revolutionary - a.revolutionary)
                    .slice(0, 20),
                mostSystematic: [...philosopherStats]
                    .sort((a, b) => b.systematic - a.systematic)
                    .slice(0, 20),
                greatestHistoricalReach: [...philosopherStats]
                    .sort((a, b) => b.historicalReach - a.historicalReach)
                    .slice(0, 20),
                mostInterdisciplinary: [...philosopherStats]
                    .sort((a, b) => b.interdisciplinary - a.interdisciplinary)
                    .slice(0, 20)
            };
            
            // Логирование топ-3 для проверки
            console.log('🏆 Топ-3 самых влиятельных:', 
                result.mostInfluential.slice(0, 3).map(p => `${p.name} (${p.influence.toFixed(2)})`));
            
            generatePhilosopherRankingsCache = result;
            return result;
        }

        function invalidateGeneratePhilosopherRankingsCache() {
            generatePhilosopherRankingsCache = null;
        }

        // ============================================
        // ФУНКЦИИ ПРОДВИНУТЫХ МЕТРИК
        // ============================================

        // Кеш для transformationIndex
        let transformationIndexCache = null;

        function transformationIndex(conceptId) {

            const incoming = _incomingLinks.get(conceptId) || [];
            const outgoing = _outgoingLinks.get(conceptId) || [];

            const influences = incoming.filter(r => r.type === 'influence');
            const developments = outgoing.filter(r => r.type === 'develop').length;
            const applications = outgoing.filter(r => r.type === 'apply').length;
            const syntheses = outgoing.filter(r => r.type === 'synthesize').length;

            const transformationRatio = influences.length > 0 
            ? (developments + applications + syntheses) / influences.length 
            : 0;

            return {
            total: transformationRatio * 10 + developments + applications + syntheses,
            ratio: transformationRatio,
            developments,
            applications,
            syntheses,
            influences: influences.length
            };
        }

        function invalidateTransformationIndexCache() {
            transformationIndexCache = null;
        }

        // Кеш для conceptualFertilityIndex
        let conceptualFertilityIndexCache = null;

        function conceptualFertilityIndex(conceptId) {

            const incoming = _incomingLinks.get(conceptId) || [];
            const concept = _conceptMap.get(conceptId);
            if (!concept) return { total: 0 };

            const philosopher = _philosopherMap.get(concept.philosopher);
            if (!philosopher) return { total: 0 };

            const emergences = incoming.filter(r => r.type === 'emerge_from').length;
            const developments = incoming.filter(r => r.type === 'develop').length;

            const laterPhilosophers = new Set();
            incoming
            .filter(r => r.type === 'develop' || r.type === 'emerge_from')
            .forEach(r => {
            const source = _conceptMap.get(r.source);
            if (source) {
            const sourcePhil = _philosopherMap.get(source.philosopher);
            if (sourcePhil && sourcePhil.birth > philosopher.birth) {
            laterPhilosophers.add(source.philosopher);
            }
            }
            });

            return {
            total: emergences * 3 + developments * 2 + laterPhilosophers.size,
            emergences,
            developments,
            laterAdopters: laterPhilosophers.size
            };
        }

        function invalidateConceptualFertilityIndexCache() {
            conceptualFertilityIndexCache = null;
        }

        // Кеш для conceptualComplexityIndex
        let conceptualComplexityIndexCache = null;

        function conceptualComplexityIndex(conceptId) {

            const incoming = _incomingLinks.get(conceptId) || [];
            const outgoing = _outgoingLinks.get(conceptId) || [];
            const concept = _conceptMap.get(conceptId);
            if (!concept) return { total: 0 };

            const incomingTypes = new Set(incoming.map(r => r.type)).size;
            const outgoingTypes = new Set(outgoing.map(r => r.type)).size;
            const rubricCount = (concept.rubrics || []).length;

            const contradictions = incoming.filter(r => 
            r.type === 'internal_contradiction'
            ).length;

            const presuppositions = incoming.filter(r => 
            r.type === 'presuppose' || r.type === 'condition'
            ).length;

            const relatedPhilosophers = new Set();
            incoming.concat(outgoing).forEach(r => {
            const other = _conceptMap.get(
            r.source === conceptId ? r.target : r.source
            );
            if (other) {
            relatedPhilosophers.add(other.philosopher);
            }
            });

            return {
            total: (incomingTypes + outgoingTypes) * 2 + rubricCount * 3 + 
            contradictions * 5 + presuppositions * 2 + relatedPhilosophers.size,
            linkTypeDiversity: incomingTypes + outgoingTypes,
            rubricCount,
            contradictions,
            presuppositions,
            relatedPhilosophers: relatedPhilosophers.size
            };
        }

        function invalidateConceptualComplexityIndexCache() {
            conceptualComplexityIndexCache = null;
        }

        // Кеш для conceptualContinuityIndex
        let conceptualContinuityIndexCache = null;

        /**
         * Индекс преемственности концепции
         * Измеряет, насколько концепция сохраняет преемственность через время
         */
        function conceptualContinuityIndex(conceptId) {
            const concept = _conceptMap.get(conceptId);
            if (!concept) return { total: 0, generations: 0, gaps: 0, laterReferences: 0 };

            const philosopher = _philosopherMap.get(concept.philosopher);
            if (!philosopher) return { total: 0, generations: 0, gaps: 0, laterReferences: 0 };

            const incoming = _incomingLinks.get(conceptId) || [];

            // Группируем ссылки по временным периодам (поколениям по 50 лет)
            const generations = new Map();
            
            incoming.forEach(r => {
                const source = _conceptMap.get(r.source);
                if (source) {
                    const sourcePhil = _philosopherMap.get(source.philosopher);
                    if (sourcePhil && sourcePhil.birth > philosopher.birth) {
                        const yearsDiff = sourcePhil.birth - philosopher.birth;
                        const generation = Math.floor(yearsDiff / 50);
                        
                        if (!generations.has(generation)) {
                            generations.set(generation, 0);
                        }
                        generations.set(generation, generations.get(generation) + 1);
                    }
                }
            });

            if (generations.size === 0) {
                return { total: 0, generations: 0, gaps: 0, laterReferences: 0 };
            }

            // Определяем количество поколений с ссылками
            const maxGeneration = Math.max(...Array.from(generations.keys()));
            const generationsCount = maxGeneration + 1;
            
            // Подсчитываем пропуски (поколения без ссылок)
            let gaps = 0;
            for (let i = 0; i <= maxGeneration; i++) {
                if (!generations.has(i)) {
                    gaps++;
                }
            }
            
            // Общее количество ссылок из будущего
            const laterReferences = Array.from(generations.values()).reduce((sum, count) => sum + count, 0);
            
            // Индекс: чем больше поколений и меньше пропусков, тем выше
            const continuityScore = (generationsCount - gaps) * laterReferences;
            
            return {
                total: continuityScore,
                generations: generationsCount,
                gaps: gaps,
                laterReferences: laterReferences,
                coverage: generationsCount > 0 ? (generationsCount - gaps) / generationsCount : 0
            };
        }

        function invalidateConceptualContinuityIndexCache() {
            conceptualContinuityIndexCache = null;
        }

        // Функция инвалидации всех кешей метрик
        function invalidateAllMetricsCaches() {
            invalidateProblemGenerationIndexCache();
            invalidateCriticalPowerIndexCache();
            invalidateRevolutionaryIndexCache();
            invalidateParadigmShiftIndexCache();
            invalidateInfluenceIndexCache();
            invalidateFoundationalIndexCache();
            invalidateSyntheticIndexCache();
            invalidateDialogicalIndexCache();
            invalidateInternalCoherenceIndexCache();
            invalidateTensionIndexCache();
            invalidatePhilosopherProfileCache();
            invalidatePhilosopherSystematicIndexCache();
            invalidatePhilosopherHistoricalReachIndexCache();
            invalidatePhilosopherInterdisciplinaryIndexCache();
            invalidateTemporalInfluencePatternCache();
            invalidateGenerateRankingsCache();
            invalidateTransformationIndexCache();
            invalidateConceptualFertilityIndexCache();
            invalidateConceptualComplexityIndexCache();
            invalidateConceptualContinuityIndexCache();
            invalidateGeneratePhilosopherRankingsCache();
        }


        // Инициализация классов метрик

        let statsParametersCache = { weights: false, direction: false };

        // ИСПРАВИТЬ функцию initializePhilosophyMetrics() (начиная со строки 3170)
        function initializePhilosophyMetrics() {
            try {
                const conceptsData = nodes.map(n => ({
                    id: n.id,
                    label: n.label,
                    philosopher: n.concept,
                    rubrics: n.rubrics || []
                }));
                
                const relationsData = links.map(l => ({
                    source: typeof l.source === 'object' ? l.source.id : l.source,
                    target: typeof l.target === 'object' ? l.target.id : l.target,
                    type: l.type || 'influence',
                    weight: l.weight || 1,
                    bidirectional: l.bidirectional || false
                }));
                
                // ИСПРАВЛЕНО: используем реальные данные философов
                const philosopherNameMap = {};
                philosophers.forEach(p => {
                    philosopherNameMap[p.nameRu] = p;
                });
                
                const uniquePhilosophers = Array.from(new Set(nodes.map(n => n.concept)));
                const philosophersData = uniquePhilosophers.map(concept => {
                    const philData = philosopherNameMap[concept];
                    return {
                        id: concept,
                        name: concept,
                        birth: philData ? philData.birth : 0,
                        death: philData ? philData.death : 0
                    };
                });
                
                initializeMetricsData(conceptsData, relationsData, philosophersData);
                
                console.log('✅ Философские метрики инициализированы');
                return true;
            } catch (error) {
                console.error('❌ Ошибка при инициализации метрик:', error);
                return false;
            }
        }





        // ============================================
        // ОПИСАНИЯ МЕТРИК С УЧЁТОМ ПАРАМЕТРОВ
        // ============================================

        const metricDescriptions = {
            // Базовые метрики
            overview: {
                name: "Общий обзор графа",
                description: "Базовая статистика сети философских концепций",
                interpretation: () => "Общие характеристики сети: количество узлов, связей, плотность сети и средняя степень связности.",
                usage: "Используйте для понимания общей структуры и масштаба сети.",
                formula: () => "Плотность = 2E / (N × (N-1)), где E - рёбра, N - узлы"
            },
            
            degree: {
                name: "Степень связности (Degree Centrality)",
                description: "Количество связей каждого узла",
                interpretation: () => {
                    if (respectDirection) {
                        return "Направленный: отдельно считаются входящие (сколько влияют на концепцию) и исходящие (на сколько влияет концепция) связи. Высокий InDegree = много ссылаются, высокий OutDegree = много цитирует других.";
                    } else {
                        return "Ненаправленный: общее количество связей узла. Высокая степень = концепция активно связана с другими идеями в сети.";
                    }
                },
                usage: () => {
                    const base = "Простейшая метрика влияния. Концепции с высокой степенью связности — это хабы сети.";
                    return respectDirection 
                        ? base + " При учёте направленности можно различить \"авторитеты\" (высокий InDegree) и \"концентраторы\" (высокий OutDegree)."
                        : base;
                },
                formula: () => respectDirection 
                    ? "Degree(v) = InDegree(v) + OutDegree(v)" 
                    : "Degree(v) = |{u : (v,u) ∈ E}|"
            },
            
            pagerank: {
                name: "PageRank",
                description: "Важность узла на основе важности ссылающихся на него узлов",
                interpretation: () => {
                    if (respectDirection && useWeightedPaths) {
                        return "Направленный взвешенный: концепция важна, если на неё ссылаются важные концепции через сильные связи. Вес связи усиливает передачу важности.";
                    } else if (respectDirection && !useWeightedPaths) {
                        return "Направленный: концепция важна через входящие ссылки от важных узлов. Количество ссылок важнее их силы.";
                    } else if (!respectDirection && useWeightedPaths) {
                        return "Ненаправленный взвешенный: важность распространяется через сильные связи в обе стороны.";
                    } else {
                        return "Ненаправленный: классический PageRank, все связи равноценны и симметричны.";
                    }
                },
                usage: () => {
                    const base = "Выявляет «авторитеты» — концепции, на которые ссылаются другие важные концепции.";
                    return useWeightedPaths 
                        ? base + " С весами показывает концепции, получающие сильное влияние от авторитетных источников."
                        : base + " Без весов — чисто топологическая важность.";
                },
                formula: () => {
                    const base = "PR(v) = (1-d)/N + d × Σ PR(u)/OutDegree(u)";
                    return useWeightedPaths ? base + ", с учётом весов w(u,v)" : base;
                }
            },
            
            betweenness: {
                name: "Betweenness Centrality",
                description: "Как часто узел лежит на кратчайших путях между другими узлами",
                interpretation: () => {
                    if (respectDirection && useWeightedPaths) {
                        return "Направленный взвешенный: концепция — мост в НАПРАВЛЕННЫХ потоках влияния с учётом силы связей. Высокое значение = незаменимый посредник в передаче СИЛЬНОГО влияния.";
                    } else if (respectDirection && !useWeightedPaths) {
                        return "Направленный: концепция-мост в направленных путях влияния. Контролирует потоки идей между традициями.";
                    } else if (!respectDirection && useWeightedPaths) {
                        return "Ненаправленный взвешенный: посредник в сильно связанных путях. Может быть менее связан количественно, но критичен в сильных взаимосвязях.";
                    } else {
                        return "Ненаправленный: классический betweenness. Концепция-мост между разными частями сети.";
                    }
                },
                usage: () => {
                    const base = "Ищите «мосты» и «узкие места» — концепции, через которые проходит философское влияние.";
                    return useWeightedPaths 
                        ? base + " С весами выявляет мосты в СУЩЕСТВЕННЫХ (сильных) связях."
                        : base;
                },
                formula: () => {
                    const base = "BC(v) = Σ (σ_st(v) / σ_st)";
                    return useWeightedPaths 
                        ? base + ", где пути взвешены обратно пропорционально весам рёбер" 
                        : base + ", где σ_st — число кратчайших путей s→t";
                }
            },
            
            closeness: {
                name: "Closeness Centrality",
                description: "Средняя близость узла ко всем остальным узлам",
                interpretation: () => {
                    if (respectDirection && useWeightedPaths) {
                        return "Направленный взвешенный: как быстро концепция ВЛИЯЕТ на остальные через сильные прямые пути. Высокое значение = эффективный источник влияния.";
                    } else if (respectDirection && !useWeightedPaths) {
                        return "Направленный: насколько быстро концепция может повлиять на остальную сеть через направленные пути (независимо от силы).";
                    } else if (!respectDirection && useWeightedPaths) {
                        return "Ненаправленный взвешенный: центральность через СИЛЬНЫЕ связи. Концепция близка к другим через фундаментальные, а не случайные связи.";
                    } else {
                        return "Ненаправленный: топологическая близость. Концепция в центре сети, недалеко от остальных.";
                    }
                },
                usage: () => {
                    const base = "Находите концепции в «центре» сети — те, от которых близко до всех остальных идей.";
                    return useWeightedPaths 
                        ? base + " С весами — концепции, центральные в СИЛЬНЫХ связях."
                        : base;
                },
                formula: () => {
                    const base = "CC(v) = (N-1) / Σ dist(v,u)";
                    return useWeightedPaths 
                        ? base + ", где dist — взвешенное расстояние" 
                        : base;
                }
            },
            
            eigenvector: {
                name: "Eigenvector Centrality",
                description: "Влиятельность узла через связи с другими влиятельными узлами",
                interpretation: () => {
                    if (respectDirection && useWeightedPaths) {
                        return "Направленный взвешенный: концепция важна, если на неё СИЛЬНО влияют другие важные концепции. Входящая связь от влиятельного узла с весом 3 даёт больше 'очков', чем с весом 1.";
                    } else if (respectDirection && !useWeightedPaths) {
                        return "Направленный: концепция важна через входящие связи от других важных узлов. Количество важнее силы связи.";
                    } else if (!respectDirection && useWeightedPaths) {
                        return "Ненаправленный взвешенный: концепция важна через СИЛЬНЫЕ связи с другими важными концепциями. Взаимное усиление через фундаментальные влияния.";
                    } else {
                        return "Ненаправленный: концепция важна, если связана с другими важными концепциями. Симметричное взаимное усиление, все связи равны.";
                    }
                },
                usage: () => {
                    const base = "Используйте для выявления концепций, которые составляют ядро философской традиции. Они важны не сами по себе, а через взаимное усиление с другими ключевыми идеями.";
                    return useWeightedPaths 
                        ? base + " С весами выделяет ядро ФУНДАМЕНТАЛЬНЫХ взаимосвязей."
                        : base;
                },
                formula: () => {
                    const base = "x(v) = (1/λ) × Σ A(v,u) × x(u)";
                    return useWeightedPaths 
                        ? base + ", где A — взвешенная матрица смежности" 
                        : base + ", где A — бинарная матрица смежности";
                }
            },
            
            'weighted-clustering': {
                name: "Взвешенная кластеризация (Weighted Clustering)",
                description: "Плотность связей в окрестности узла с учётом весов",
                interpretation: () => {
                    if (useWeightedPaths) {
                        return "С весами: насколько плотны и СИЛЬНЫ связи в окрестности концепции. Высокое значение = концепция в кластере плотных И фундаментальных взаимосвязей.";
                    } else {
                        return "Без весов: классическая кластеризация — насколько соседи узла связаны между собой. Высокое значение = концепция в плотном кластере идей.";
                    }
                },
                usage: () => {
                    const base = "Основная метрика кластеризации.";
                    return useWeightedPaths 
                        ? base + " С весами выявляет концепции в плотных кластерах СИЛЬНЫХ взаимосвязей. Идеально для философских систем с градацией важности связей."
                        : base + " Без весов — классическая кластеризация по топологии.";
                },
                formula: () => useWeightedPaths 
                    ? "C_w(i) = Σ(w_ij + w_ih + w_jh)/3 / max_triangles (взвешенная)" 
                    : "C(v) = 2e(v) / (k(v)(k(v)-1)) (стандартная)"
            },
            
            'local-cohesion': {
                name: "Локальная когезия (Local Cohesion Score)",
                description: "Комбинированная метрика: кластеризация × сила связей × количество соседей",
                interpretation: () => {
                    return "Высокое значение = концепция одновременно: (1) в плотном кластере, (2) с сильными связями, (3) с большим числом соседей. Это \"центры философских школ\" — узлы, вокруг которых концентрируются взаимосвязанные фундаментальные идеи. Низкое = либо изолированная концепция, либо мост между группами.";
                },
                usage: () => "Используйте для поиска ядер философских школ — концепций, которые не просто связаны со многими идеями, но образуют с ними плотные, сильно связанные группы. Отличается от простой кластеризации тем, что учитывает масштаб влияния.",
                formula: () => "Cohesion = clustering × log(1 + strength) × log(1 + neighbors)"
            },
            
            'rich-club': {
                name: "Rich-Club (Клуб влиятельных)",
                description: "Степень связности узла с другими высокостепенными узлами",
                interpretation: () => {
                    return "Высокое значение = концепция связана с другими центральными идеями. Это \"философская элита\" — идеи, которые не просто важны сами по себе, но образуют взаимосвязанное ядро традиции. Низкое = концепция на периферии, связана в основном с менее центральными идеями.";
                },
                usage: () => "Используйте для выявления концепций, образующих \"элитный клуб\" философской системы — взаимосвязанное ядро центральных идей. Если у Платона, Аристотеля, Канта высокий rich-club, их центральные концепции образуют плотно связанную сеть, несмотря на временную дистанцию.",
                formula: () => "RC(v) = (high_degree_neighbors / total_neighbors) × log(avg_neighbor_degree)"
            },
            
            // Философские метрики
            'problem-generation': {
                name: "Индекс проблемности (Problem Generation Index)",
                description: "Насколько концепция порождает проблемы и критику",
                interpretation: () => "Высокое значение = концепция порождает дальнейшее развитие, стимулирует попытки синтеза и порождает новые концепции. Это плодотворные проблемы, открывающие новые направления исследования. Низкое значение = концепция относительно завершена или не стимулирует развитие.",
                usage: () => "Используйте для выявления концепций, которые стали источником новых философских направлений. Высокий индекс указывает на интеллектуальную плодотворность, способность порождать новые вопросы и решения.",
                formula: () => "PGI = developmentAttempts×3.0 + discussionSpan/100 + bidirectionalDebates×2.0 + productiveCritique×1.5 + responseTypeDiversity×1.0 + rubricSpan×0.8"
            },
            
            'critical-power': {
                name: "Индекс критической силы (Critical Power Index)",
                
                description: "Измеряет способность концепции эффективно критиковать, деконструировать и опровергать другие философские идеи. В отличие от революционности (создание нового) и проблемности (порождение вопросов), критическая сила оценивает аналитическую и разрушительную мощь концепции.",
                
                interpretation: () => `Высокое значение указывает на концепции с сильным критическим потенциалом:<br><br>
            <strong>Эффективность</strong> (главное): критика порождает последствия - развития, синтезы, пересмотр идей<br>
            <strong>Качество целей</strong>: различаются критики центральных (>15 связей), средних (5-15) и периферийных (<5) концепций<br>
            <strong>Конструктивность</strong>: ratio critique/synthesize показывает тип - конструктивная (>0.5, как Кант) или деструктивная (<0.3, как Ницше)<br>
            <strong>Широта атаки</strong>: количество философов/эпох, подвергнутых критике<br>
            <strong>Временная перспектива</strong>: ретроспективная (традиции) vs синхронная (современники)<br><br>
            Индекс взвешивает активность через эффективность (реальное воздействие).`,
                
                usage: () => `<strong>Используйте для поиска:</strong><br><br>
            <strong>Деструкторы парадигм</strong> (effectiveness > 30, низкая конструктивность): Юм, Секст Эмпирик, Ницше<br>
            <strong>Конструктивные критики</strong> (effectiveness > 40, высокая конструктивность): Кант, Гегель, Деррида<br>
            <strong>Системные критики</strong> (targetedPhilosophers > 5): Аристотель, Фуко, Витгенштейн<br>
            <strong>Точечные критики</strong> (высокая effectiveness, мало целей): Рассел, Гёдель<br><br>
            <strong>Сравнение:</strong> revolutionaryIndex (создание) → problemGenerationIndex (вопросы) → criticalPowerIndex (разрушение)<br><br>
            <strong>Пороги фильтрации:</strong> total > 80 (мощные), effectiveness > 40 (эффективные), majorTargets > 2 (атакуют центр), constructivenessRatio > 0.5 (конструктивные) или < 0.3 (деструктивные)`,
                
                formula: () => `<strong>Формула:</strong><br>
            CPI = WeightedActivity×1.0 + MajorTargetBonus×1.5 + <strong>Effectiveness×2.0</strong> + TargetedPhilosophers×0.8 + EraSpan/100 + ConstructivenessBonus(3)<br><br>
            <strong>Ключевые компоненты:</strong><br>
            <strong>WeightedActivity:</strong> Σ(critique×2 + oppose×3) × weight<br>
            <strong>MajorTargetBonus:</strong> количество критик центральных концепций (>15 связей) × 2<br>
            <strong>Effectiveness:</strong> последствия критики (develop/synthesize у целей) + собственные развития × 2<br>
            <strong>TargetedPhilosophers:</strong> уникальные философы под критикой<br>
            <strong>EraSpan:</strong> временной диапазон критикуемых (в годах)<br>
            <strong>ConstructivenessBonus:</strong> +3 если syntheses/critiques > 0.3<br><br>
            <strong>Категории целей:</strong> Major (>15 связей), Medium (5-15), Minor (<5)<br>
            <strong>Типы:</strong> ретроспективная (birth < текущего) vs синхронная (|birth_diff| < 30)`
            },
            
            'revolutionary': {
                name: "Индекс революционности (Revolutionary Index)",
                description: "Насколько концепция порывает с традицией и создаёт новое",
                interpretation: () => "Высокое значение = концепция демонстрирует независимость от традиции, критикует доминирующие идеи, создаёт синтезы, порождает дискуссии и влияет на будущие поколения философов. Это парадигмальные сдвиги в истории философии. Низкое значение = концепция развивает существующую традицию без радикального разрыва.",
                usage: () => "Используйте для выявления переломных моментов в истории философии — концепций, которые радикально меняют направление мысли и открывают новые проблемные поля.",
                formula: () => "RI = independenceScore×2.0 + weightedCritiques×1.5 + syntheses×1.8 + dialogues×1.2 + rubricDiversity×0.8 + futureImpact×1.0 + influencedPhilosophers×0.7 + typeDiversity×0.5"
            },
            
            'paradigm-shift': {
                name: "Индекс парадигмального сдвига (Paradigm Shift Index)",
                description: "Насколько концепция меняет способ мышления (метод, а не только содержание)",
                interpretation: () => "Высокое значение = концепция меняет не просто взгляды, но сам способ мышления. Это методологические концепции, влияющие на разные области, которые принимаются многими более поздними философами. Это смена парадигмы в философии.",
                usage: () => "Используйте для поиска концепций, изменивших метод философствования. Такие идеи создают новые способы постановки вопросов и поиска ответов.",
                formula: () => "PSI = is_methodological×5 + rubrics_breadth×2 + later_adopters"
            },
            
            'influence': {
                name: "Индекс влияния (Influence Index)",
                description: "Улучшенная метрика влияния с учётом типов связей и временной динамики",
                interpretation: () => "Высокое значение = концепция оказала сильное прямое влияние на более поздние идеи и вступила в продуктивный диалог с современниками. Учитывается тип влияния (развитие, применение, диалог) и его сила.",
                usage: () => "Более тонкая метрика влияния, чем простой подсчёт связей. Различает прямое историческое влияние и синхронный диалог. Используйте для понимания реального исторического воздействия концепций.",
                formula: () => "II = forward_influence + contemporary_influence×0.5, где учитываются типы и веса связей"
            },
            
            'foundational': {
                name: "Индекс основополагания (Foundational Index)",
                description: "Насколько концепция является основанием для других (служит предпосылкой)",
                interpretation: () => "Высокое значение = концепция служит предпосылкой, условием или основой для других идей. Это фундаментальные концепции, без которых не могут существовать другие. Из них «вырастают» новые концепции.",
                usage: () => "Используйте для поиска фундамента философских систем — базовых концепций, на которых строится здание мысли.",
                formula: () => "FI = presuppositions×3 + conditions×2 + emergences×2.5 + applications + developments"
            },
            
            'synthetic': {
                name: "Индекс синтетичности (Synthetic Index)",
                description: "Насколько концепция объединяет разные традиции",
                interpretation: () => "Высокое значение = концепция синтезирует идеи разных философов, рубрик и традиций. Это мосты между направлениями мысли, объединяющие разнородное. Примиряет противоречия и создаёт единство из многообразия.",
                usage: () => "Используйте для поиска синтетических концепций — тех, что преодолевают дихотомии и объединяют противоположности. Это концепции-посредники между традициями.",
                formula: () => "SI = syntheses×3 + reconciliations×2 + diverse_influences×2 + thematic_breadth"
            },
            
            'dialogical': {
                name: "Индекс диалогичности (Dialogical Index)",
                description: "Насколько концепция находится в диалоге с другими",
                interpretation: () => "Высокое значение = концепция вступает в активный диалог с другими идеями, имеет двусторонние связи и дополняет другие концепции. Это не монолог, а беседа философских идей.",
                usage: () => "Используйте для выявления концепций, вокруг которых разворачивается философский диалог. Они не навязывают односторонне, а участвуют в обмене идеями.",
                formula: () => "DI = dialogues×2 + bidirectional×3 + complements"
            },
            
            'coherence': {
                name: "Индекс внутренней когерентности (Internal Coherence Index)",
                description: "Насколько концепции философа согласованы между собой",
                interpretation: () => "Высокое значение = концепция хорошо согласована с другими идеями того же философа. Много положительных связей (предпосылки, следствия, развития) и мало противоречий. Низкое = концепция противоречит другим идеям того же автора.",
                usage: () => "Используйте для оценки систематичности мышления философа. Высокая когерентность = последовательная система, низкая = эклектика или эволюция взглядов.",
                formula: () => "ICI = positive_links - negative_links×2"
            },
            
            'tension': {
                name: "Индекс напряжения (Tension Index)",
                description: "Степень внутреннего напряжения концепции по трём осям",
                interpretation: () => `Концепция измеряется по трём типам напряжения:
                    <br><br><strong>🔴 Имманентное</strong> — внутренние противоречия, признанные ограничения, условные зависимости. Это структурные напряжения самой концепции.
                    <br><br><strong>⚔️ Полемическое</strong> — конфликтность позиции: критика других концепций и получение критики. Это контекстуальное напряжение.
                    <br><br><strong>♦️ Диалектическое</strong> — продуктивность противоречия: нерешённые напряжения, порождение новых концепций, попытки синтеза. Это креативное напряжение.
                    <br><br>Высокое значение = концепция насыщена противоречиями и конфликтами. Низкое = относительная гармоничность.`,
                usage: () => "Используйте для поиска диалектически богатых концепций. Доминирующий тип напряжения характеризует природу концепции: имманентное напряжение указывает на внутренние проблемы системы, полемическое — на её конфликтность с эпохой, диалектическое — на способность порождать новое через противоречие.",
                formula: () => "TI = Имманентное×1.0 + Полемическое×0.8 + Диалектическое×1.2"
            },
            
            // Продвинутые метрики
            'transformation': {
                name: "Индекс трансформации (Transformation Index)",
                description: "Насколько концепция трансформирует заимствованные идеи",
                interpretation: () => "Высокое значение = концепция не просто принимает влияния, но активно их трансформирует, развивает, применяет, синтезирует. Это творческая переработка, а не пассивное восприятие. Соотношение выходных трансформаций к входным влияниям.",
                usage: () => "Используйте для поиска концепций, которые являются не только получателями, но и трансформаторами идей. Показывает творческую активность концепции.",
                formula: () => "TI = (developments + applications + syntheses) / influences × 10 + sum"
            },
            
            'fertility': {
                name: "Индекс концептуальной плодовитости (Conceptual Fertility Index)",
                description: "Насколько концепция порождает новые концепции",
                interpretation: () => "Высокое значение = из концепции вырастает много новых идей, она активно развивается другими философами. Это интеллектуально плодородные концепции, дающие богатый урожай новых мыслей.",
                usage: () => "Используйте для поиска «материнских» концепций — тех, что порождают целые семейства новых идей. Показывает генеративный потенциал концепции.",
                formula: () => "CFI = emergences×3 + developments×2 + later_adopters"
            },
            
            'complexity': {
                name: "Индекс концептуальной сложности (Conceptual Complexity Index)",
                description: "Насколько концепция сложна и многоаспектна",
                interpretation: () => "Высокое значение = концепция имеет много типов связей, охватывает разные рубрики, содержит противоречия и предпосылки, связана с концепциями многих философов. Это многомерные, сложные идеи, не сводимые к простым формулам.",
                usage: () => "Используйте для оценки интеллектуальной сложности концепций. Высокая сложность = богатство содержания, но и трудность понимания.",
                formula: () => "CCI = (link_type_diversity)×2 + rubrics×3 + contradictions×5 + presuppositions×2 + related_philosophers"
            },
            
            'continuity': {
                name: "Индекс преемственности (Conceptual Continuity Index)",
                description: "Насколько концепция сохраняет преемственность через время",
                interpretation: () => "Высокое значение = концепция постоянно упоминается и развивается на протяжении многих поколений без больших разрывов. Это идеи с непрерывной традицией, сохраняющие актуальность через века. Низкое = концепция была забыта или имеет прерывистую историю.",
                usage: () => "Используйте для оценки исторической устойчивости концепций. Показывает, какие идеи сохраняют живую традицию, а какие переживают периоды забвения.",
                formula: () => "CCI = (generations - gaps) × later_references"
            },
            
            'temporal-influence': {
                name: "Паттерн временного влияния (Temporal Influence Pattern)",
                description: "Как влияние концепции изменяется во времени",
                interpretation: () => "Классифицирует концепции по паттерну влияния во времени: lasting (устойчивое, от момента появления до далёкого будущего), fading (угасающее, сильное сразу, потом исчезает), delayed (отложенное, слабое сразу, сильное позже), normal (нормальное, стандартное распространение).",
                usage: () => "Используйте для понимания динамики влияния концепций. Разные паттерны говорят о разных механизмах распространения идей. Отложенное влияние может указывать на «опережающие время» концепции.",
                formula: () => "Анализ распределения ссылок по временным периодам: 0-50, 50-150, 150-300, 300+ лет"
            },
            
            // Метрики философов
            'philosopher-profile': {
                name: "Профиль философа (Philosopher Profile)",
                description: "Комплексная характеристика творчества философа",
                interpretation: () => "Показывает средние значения различных метрик для всех концепций философа: влияние, революционность, когерентность. Позволяет охарактеризовать стиль мышления философа в целом.",
                usage: () => "Используйте для сравнения философов между собой и понимания их уникальных характеристик. Высокая революционность при низкой когерентности = радикальный, но эклектичный мыслитель.",
                formula: () => "Усреднение метрик всех концепций философа"
            },
            
            'philosopher-systematic': {
                name: "Индекс систематичности философа (Philosopher Systematic Index)",
                description: "Насколько концепции философа связаны между собой",
                interpretation: () => "Высокое значение = концепции философа образуют плотную сеть взаимных связей. Это систематический мыслитель, строящий целостную архитектуру идей. Низкое = концепции слабо связаны, философ разрабатывает отдельные темы без единой системы.",
                usage: () => "Используйте для различения систематических и несистематических мыслителей. Кант, Гегель, Спиноза должны иметь высокие значения.",
                formula: () => "Плотность внутренних связей: internal_links / max_possible_links × 100%"
            },
            
            'philosopher-reach': {
                name: "Индекс исторического охвата (Historical Reach Index)",
                description: "Временной размах влияния философа",
                interpretation: () => "Высокое значение = философ повлиял на много более поздних мыслителей на протяжении многих поколений. Это мыслители с длительным и широким влиянием. Низкое = влияние ограничено современниками или ближайшими потомками.",
                usage: () => "Используйте для оценки исторического масштаба влияния философа. Показывает, какие мыслители остаются актуальными через века.",
                formula: () => "HRI = influenced_philosophers_count × generations"
            },
            
            'philosopher-interdisciplinary': {
                name: "Индекс междисциплинарности (Interdisciplinary Index)",
                description: "Насколько философ охватывает разные тематические области",
                interpretation: () => "Высокое значение = философ работает в разных рубриках (этика, метафизика, эпистемология и т.д.) с относительно равномерным распределением. Это универсальные мыслители. Низкое = философ специализируется в узкой области.",
                usage: () => "Используйте для различения универсалов и специалистов. Учитывается как количество рубрик, так и энтропия распределения (равномерность).",
                formula: () => "II = rubric_count × (1 + entropy)"
            }
        };

        // Функция для получения описания метрики
        function getMetricDescription(metricKey) {
            const desc = metricDescriptions[metricKey];
            if (!desc) return null;
            
            return {
                name: desc.name,
                description: desc.description,
                interpretation: typeof desc.interpretation === 'function' ? desc.interpretation() : desc.interpretation,
                usage: typeof desc.usage === 'function' ? desc.usage() : desc.usage,
                formula: typeof desc.formula === 'function' ? desc.formula() : desc.formula
            };
        }

        // ============================================
        // УПРАВЛЕНИЕ МОДАЛЬНЫМ ОКНОМ СТАТИСТИКИ
        // ============================================

        let currentStatsView = null;
        let isStatsModalOpen = false;

        // Открыть модальное окно
        function openStatsModal() {
            if (!concepts || !relations) {
                initializePhilosophyMetrics();
            }

            freezeSimulation();
            
            // Синхронизируем состояния переключателей с глобальными переменными
            document.getElementById('statsUseWeightsToggle').checked = useWeightedPaths;
            document.getElementById('statsRespectDirectionToggle').checked = respectDirection;
            
            const modal = document.getElementById('statsModal');
            modal.classList.add('active');
            isStatsModalOpen = true;
            
            // Показываем обзор по умолчанию если ещё не было выбора
            if (!currentStatsView) {
                setTimeout(() => {
                    const firstItem = document.querySelector('.stats-nav-item');
                    if (firstItem) {
                        firstItem.click();
                    }
                }, 100);
            } else {
                // Восстанавливаем последний просмотр
                loadStatsContent(currentStatsView);
                updateActiveNavItem(currentStatsView);
            }
            
            console.log('📊 Модальное окно статистики открыто');
        }

        // Закрыть модальное окно
        function closeStatsModal() {
            const modal = document.getElementById('statsModal');
            modal.classList.remove('active');
            isStatsModalOpen = false;
            console.log('📊 Модальное окно статистики закрыто');

            unfreezeSimulation();
        }

        // Обработка изменения параметров (веса, направленность)
        function handleStatsParameterChange() {
            const newWeights = document.getElementById('statsUseWeightsToggle').checked;
            const newDirection = document.getElementById('statsRespectDirectionToggle').checked;
            
            // Обновляем глобальные переменные
            useWeightedPaths = newWeights;
            respectDirection = newDirection;
            
            // Обновляем основные переключатели в легенде (если есть)
            const mainWeightsToggle = document.getElementById('useWeightsToggle');
            const mainDirectionToggle = document.getElementById('respectDirectionToggle');
            if (mainWeightsToggle) mainWeightsToggle.checked = newWeights;
            if (mainDirectionToggle) mainDirectionToggle.checked = newDirection;
            
            // Сбрасываем кэш графа
            invalidateGraphCache();
            
            // Если визуализация активна, сбрасываем её
            if (window.isVisualizingBySize) {
                resetNodeSizes();
            }
            
            console.log('⚙️ Параметры изменены: веса =', newWeights, ', направленность =', newDirection);
            
            // Перезагружаем текущий контент с новыми параметрами
            if (currentStatsView) {
                loadStatsContent(currentStatsView);
            }
        }

        // Переключение между видами статистики
        function switchStatsView(viewName, event) {
            if (event && event.target) {
                // Обновляем активный пункт навигации
                document.querySelectorAll('.stats-nav-item').forEach(item => {
                    item.classList.remove('active');
                });
                
                let targetItem = event.target;
                while (targetItem && !targetItem.classList.contains('stats-nav-item')) {
                    targetItem = targetItem.parentElement;
                }
                if (targetItem) {
                    targetItem.classList.add('active');
                }
            }
            
            currentStatsView = viewName;
            loadStatsContent(viewName);
            
            console.log('📊 Переключение на метрику:', viewName);
        }

        // Обновить активный пункт навигации
        function updateActiveNavItem(viewName) {
            document.querySelectorAll('.stats-nav-item').forEach(item => {
                item.classList.remove('active');
                const onclick = item.getAttribute('onclick');
                if (onclick && onclick.includes(`'${viewName}'`)) {
                    item.classList.add('active');
                }
            });
        }

        // Загрузка контента для выбранной метрики
        function loadStatsContent(viewName) {
            const contentArea = document.getElementById('statsContentArea');
            let content = '';
            
            // Определяем функцию генератора для каждой метрики
            const generators = {
                'overview': generateOverviewContent,
                'degree': generateDegreeContent,
                'pagerank': generatePageRankContent,
                'betweenness': generateBetweennessContent,
                'closeness': generateClosenessContent,
                'eigenvector': generateEigenvectorContent,
                'weighted-clustering': generateWeightedClusteringContent,
                'local-cohesion': generateLocalCohesionContent,
                'rich-club': generateRichClubContent,
                'problem-generation': generateProblemGenerationContent,
                'critical-power': generateCriticalPowerContent,
                'revolutionary': generateRevolutionaryContent,
                'paradigm-shift': generateParadigmShiftContent,
                'influence': generateInfluenceContent,
                'foundational': generateFoundationalContent,
                'synthetic': generateSyntheticContent,
                'dialogical': generateDialogicalContent,
                'coherence': generateCoherenceContent,
                'tension': generateTensionContent,
                'transformation': generateTransformationContent,
                'fertility': generateFertilityContent,
                'complexity': generateComplexityContent,
                'continuity': generateContinuityContent,
                'temporal-influence': generateTemporalInfluenceContent,
                'philosopher-profile': generatePhilosopherProfileContent,
                'philosopher-systematic': generatePhilosopherSystematicContent,
                'philosopher-reach': generatePhilosopherReachContent,
                'philosopher-interdisciplinary': generatePhilosopherInterdisciplinaryContent,
                'concept-rankings': generateConceptRankingsContent,
                'philosopher-rankings': generatePhilosopherRankingsContent
            };
            
            const generator = generators[viewName];
            if (generator) {
                content = generator();
            } else {
                content = `
                    <div class="empty-state">
                        <div class="empty-state-icon">🚧</div>
                        <div class="empty-state-text">Метрика в разработке</div>
                        <div class="empty-state-hint">Эта метрика будет добавлена в следующей версии</div>
                    </div>
                `;
            }
            
            contentArea.innerHTML = content;
            contentArea.scrollTop = 0; // Скроллим наверх при смене контента
        }

        // Закрытие модального окна при клике вне его
        document.addEventListener('click', function(event) {
            if (!isStatsModalOpen) return;
            const modal = document.getElementById('statsModal');
            if (event.target === modal) {
                closeStatsModal();
            }
        });

        // Закрытие модального окна по Escape
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape' && isStatsModalOpen) {
                closeStatsModal();
            }
        });

        // Расчёт метрики из модального окна
        async function calculateMetricFromModal(metricKey) {
            try {
                // closeStatsModal(); // ЗАКОММЕНТИРОВАНО
                
                // Используем существующие функции расчёта
                await runSingleMetric(metricKey);
                
                // После расчёта - переключаемся на вкладку с этой метрикой
                setTimeout(() => {
                    // Если окно было закрыто - открываем
                    if (!isStatsModalOpen) {
                        openStatsModal();
                    }
                    
                    // Переключаемся на нужную метрику
                    switchStatsView(metricKey);
                    updateActiveNavItem(metricKey);
                }, 600);
                
            } catch (error) {
                console.error('❌ Ошибка при расчёте метрики:', error);
                alert('Произошла ошибка при расчёте метрики: ' + error.message);
                
                // Если окно было закрыто - открываем обратно
                if (!isStatsModalOpen) {
                    openStatsModal();
                }
            }
        }

        // Вспомогательная функция для генерации блока описания метрики
        function generateMetricDescriptionBlock(metricKey) {
            const desc = getMetricDescription(metricKey);
            if (!desc) return '';
            
            return `
                <div class="metric-description-box">
                    <div class="metric-description-section">
                        <div class="metric-description-label">📋 Что измеряет</div>
                        <div class="metric-description-text">${desc.description}</div>
                    </div>
                    
                    <div class="metric-description-section">
                        <div class="metric-description-label">💡 Интерпретация</div>
                        <div class="metric-description-text">${desc.interpretation}</div>
                    </div>
                    
                    <div class="metric-description-section">
                        <div class="metric-description-label">🎯 Применение</div>
                        <div class="metric-description-text">${desc.usage}</div>
                    </div>
                    
                    <div class="metric-description-section">
                        <div class="metric-description-label">🧮 Формула</div>
                        <div class="metric-formula">${desc.formula}</div>
                    </div>
                </div>
            `;
        }

        // Вспомогательная функция для генерации кнопки расчёта
        function generateCalculateButton(metricName, metricKey, description) {
            return `
                <div class="stats-content-header">
                    <h3 class="stats-content-title">${metricName}</h3>
                    <p class="stats-content-subtitle">${description}</p>
                </div>
                
                ${generateMetricDescriptionBlock(metricKey)}
                
                <div class="empty-state">
                    <div class="empty-state-icon">📊</div>
                    <div class="empty-state-text">Метрика ещё не рассчитана</div>
                    <button class="calculate-metric-btn" onclick="calculateMetricFromModal('${metricKey}')">
                        ⚡ Рассчитать ${metricName}
                    </button>
                </div>
            `;
        }

        /**
         * Универсальная функция для генерации результатов метрик
         * @param {Array} data - массив данных результатов
         * @param {string} title - заголовок метрики
         * @param {string} description - описание метрики
         * @param {string} metricKey - ключ метрики для descriptions
         * @param {string} valueKey - ключ для значения в объекте данных
         * @param {boolean} isDecimal - форматировать ли как десятичное
         * @param {Object} options - дополнительные опции
         * @param {boolean} options.isComposite - составная ли метрика (с подхарактеристиками)
         * @param {Function} options.getDetailsHTML - функция для генерации HTML деталей
         * @param {Function} options.getConceptDescription - функция для получения описания концепции
         */
        function generateMetricResults(data, title, description, metricKey, valueKey, isDecimal, options = {}) {
            const {
                isComposite = false,
                getDetailsHTML = null,
                getConceptDescription = (item) => item.node.description || null
            } = options;
            
            if (!data || data.length === 0) {
                return `
                    <div class="stats-content-header">
                        <h3 class="stats-content-title">${title}</h3>
                        <p class="stats-content-subtitle">${description}</p>
                        
                        <div class="stats-content-actions">
                            <button class="stats-action-btn secondary" 
                                    id="visualize-btn-${metricKey}"
                                    onclick="toggleMetricVisualization('${metricKey}')">
                                <span id="visualize-icon-${metricKey}">📏</span>
                                <span id="visualize-text-${metricKey}">Визуализировать размером</span>
                            </button>
                        </div>
                    </div>
                    
                    ${generateMetricDescriptionBlock(metricKey)}
                    
                    <div class="empty-state">
                        <div class="empty-state-icon">📊</div>
                        <div class="empty-state-text">Нет данных для отображения</div>
                    </div>
                `;
            }
            
            return `
                <div class="stats-content-header">
                    <h3 class="stats-content-title">${title}</h3>
                    <p class="stats-content-subtitle">${description}</p>
                    
                    <div class="stats-content-actions">
                        <button class="stats-action-btn secondary" 
                                id="visualize-btn-${metricKey}"
                                onclick="toggleMetricVisualization('${metricKey}')">
                            <span id="visualize-icon-${metricKey}">📏</span>
                            <span id="visualize-text-${metricKey}">Визуализировать размером</span>
                        </button>
                    </div>
                </div>
                
                ${generateMetricDescriptionBlock(metricKey)}
                
                <div class="metric-results-grid">
                    ${data.map((item, index) => {
                        const value = item[valueKey];
                        const displayValue = isDecimal ? value.toFixed(4) : Math.round(value);
                        const conceptDesc = getConceptDescription(item);
                        const hasDetails = isComposite || conceptDesc;
                        
                        // Генерируем HTML для деталей
                        let detailsHTML = '';
                        if (hasDetails) {
                            if (isComposite && getDetailsHTML) {
                                // Составная метрика - показываем подхарактеристики + описание
                                detailsHTML = getDetailsHTML(item, index);
                            } else if (conceptDesc) {
                                // Простая метрика - только описание концепции
                                detailsHTML = `
                                    <div class="metric-detail-panel simple-detail">
                                        <div class="metric-concept-description">
                                            <strong>О концепции:</strong>
                                            <p>${conceptDesc}</p>
                                        </div>
                                    </div>
                                `;
                            }
                        }
                        
                        return `
                            <div class="metric-result-card ${hasDetails ? 'has-details' : ''}" 
                                 data-concept-id="${item.node.id}"
                                 onclick="highlightNodeById('${item.node.id}')">
                                <div class="metric-result-rank">#${index + 1}</div>
                                <div class="metric-result-name">${item.node.label}</div>
                                <div class="metric-result-value">${displayValue}</div>
                                <div class="metric-result-philosopher">${item.node.concept}</div>
                                
                                ${hasDetails ? `
                                    <button class="metric-expand-btn" 
                                            onclick="event.stopPropagation(); toggleMetricDetails(this);"
                                            title="Показать детали">
                                        <span class="expand-icon">▼</span>
                                    </button>
                                ` : ''}
                                
                                ${hasDetails ? detailsHTML : ''}
                            </div>
                        `;
                    }).join('')}
                </div>
            `;
        }

        /**
         * Функция для переключения видимости деталей метрики
         */
        function toggleMetricDetails(button) {
            const card = button.closest('.metric-result-card');
            const panel = card.querySelector('.metric-detail-panel');
            const icon = button.querySelector('.expand-icon');
            
            if (!panel) return;
            
            const isExpanded = card.classList.contains('expanded');
            
            if (isExpanded) {
                // Сворачиваем
                panel.style.display = 'none';
                icon.textContent = '▼';
                card.classList.remove('expanded');
            } else {
                // Разворачиваем
                panel.style.display = 'block';
                icon.textContent = '▲';
                card.classList.add('expanded');
            }
        }

        // ============================================
        // ГЕНЕРАТОРЫ КОНТЕНТА ДЛЯ ВСЕХ МЕТРИК
        // ============================================

        // ============================================
        // БАЗОВЫЕ МЕТРИКИ СЕТИ
        // ============================================

        function generateOverviewContent() {
            const avgDegree = (links.length * 2 / nodes.length).toFixed(2);
            const density = (links.length / ((nodes.length * (nodes.length - 1)) / 2) * 100).toFixed(3);
            
            return `
                <div class="stats-content-header">
                    <h3 class="stats-content-title">📈 Общий обзор графа</h3>
                    <p class="stats-content-subtitle">Базовая статистика сети философских концепций</p>
                </div>
                
                ${generateMetricDescriptionBlock('overview')}
                
                <div class="metric-results-grid">
                    <div class="metric-result-card">
                        <div class="metric-result-rank">Узлы</div>
                        <div class="metric-result-value">${nodes.length}</div>
                        <div class="metric-result-philosopher">Всего концепций</div>
                    </div>
                    <div class="metric-result-card">
                        <div class="metric-result-rank">Связи</div>
                        <div class="metric-result-value">${links.length}</div>
                        <div class="metric-result-philosopher">Всего отношений</div>
                    </div>
                    <div class="metric-result-card">
                        <div class="metric-result-rank">Плотность</div>
                        <div class="metric-result-value">${density}%</div>
                        <div class="metric-result-philosopher">Плотность сети</div>
                    </div>
                    <div class="metric-result-card">
                        <div class="metric-result-rank">Средняя степень</div>
                        <div class="metric-result-value">${avgDegree}</div>
                        <div class="metric-result-philosopher">Связей на узел</div>
                    </div>
                </div>
            `;
        }

        function generateDegreeContent() {
            const degreeData = nodes.map(n => {
                const inDegree = links.filter(l => 
                    (typeof l.target === 'object' ? l.target.id : l.target) === n.id
                ).length;
                const outDegree = links.filter(l => 
                    (typeof l.source === 'object' ? l.source.id : l.source) === n.id
                ).length;
                return {
                    node: n,
                    inDegree,
                    outDegree,
                    totalDegree: inDegree + outDegree
                };
            }).sort((a, b) => b.totalDegree - a.totalDegree);
            
            return `
                <div class="stats-content-header">
                    <h3 class="stats-content-title">🔗 Степень связности</h3>
                    <p class="stats-content-subtitle">Количество входящих и исходящих связей для каждого узла</p>
                </div>
                
                ${generateMetricDescriptionBlock('degree')}
                
                <table class="metric-table">
                    <thead class="metric-table-header">
                        <tr>
                            <th>#</th>
                            <th>Концепция</th>
                            <th>Входящих</th>
                            <th>Исходящих</th>
                            <th>Всего</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${degreeData.slice(0, 20).map((d, i) => `
                            <tr class="metric-table-row" onclick="highlightNodeById('${d.node.id}')">
                                <td><strong>${i + 1}</strong></td>
                                <td><strong>${d.node.label}</strong></td>
                                <td>${d.inDegree}</td>
                                <td>${d.outDegree}</td>
                                <td class="metric-table-value">${d.totalDegree}</td>
                            </tr>
                        `).join('')}
                    </tbody>
                </table>
            `;
        }

        function generatePageRankContent() {
            if (!pageRankCache || pageRankCache.length === 0) {
                return generateCalculateButton('PageRank', 'pagerank', 
                    'Алгоритм PageRank определяет важность узлов на основе количества и качества входящих связей');
            }
            
            return generateMetricResults(
                pageRankCache.slice(0, 30),
                '⭐ PageRank',
                'Важность узлов на основе входящих связей',
                'pagerank',
                'value',
                true
            );
        }

        function generateBetweennessContent() {
            if (!betweennessCache || betweennessCache.length === 0) {
                return generateCalculateButton('Betweenness Centrality', 'betweenness',
                    'Метрика показывает, насколько часто узел находится на кратчайших путях между другими узлами');
            }
            
            return generateMetricResults(
                betweennessCache.slice(0, 30),
                '🌉 Betweenness Centrality',
                'Узлы-посредники в сети',
                'betweenness',
                'value',
                true
            );
        }

        function generateClosenessContent() {
            if (!closenessCache || closenessCache.length === 0) {
                return generateCalculateButton('Closeness Centrality', 'closeness',
                    'Метрика измеряет среднюю дистанцию от узла до всех остальных узлов');
            }
            
            return generateMetricResults(
                closenessCache.slice(0, 30),
                '🎯 Closeness Centrality',
                'Центральность по близости',
                'closeness',
                'value',
                true
            );
        }

        function generateEigenvectorContent() {
            if (!eigenvectorCache || eigenvectorCache.length === 0) {
                return generateCalculateButton('Eigenvector Centrality', 'eigenvector',
                    'Мера влияния узла в сети: важность определяется важностью соседей');
            }
            
            return generateMetricResults(
                eigenvectorCache.slice(0, 30),
                '🏆 Eigenvector Centrality',
                'Влияние через влиятельных соседей',
                'eigenvector',
                'value',
                true
            );
        }

        function generateWeightedClusteringContent() {
            if (!weightedClusteringCache || weightedClusteringCache.length === 0) {
                return generateCalculateButton('Weighted Clustering', 'weighted-clustering',
                    'Плотность связей в окрестности узла с учётом весов');
            }
            
            return generateMetricResults(
                weightedClusteringCache.slice(0, 30),
                '🕸️ Взвешенная кластеризация',
                'Плотность связей с учётом весов',
                'weighted-clustering',
                'value',
                true
            );
        }

        function generateLocalCohesionContent() {
            if (!localCohesionCache || localCohesionCache.length === 0) {
                return generateCalculateButton('Local Cohesion', 'local-cohesion',
                    'Комбинированная метрика: кластеризация × сила связей × количество соседей');
            }
            
            return generateMetricResults(
                localCohesionCache.slice(0, 30),
                '🔵 Локальная когезия',
                'Центры философских школ',
                'local-cohesion',
                'value',
                true
            );
        }

        function generateRichClubContent() {
            if (!richClubCache || richClubCache.length === 0) {
                return generateCalculateButton('Rich-Club', 'rich-club',
                    'Степень связности узла с другими высокостепенными узлами');
            }
            
            return generateMetricResults(
                richClubCache.slice(0, 30),
                '👑 Rich-Club',
                'Философская элита сети',
                'rich-club',
                'value',
                true
            );
        }

        // ============================================
        // ФИЛОСОФСКИЕ МЕТРИКИ
        // ============================================

        function generateProblemGenerationContent() {
            if (!concepts || !relations) {
                initializePhilosophyMetrics();
            }
            
            const results = nodes.map(n => {
                const metric = problemGenerationIndex(n.id);
                return {
                    node: n,
                    value: metric.weighted,
                    details: metric
                };
            }).filter(r => r.value > 0).sort((a, b) => b.value - a.value);
            
            return generateMetricResults(
                results.slice(0, 30),
                '💥 Индекс проблемности',
                'Концепции, порождающие наибольшую критику и проблемы',
                'problem-generation',
                'value',
                true
            );
        }

        function generateCriticalPowerContent() {
            if (!concepts || !relations) {
                initializePhilosophyMetrics();
            }
            
            const results = nodes.map(n => {
                const metric = criticalPowerIndex(n.id);
                return {
                    node: n,
                    value: metric.weighted,
                    details: metric
                };
            }).filter(r => r.value > 0).sort((a, b) => b.value - a.value);
            
            return generateMetricResults(
                results.slice(0, 30),
                '⚔️ Критическая сила',
                'Концепции с наибольшей критической мощью',
                'critical-power',
                'value',
                true
            );
        }

        function generateRevolutionaryContent() {
            if (!concepts || !relations) {
                initializePhilosophyMetrics();
            }
            
            const results = nodes.map(n => {
                const metric = revolutionaryIndex(n.id);
                return {
                    node: n,
                    value: metric.total,
                    details: metric
                };
            }).filter(r => r.value > 0).sort((a, b) => b.value - a.value);
            
            return generateMetricResults(
                results.slice(0, 30),
                '🌟 Индекс революционности',
                'Наиболее революционные концепции, порывающие с традицией',
                'revolutionary',
                'value',
                true
            );
        }

        function generateParadigmShiftContent() {
            if (!concepts || !relations) {
                initializePhilosophyMetrics();
            }
            
            const results = nodes.map(n => {
                const metric = paradigmShiftIndex(n.id);
                return {
                    node: n,
                    value: metric.total,
                    details: metric
                };
            }).filter(r => r.value > 0).sort((a, b) => b.value - a.value);
            
            return generateMetricResults(
                results.slice(0, 30),
                '🌐 Парадигмальный сдвиг',
                'Концепции, изменившие способ мышления',
                'paradigm-shift',
                'value',
                true
            );
        }

        function generateInfluenceContent() {
            if (!concepts || !relations) {
                initializePhilosophyMetrics();
            }
            
            const results = nodes.map(n => {
                const metric = influenceIndex(n.id);
                return {
                    node: n,
                    value: metric.total,
                    details: metric
                };
            }).filter(r => r.value > 0).sort((a, b) => b.value - a.value);
            
            return generateMetricResults(
                results.slice(0, 30),
                '🎭 Индекс влияния',
                'Концепции с наибольшим историческим влиянием',
                'influence',
                'value',
                true
            );
        }

        function generateFoundationalContent() {
            if (!concepts || !relations) {
                initializePhilosophyMetrics();
            }
            
            const results = nodes.map(n => {
                const metric = foundationalIndex(n.id);
                return {
                    node: n,
                    value: metric.total,
                    details: metric
                };
            }).filter(r => r.value > 0).sort((a, b) => b.value - a.value);
            
            return generateMetricResults(
                results.slice(0, 30),
                '🏛️ Индекс основополагания',
                'Фундаментальные концепции, на которых строятся другие',
                'foundational',
                'value',
                true
            );
        }

        function generateSyntheticContent() {
            if (!concepts || !relations) {
                initializePhilosophyMetrics();
            }
            
            const results = nodes.map(n => {
                const metric = syntheticIndex(n.id);
                return {
                    node: n,
                    value: metric.total,
                    details: metric
                };
            }).filter(r => r.value > 0).sort((a, b) => b.value - a.value);
            
            return generateMetricResults(
                results.slice(0, 30),
                '🔗 Индекс синтетичности',
                'Концепции, синтезирующие разные традиции',
                'synthetic',
                'value',
                true
            );
        }

        function generateDialogicalContent() {
            if (!concepts || !relations) {
                initializePhilosophyMetrics();
            }
            
            const results = nodes.map(n => {
                const metric = dialogicalIndex(n.id);
                return {
                    node: n,
                    value: metric.total,
                    details: metric
                };
            }).filter(r => r.value > 0).sort((a, b) => b.value - a.value);
            
            return generateMetricResults(
                results.slice(0, 30),
                '💬 Индекс диалогичности',
                'Концепции в активном философском диалоге',
                'dialogical',
                'value',
                true
            );
        }

        function generateCoherenceContent() {
            if (!concepts || !relations) {
                initializePhilosophyMetrics();
            }
            
            const results = nodes.map(n => {
                const metric = internalCoherenceIndex(n.id);
                return {
                    node: n,
                    value: metric.total,
                    details: metric
                };
            }).sort((a, b) => b.value - a.value);
            
            return generateMetricResults(
                results.slice(0, 30),
                '✨ Внутренняя когерентность',
                'Концепции с наименьшим количеством противоречий',
                'coherence',
                'value',
                true
            );
        }
        /*
        function generateTensionContent() {
            if (!concepts || !relations) {
                initializePhilosophyMetrics();
            }
            
            const results = nodes.map(n => {
                const metric = tensionIndex(n.id);
                return {
                    node: n,
                    value: metric.total,
                    details: metric
                };
            }).filter(r => r.value > 0).sort((a, b) => b.value - a.value);
            
            return generateMetricResults(
                results.slice(0, 30),
                '⚖️ Индекс напряжения',
                'Концепции с наибольшим внутренним напряжением',
                'tension',
                'value',
                true
            );
        }
        */

        function generateTensionContent() {
            if (!concepts || !relations) {
                initializePhilosophyMetrics();
            }
            
            const results = nodes.map(n => {
                const metric = tensionIndex(n.id);
                return {
                    node: n,
                    value: metric.total,
                    details: metric,
                    dominantType: metric.analytics.dominantType,
                    immanent: metric.immanentTension,
                    polemical: metric.polemicalTension,
                    dialectical: metric.dialecticalTension
                };
            }).filter(r => r.value > 0).sort((a, b) => b.value - a.value);
            
            const typeIcons = {
                'immanent': '🔴',
                'polemical': '⚔️',
                'dialectical': '♦️'
            };
            
            const typeLabels = {
                'immanent': 'Имманентное',
                'polemical': 'Полемическое',
                'dialectical': 'Диалектическое'
            };
            
            // Функция для генерации HTML деталей напряжения
            const getTensionDetailsHTML = (item, index) => {
                const r = item;
                const details = r.details;
                const ratio = details.analytics.tensionResolutionRatio;
                const ratioPercent = Math.round(ratio * 100);
                const typeLabel = typeLabels[r.dominantType] || 'Смешанное';
                
                // Вычисляем проценты для визуальной шкалы
                const immanentPercent = (r.immanent / r.value * 100).toFixed(1);
                const polemicalPercent = (r.polemical / r.value * 100).toFixed(1);
                const dialecticalPercent = (r.dialectical / r.value * 100).toFixed(1);
                
                return `
                    <div class="metric-detail-panel tension-detail">
                        <!-- Визуальная шкала напряжения -->
                        <div class="tension-breakdown-section">
                            <div class="tension-breakdown-bar">
                                <div class="tension-segment tension-immanent" 
                                     style="width: ${immanentPercent}%"
                                     title="Имманентное: ${r.immanent.toFixed(1)}">
                                </div>
                                <div class="tension-segment tension-polemical" 
                                     style="width: ${polemicalPercent}%"
                                     title="Полемическое: ${r.polemical.toFixed(1)}">
                                </div>
                                <div class="tension-segment tension-dialectical" 
                                     style="width: ${dialecticalPercent}%"
                                     title="Диалектическое: ${r.dialectical.toFixed(1)}">
                                </div>
                            </div>
                            
                            <div class="tension-badges">
                                <div class="tension-badge tension-badge-immanent">
                                    🔴 ${r.immanent.toFixed(1)}
                                </div>
                                <div class="tension-badge tension-badge-polemical">
                                    ⚔️ ${r.polemical.toFixed(1)}
                                </div>
                                <div class="tension-badge tension-badge-dialectical">
                                    ♦️ ${r.dialectical.toFixed(1)}
                                </div>
                            </div>
                        </div>
                        
                        <!-- Имманентное напряжение -->
                        <div class="tension-detail-section">
                            <h4 class="tension-detail-title">🔴 Имманентное напряжение: ${r.immanent.toFixed(1)}</h4>
                            <div class="tension-detail-list">
                                ${details.immanent.internalContradictions > 0 ? 
                                    `<div class="tension-detail-item">
                                        <span class="tension-detail-label">Внутренние противоречия:</span>
                                        <span class="tension-detail-value">${details.immanent.internalContradictions.toFixed(1)}</span>
                                    </div>` : ''}
                                ${details.immanent.acknowledgedLimits > 0 ? 
                                    `<div class="tension-detail-item">
                                        <span class="tension-detail-label">Признанные ограничения:</span>
                                        <span class="tension-detail-value">${details.immanent.acknowledgedLimits}</span>
                                    </div>` : ''}
                                ${details.immanent.conditionalDependencies > 0 ? 
                                    `<div class="tension-detail-item">
                                        <span class="tension-detail-label">Условные зависимости:</span>
                                        <span class="tension-detail-value">${details.immanent.conditionalDependencies}</span>
                                    </div>` : ''}
                                ${details.immanent.mediations > 0 ? 
                                    `<div class="tension-detail-item">
                                        <span class="tension-detail-label">Опосредования:</span>
                                        <span class="tension-detail-value">${details.immanent.mediations}</span>
                                    </div>` : ''}
                                ${details.immanent.complementarityNeeds > 0 ? 
                                    `<div class="tension-detail-item">
                                        <span class="tension-detail-label">Потребность в дополнении:</span>
                                        <span class="tension-detail-value">${details.immanent.complementarityNeeds}</span>
                                    </div>` : ''}
                            </div>
                        </div>
                        
                        <!-- Полемическое напряжение -->
                        <div class="tension-detail-section">
                            <h4 class="tension-detail-title">⚔️ Полемическое напряжение: ${r.polemical.toFixed(1)}</h4>
                            <div class="tension-detail-list">
                                ${details.polemical.outgoingConflict > 0 ? 
                                    `<div class="tension-detail-item">
                                        <span class="tension-detail-label">Исходящая критика:</span>
                                        <span class="tension-detail-value">${details.polemical.outgoingConflict.toFixed(1)}</span>
                                    </div>` : ''}
                                ${details.polemical.incomingConflict > 0 ? 
                                    `<div class="tension-detail-item">
                                        <span class="tension-detail-label">Входящая критика:</span>
                                        <span class="tension-detail-value">${details.polemical.incomingConflict.toFixed(1)}</span>
                                    </div>` : ''}
                                ${details.polemical.mutualPolemics > 0 ? 
                                    `<div class="tension-detail-item">
                                        <span class="tension-detail-label">Взаимная полемика:</span>
                                        <span class="tension-detail-value">${details.polemical.mutualPolemics}</span>
                                    </div>` : ''}
                            </div>
                        </div>
                        
                        <!-- Диалектическое напряжение -->
                        <div class="tension-detail-section">
                            <h4 class="tension-detail-title">♦️ Диалектическое напряжение: ${r.dialectical.toFixed(1)}</h4>
                            <div class="tension-detail-list">
                                ${details.dialectical.unresolvedTension > 0 ? 
                                    `<div class="tension-detail-item">
                                        <span class="tension-detail-label">Нерешённое напряжение:</span>
                                        <span class="tension-detail-value">${details.dialectical.unresolvedTension.toFixed(1)}</span>
                                    </div>` : ''}
                                ${details.dialectical.syntheses > 0 ? 
                                    `<div class="tension-detail-item">
                                        <span class="tension-detail-label">Синтезы:</span>
                                        <span class="tension-detail-value">${details.dialectical.syntheses}</span>
                                    </div>` : ''}
                                ${details.dialectical.emergentConcepts > 0 ? 
                                    `<div class="tension-detail-item">
                                        <span class="tension-detail-label">Порождённые концепции:</span>
                                        <span class="tension-detail-value">${details.dialectical.emergentConcepts}</span>
                                    </div>` : ''}
                                ${details.dialectical.developments > 0 ? 
                                    `<div class="tension-detail-item">
                                        <span class="tension-detail-label">Развития:</span>
                                        <span class="tension-detail-value">${details.dialectical.developments}</span>
                                    </div>` : ''}
                                ${details.dialectical.culminations > 0 ? 
                                    `<div class="tension-detail-item">
                                        <span class="tension-detail-label">Кульминации:</span>
                                        <span class="tension-detail-value">${details.dialectical.culminations}</span>
                                    </div>` : ''}
                            </div>
                        </div>
                        
                        <!-- Аналитика -->
                        <div class="tension-analytics-section">
                            <div class="tension-analytics-item">
                                <span class="tension-analytics-label">Доминирующий тип:</span>
                                <span class="tension-analytics-value">${typeLabel}</span>
                            </div>
                            <div class="tension-analytics-item">
                                <span class="tension-analytics-label">Баланс Н/Р:</span>
                                <span class="tension-analytics-value">${ratioPercent}%</span>
                            </div>
                            <div class="tension-analytics-item">
                                <span class="tension-analytics-label">Средняя интенсивность:</span>
                                <span class="tension-analytics-value">${details.analytics.averageIntensity.toFixed(2)}</span>
                            </div>
                        </div>
                        
                        <!-- Описание концепции -->
                        ${r.node.description ? 
                            `<div class="metric-concept-description">
                                <strong>О концепции:</strong>
                                <p>${r.node.description}</p>
                            </div>` : ''}
                    </div>
                `;
            };
            
            // Используем универсальную функцию generateMetricResults
            return generateMetricResults(
                results.slice(0, 30),
                '⚖️ Индекс напряжения',
                'Концепции с наибольшим внутренним напряжением',
                'tension',
                'value',
                true,
                {
                    isComposite: true,
                    getDetailsHTML: getTensionDetailsHTML,
                    getConceptDescription: (item) => item.node.description
                }
            );
        }

        // ============================================
        // ПРОДВИНУТЫЕ МЕТРИКИ
        // ============================================

        function generateTransformationContent() {
            if (!concepts || !relations) {
                initializePhilosophyMetrics();
            }
            
            const results = nodes.map(n => {
                const metric = transformationIndex(n.id);
                return {
                    node: n,
                    value: metric.total,
                    details: metric
                };
            }).filter(r => r.value > 0).sort((a, b) => b.value - a.value);
            
            return generateMetricResults(
                results.slice(0, 30),
                '🔄 Индекс трансформации',
                'Концепции, трансформирующие заимствованные идеи',
                'transformation',
                'value',
                true
            );
        }

        function generateFertilityContent() {
            if (!concepts || !relations) {
                initializePhilosophyMetrics();
            }
            
            const results = nodes.map(n => {
                const metric = conceptualFertilityIndex(n.id);
                return {
                    node: n,
                    value: metric.total,
                    details: metric
                };
            }).filter(r => r.value > 0).sort((a, b) => b.value - a.value);
            
            return generateMetricResults(
                results.slice(0, 30),
                '🌱 Концептуальная плодовитость',
                'Концепции, порождающие новые идеи',
                'fertility',
                'value',
                true
            );
        }

        function generateComplexityContent() {
            if (!concepts || !relations) {
                initializePhilosophyMetrics();
            }
            
            const results = nodes.map(n => {
                const metric = conceptualComplexityIndex(n.id);
                return {
                    node: n,
                    value: metric.total,
                    details: metric
                };
            }).sort((a, b) => b.value - a.value);
            
            return generateMetricResults(
                results.slice(0, 30),
                '📊 Концептуальная сложность',
                'Наиболее сложные и многоаспектные концепции',
                'complexity',
                'value',
                true
            );
        }

        function generateContinuityContent() {
            if (!concepts || !relations) {
                initializePhilosophyMetrics();
            }
            
            const results = nodes.map(n => {
                const metric = conceptualContinuityIndex(n.id);
                return {
                    node: n,
                    value: metric.total,
                    details: metric
                };
            }).filter(r => r.value > 0).sort((a, b) => b.value - a.value);
            
            return generateMetricResults(
                results.slice(0, 30),
                '📜 Индекс преемственности',
                'Концепции с наибольшей исторической преемственностью',
                'continuity',
                'value',
                true
            );
        }

        function generateTemporalInfluenceContent() {
            if (!concepts || !relations) {
                initializePhilosophyMetrics();
            }
            
            const results = nodes.map(n => {
                const metric = temporalInfluencePattern(n.id);
                return {
                    node: n,
                    pattern: metric.pattern,
                    total: metric.totalForwardReferences,
                    details: metric
                };
            }).filter(r => r.total > 0).sort((a, b) => b.total - a.total);
            
            const patternLabels = {
                'lasting': '🌟 Устойчивое',
                'fading': '💨 Угасающее',
                'delayed': '⏰ Отложенное',
                'normal': '📊 Нормальное',
                'none': '❌ Отсутствует'
            };
            
            return `
                <div class="stats-content-header">
                    <h3 class="stats-content-title">🕐 Временное влияние</h3>
                    <p class="stats-content-subtitle">Паттерны влияния концепций во времени</p>
                </div>
                
                ${generateMetricDescriptionBlock('temporal-influence')}
                
                <table class="metric-table">
                    <thead class="metric-table-header">
                        <tr>
                            <th>#</th>
                            <th>Концепция</th>
                            <th>Паттерн</th>
                            <th>Ссылок</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${results.slice(0, 30).map((r, i) => `
                            <tr class="metric-table-row" onclick="highlightNodeById('${r.node.id}')">
                                <td><strong>${i + 1}</strong></td>
                                <td><strong>${r.node.label}</strong></td>
                                <td>${patternLabels[r.pattern]}</td>
                                <td class="metric-table-value">${r.total}</td>
                            </tr>
                        `).join('')}
                    </tbody>
                </table>
            `;
        }

        // ============================================
        // МЕТРИКИ ФИЛОСОФОВ
        // ============================================

        function generatePhilosopherProfileContent() {
            if (!concepts || !relations) {
                initializePhilosophyMetrics();
            }
            
            const philosophers = Array.from(new Set(nodes.map(n => n.concept)));
            const profiles = philosophers.map(p => {
                const profile = philosopherProfile(p);
                return profile ? { philosopher: p, ...profile } : null;
            }).filter(p => p !== null).sort((a, b) => b.averages.influence - a.averages.influence);
            
            return `
                <div class="stats-content-header">
                    <h3 class="stats-content-title">📖 Профили философов</h3>
                    <p class="stats-content-subtitle">Комплексная характеристика творчества философов</p>
                </div>
                
                ${generateMetricDescriptionBlock('philosopher-profile')}
                
                <div class="metric-results-grid">
                    ${profiles.slice(0, 24).map((p, i) => `
                        <div class="metric-result-card">
                            <div class="metric-result-rank">#${i + 1}</div>
                            <div class="metric-result-name">${p.philosopher}</div>
                            <div class="metric-result-details">
                                <div class="metric-result-detail-badge">
                                    Влияние: ${p.averages.influence.toFixed(2)}
                                </div>
                                <div class="metric-result-detail-badge">
                                    Революционность: ${p.averages.revolutionary.toFixed(2)}
                                </div>
                                <div class="metric-result-detail-badge">
                                    Когерентность: ${p.averages.coherence.toFixed(2)}
                                </div>
                            </div>
                            <div class="metric-result-philosopher">Концепций: ${p.conceptsCount}</div>
                        </div>
                    `).join('')}
                </div>
            `;
        }

        function generatePhilosopherSystematicContent() {
            if (!concepts || !relations) {
                initializePhilosophyMetrics();
            }
            
            const philosophers = Array.from(new Set(nodes.map(n => n.concept)));
            const results = philosophers.map(p => {
                const metric = philosopherSystematicIndex(p);
                return {
                    philosopher: p,
                    value: metric.density,
                    details: metric
                };
            }).sort((a, b) => b.value - a.value);
            
            return `
                <div class="stats-content-header">
                    <h3 class="stats-content-title">📚 Систематичность философов</h3>
                    <p class="stats-content-subtitle">Плотность внутренних связей между концепциями философа</p>
                </div>
                
                ${generateMetricDescriptionBlock('philosopher-systematic')}
                
                <div class="metric-results-grid">
                    ${results.slice(0, 24).map((r, i) => `
                        <div class="metric-result-card">
                            <div class="metric-result-rank">#${i + 1}</div>
                            <div class="metric-result-name">${r.philosopher}</div>
                            <div class="metric-result-value">${r.value.toFixed(2)}%</div>
                            <div class="metric-result-philosopher">
                                Концепций: ${r.details.totalConcepts}, 
                                Связей: ${r.details.internalLinks}
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
        }

        function generatePhilosopherReachContent() {
            if (!concepts || !relations) {
                initializePhilosophyMetrics();
            }
            
            const philosophers = Array.from(new Set(nodes.map(n => n.concept)));
            const results = philosophers.map(p => {
                const metric = philosopherHistoricalReachIndex(p);
                return {
                    philosopher: p,
                    value: metric.total,
                    details: metric
                };
            }).filter(r => r.value > 0).sort((a, b) => b.value - a.value);
            
            return `
                <div class="stats-content-header">
                    <h3 class="stats-content-title">🌍 Исторический охват философов</h3>
                    <p class="stats-content-subtitle">Временной размах влияния философа</p>
                </div>
                
                ${generateMetricDescriptionBlock('philosopher-reach')}
                
                <div class="metric-results-grid">
                    ${results.slice(0, 24).map((r, i) => `
                        <div class="metric-result-card">
                            <div class="metric-result-rank">#${i + 1}</div>
                            <div class="metric-result-name">${r.philosopher}</div>
                            <div class="metric-result-value">${r.details.generations}</div>
                            <div class="metric-result-philosopher">
                                Поколений, влиял на ${r.details.influencedPhilosophersCount} философов
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
        }

        function generatePhilosopherInterdisciplinaryContent() {
            if (!concepts || !relations) {
                initializePhilosophyMetrics();
            }
            
            const philosophers = Array.from(new Set(nodes.map(n => n.concept)));
            const results = philosophers.map(p => {
                const metric = philosopherInterdisciplinaryIndex(p);
                return {
                    philosopher: p,
                    value: metric.total,
                    details: metric
                };
            //}).filter(r => r.value > 0).sort((a, b) => b.value - a.value);
            }).sort((a, b) => b.value - a.value);
            
            return `
                <div class="stats-content-header">
                    <h3 class="stats-content-title">🔬 Междисциплинарность философов</h3>
                    <p class="stats-content-subtitle">Охват различных тематических областей</p>
                </div>
                
                ${generateMetricDescriptionBlock('philosopher-interdisciplinary')}
                
                <div class="metric-results-grid">
                    ${results.slice(0, 24).map((r, i) => `
                        <div class="metric-result-card">
                            <div class="metric-result-rank">#${i + 1}</div>
                            <div class="metric-result-name">${r.philosopher}</div>
                            <div class="metric-result-value">${r.value.toFixed(2)}</div>
                            <div class="metric-result-philosopher">
                                Рубрик: ${r.details.rubricCount}, 
                                Энтропия: ${r.details.entropy.toFixed(2)}
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
        }

        // ============================================
        // СРАВНИТЕЛЬНЫЙ АНАЛИЗ
        // ============================================

        function generateConceptRankingsContent() {
            if (!concepts || !relations) {
                initializePhilosophyMetrics();
            }
            
            const rankings = generateRankings();
            
            const categories = [
                { key: 'mostInfluential', title: '💫 Самые влиятельные', color: '#6c5ce7' },
                { key: 'mostRevolutionary', title: '🔥 Самые революционные', color: '#e74c3c' },
                { key: 'mostProblematic', title: '⚡ Самые проблемные', color: '#f39c12' },
                { key: 'mostSynthetic', title: '🧩 Самые синтетические', color: '#27ae60' },
                { key: 'mostFoundational', title: '🏛️ Самые фундаментальные', color: '#3498db' },
                { key: 'mostCritical', title: '⚔️ Самые критические', color: '#c0392b' }
            ];
            
            return `
                <div class="stats-content-header">
                    <h3 class="stats-content-title">🏅 Рейтинги концепций</h3>
                    <p class="stats-content-subtitle">Топ-10 концепций по различным метрикам</p>
                </div>
                
                ${categories.map(cat => `
                    <div style="margin-bottom: 40px;">
                        <h4 style="color: ${cat.color}; font-size: 18px; margin-bottom: 15px;">
                            ${cat.title}
                        </h4>
                        <table class="metric-table">
                            <thead class="metric-table-header">
                                <tr>
                                    <th>#</th>
                                    <th>Концепция</th>
                                    <th>Значение</th>
                                    <th>Философ</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${rankings[cat.key].slice(0, 10).map((item, i) => `
                                    <tr class="metric-table-row" onclick="highlightNodeById('${item.id}')">
                                        <td><strong>${i + 1}</strong></td>
                                        <td><strong>${item.label}</strong></td>
                                        <td class="metric-table-value">${
                                            (() => {
                                                // Маппинг ключей категорий на ключи в объекте
                                                const keyMap = {
                                                    'mostInfluential': 'influence',
                                                    'mostRevolutionary': 'revolutionary',
                                                    'mostProblematic': 'problematic',
                                                    'mostSynthetic': 'synthetic',
                                                    'mostFoundational': 'foundational',
                                                    'mostCritical': 'critical'
                                                };
                                                const valueKey = keyMap[cat.key];
                                                return item[valueKey] ? item[valueKey].toFixed(2) : '0.00';
                                            })()
                                        }</td>
                                        
                                        <td>${item.philosopher}</td>
                                    </tr>
                                `).join('')}
                            </tbody>
                        </table>
                    </div>
                `).join('')}
            `;
        }
//td class="metric-table-value">${item[cat.key.replace('most', '').toLowerCase()].toFixed(2)}/td
        function generatePhilosopherRankingsContent() {
            if (!concepts || !relations) {
                initializePhilosophyMetrics();
            }
            
            const rankings = generatePhilosopherRankings();
            
            const categories = [
                { key: 'mostInfluential', title: '💫 Самые влиятельные', color: '#6c5ce7', valueKey: 'influence' },
                { key: 'mostRevolutionary', title: '🔥 Самые революционные', color: '#e74c3c', valueKey: 'revolutionary' },
                { key: 'mostSystematic', title: '📚 Самые систематичные', color: '#3498db', valueKey: 'systematic' },
                { key: 'greatestHistoricalReach', title: '🌍 С наибольшим охватом', color: '#27ae60', valueKey: 'historicalReach' },
                { key: 'mostInterdisciplinary', title: '🔬 Самые междисциплинарные', color: '#f39c12', valueKey: 'interdisciplinary' }
            ];
            
            return `
                <div class="stats-content-header">
                    <h3 class="stats-content-title">🎖️ Рейтинги философов</h3>
                    <p class="stats-content-subtitle">Топ-10 философов по различным характеристикам</p>
                </div>
                
                ${categories.map(cat => `
                    <div style="margin-bottom: 40px;">
                        <h4 style="color: ${cat.color}; font-size: 18px; margin-bottom: 15px;">
                            ${cat.title}
                        </h4>
                        <table class="metric-table">
                            <thead class="metric-table-header">
                                <tr>
                                    <th>#</th>
                                    <th>Философ</th>
                                    <th>Значение</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${rankings[cat.key].slice(0, 10).map((item, i) => `
                                    <tr class="metric-table-row">
                                        <td><strong>${i + 1}</strong></td>
                                        <td><strong>${item.name}</strong></td>
                                        <td class="metric-table-value">${(item[cat.valueKey] || 0).toFixed(2)}</td>
                                    </tr>
                                `).join('')}
                            </tbody>
                        </table>
                    </div>
                `).join('')}
            `;
        }


        // ============================================
        // ВИЗУАЛИЗАЦИЯ МЕТРИК РАЗМЕРОМ УЗЛОВ
        // ============================================

        let isVisualizingBySize = false;
        let currentVisualizedMetric = null;
        let originalRadii = new Map();
        let originalTextDy = new Map();

        // Показать/скрыть секцию управления визуализацией в легенде
        function updateVisualizationControlSection() {
            const section = document.getElementById('visualizationControlSection');
            const metricLabel = document.getElementById('currentVisualizationMetric');
            
            if (!section) return; // Если секции нет в HTML
            
            if (isVisualizingBySize && currentVisualizedMetric) {
                section.style.display = 'block';
                if (metricLabel) {
                    // Получаем читаемое имя метрики
                    const metricNames = {
                        'pagerank': 'PageRank',
                        'betweenness': 'Betweenness',
                        'closeness': 'Closeness',
                        'eigenvector': 'Eigenvector',
                        'degree': 'Степень связности',
                        'weighted-clustering': 'Взвешенная кластеризация',
                        'local-cohesion': 'Локальная когезия',
                        'rich-club': 'Rich-Club',
                        'problem-generation': 'Индекс проблемности',
                        'critical-power': 'Критическая сила',
                        'revolutionary': 'Индекс революционности',
                        'paradigm-shift': 'Парадигмальный сдвиг',
                        'influence': 'Индекс влияния',
                        'foundational': 'Индекс основополагания',
                        'synthetic': 'Индекс синтетичности',
                        'dialogical': 'Индекс диалогичности',
                        'coherence': 'Внутренняя когерентность',
                        'tension': 'Индекс напряжения',
                        'transformation': 'Индекс трансформации',
                        'fertility': 'Концептуальная плодовитость',
                        'complexity': 'Концептуальная сложность',
                        'continuity': 'Индекс преемственности'
                    };
                    metricLabel.textContent = metricNames[currentVisualizedMetric] || currentVisualizedMetric;
                }
            } else {
                section.style.display = 'none';
            }
        }

        // Сохранить оригинальные радиусы узлов и позиции текста
        function saveOriginalRadii() {
            if (originalRadii.size === 0) {
                // Сохраняем радиусы кругов
                node.selectAll("circle").each(function(d) {
                    const radius = parseFloat(d3.select(this).attr("r")) || 18;
                    originalRadii.set(d.id, radius);
                });
                
                // Сохраняем позиции текста (dy)
                node.selectAll("text").each(function(d) {
                    const dy = parseFloat(d3.select(this).attr("dy")) || -25;
                    originalTextDy.set(d.id, dy);
                });
                
                console.log(`💾 Сохранены исходные параметры для ${originalRadii.size} узлов`);
            }
        }

        // Переключатель визуализации размером для текущей метрики
        function toggleMetricVisualization(metricKey) {
            if (isVisualizingBySize && currentVisualizedMetric === metricKey) {
                // Если уже визуализируем эту метрику - сбрасываем
                resetNodeSizes();
                return;
            }

            if (isStatsModalOpen) {
                closeStatsModal();
                console.log('🔽 Модальное окно закрыто для визуализации');
            }
            
            // Получаем данные метрики
            let metricData = null;
            
            switch(metricKey) {
                case 'degree':
                    metricData = nodes.map(n => {
                        const inDegree = links.filter(l => 
                            (typeof l.target === 'object' ? l.target.id : l.target) === n.id
                        ).length;
                        const outDegree = links.filter(l => 
                            (typeof l.source === 'object' ? l.source.id : l.source) === n.id
                        ).length;
                        return {
                            node: n,
                            value: inDegree + outDegree
                        };
                    });
                    break;
                    
                case 'pagerank':
                    metricData = pageRankCache;
                    break;
                    
                case 'betweenness':
                    metricData = betweennessCache;
                    break;
                    
                case 'closeness':
                    metricData = closenessCache;
                    break;
                    
                case 'eigenvector':
                    metricData = eigenvectorCache;
                    break;
                    
                case 'weighted-clustering':
                    metricData = weightedClusteringCache;
                    break;
                    
                case 'local-cohesion':
                    metricData = localCohesionCache;
                    break;
                    
                case 'rich-club':
                    metricData = richClubCache;
                    break;
                    
                // Философские метрики
                case 'problem-generation':
                case 'critical-power':
                case 'revolutionary':
                case 'paradigm-shift':
                case 'influence':
                case 'foundational':
                case 'synthetic':
                case 'dialogical':
                case 'coherence':
                case 'tension':
                case 'transformation':
                case 'fertility':
                case 'complexity':
                case 'continuity':
                    if (!concepts || !relations) {
                        alert('Сначала инициализируйте философские метрики');
                        return;
                    }
                    
                    const metricFunctions = {
                        'problem-generation': 'problemGenerationIndex',
                        'critical-power': 'criticalPowerIndex',
                        'revolutionary': 'revolutionaryIndex',
                        'paradigm-shift': 'paradigmShiftIndex',
                        'influence': 'influenceIndex',
                        'foundational': 'foundationalIndex',
                        'synthetic': 'syntheticIndex',
                        'dialogical': 'dialogicalIndex',
                        'coherence': 'internalCoherenceIndex',
                        'tension': 'tensionIndex',
                        'transformation': 'transformationIndex',
                        'fertility': 'conceptualFertilityIndex',
                        'complexity': 'conceptualComplexityIndex',
                        'continuity': 'conceptualContinuityIndex'
                    };
                    
                    const funcName = metricFunctions[metricKey];
                    // Теперь все функции глобальные, не нужен metricsObj
                    
                    if (funcName /*&& metricsObj*/) {
                        metricData = nodes.map(n => ({
                            node: n,
                            value: window[funcName](n.id).total || window[funcName](n.id).weighted || 0
                        })).filter(d => d.value > 0);
                    }
                    break;
            }
            
            if (!metricData || metricData.length === 0) {
                alert('Нет данных для визуализации. Сначала рассчитайте метрику.');
                return;
            }
            
            visualizeMetricBySize(metricData, metricKey);
        }

        // Обновить текст кнопки визуализации
        function updateVisualizationButtonText(metricKey) {
            const iconElement = document.getElementById(`visualize-icon-${metricKey}`);
            const textElement = document.getElementById(`visualize-text-${metricKey}`);
            
            if (!iconElement || !textElement) return;
            
            if (isVisualizingBySize && currentVisualizedMetric === metricKey) {
                // Визуализация активна
                iconElement.textContent = '🔄';
                textElement.textContent = 'Сбросить визуализацию';
            } else {
                // Визуализация неактивна
                iconElement.textContent = '📏';
                textElement.textContent = 'Визуализировать размером';
            }
        }

        // Применить визуализацию метрики размером узлов
        function visualizeMetricBySize(metricData, metricName) {
            updateVisualizationControlSection();
            saveOriginalRadii();
            
            // Создаём мапу значений
            const valueMap = new Map();
            metricData.forEach(item => {
                valueMap.set(item.node.id, item.value);
            });
            
            // Находим min и max
            const values = Array.from(valueMap.values()).filter(v => v > 0);
            if (values.length === 0) return;
            
            const minValue = Math.min(...values);
            const maxValue = Math.max(...values);
            
            // Вычисляем статистику для определения дисперсии
            const mean = values.reduce((sum, v) => sum + v, 0) / values.length;
            const variance = values.reduce((sum, v) => sum + Math.pow(v - mean, 2), 0) / values.length;
            const stdDev = Math.sqrt(variance);
            const coefficientOfVariation = stdDev / mean; // Коэффициент вариации

            console.log(`📊 Статистика метрики "${metricName}":`, {
                min: minValue.toFixed(4),
                max: maxValue.toFixed(4),
                mean: mean.toFixed(4),
                stdDev: stdDev.toFixed(4),
                cv: coefficientOfVariation.toFixed(4)
            });

            // Масштабируем радиусы от 8 до 40
            const minRadius = 8;
            const maxRadius = 40;

            // Функция масштабирования с адаптацией к дисперсии
            const scaleRadius = (value) => {
                if (maxValue === minValue) return 18;
                
                // Нормализуем значение в диапазон [0, 1]
                const normalized = (value - minValue) / (maxValue - minValue);
                
                // Выбираем стратегию масштабирования в зависимости от коэффициента вариации
                let scaled;
                
                if (coefficientOfVariation < 0.2) {
                    // МАЛАЯ ДИСПЕРСИЯ: используем степенное усиление контраста
                    // Усиливаем различия между значениями
                    const power = 2.5; // Увеличиваем контраст
                    scaled = Math.pow(normalized, 1 / power); // Обратная степень для усиления малых различий
                    
                    console.log(`🔍 Малая дисперсия (CV=${coefficientOfVariation.toFixed(3)}), применяем степенное усиление`);
                } else if (coefficientOfVariation > 1.5) {
                    // БОЛЬШАЯ ДИСПЕРСИЯ: используем логарифмическое сжатие
                    // Сжимаем большие различия для лучшей читаемости
                    const logBase = 10;
                    scaled = Math.log(1 + normalized * (logBase - 1)) / Math.log(logBase);
                    
                    console.log(`📉 Большая дисперсия (CV=${coefficientOfVariation.toFixed(3)}), применяем логарифмическое сжатие`);
                } else {
                    // СРЕДНЯЯ ДИСПЕРСИЯ: используем слегка усиленное линейное масштабирование
                    const power = 1.5;
                    scaled = Math.pow(normalized, 1 / power);
                    
                    console.log(`📊 Средняя дисперсия (CV=${coefficientOfVariation.toFixed(3)}), применяем умеренное усиление`);
                }
                
                return minRadius + scaled * (maxRadius - minRadius);
            };
            
            // Применяем новые радиусы
            node.selectAll("circle")
                .transition()
                .duration(500)
                .attr("r", d => {
                    const value = valueMap.get(d.id) || 0;
                    return value > 0 ? scaleRadius(value) : 8;
                });
            
            // Обновляем позицию текста
            node.selectAll("text")
                .transition()
                .duration(500)
                .attr("dy", d => {
                    const value = valueMap.get(d.id) || 0;
                    const radius = value > 0 ? scaleRadius(value) : 8;
                    return -(radius + 7);
                });
            
            // Создаём новые маркеры с разными размерами
            const defs = svg.select("defs");
            
            // Обновляем маркеры связей
            link.each(function(d) {
                const targetNode = typeof d.target === 'object' ? d.target : nodes.find(n => n.id === d.target);
                if (!targetNode) return;
                
                const value = valueMap.get(targetNode.id) || 0;
                const radius = value > 0 ? scaleRadius(value) : 8;
                const markerId = `arrow-${d.type}-${targetNode.id}`;
                
                // Создаём индивидуальный маркер
                if (defs.select(`#${markerId}`).empty()) {
                    const marker = defs.append("marker")
                        .attr("id", markerId)
                        .attr("markerWidth", 10)
                        .attr("markerHeight", 10)
                        .attr("refX", radius + 8)
                        .attr("refY", 3)
                        .attr("orient", "auto")
                        .attr("markerUnits", "userSpaceOnUse");
                    
                    marker.append("path")
                        .attr("d", "M0,0 L0,6 L9,3 z")
                        .attr("fill", linkColors[d.type] || "#999");
                } else {
                    defs.select(`#${markerId}`)
                        .attr("refX", radius + 8);
                }
                
                d3.select(this).attr("marker-end", `url(#${markerId})`);
            });
            
            isVisualizingBySize = true;
            currentVisualizedMetric = metricName;

            updateVisualizationButtonText(metricName);
            
            console.log(`✅ Визуализация метрики "${metricName}" размером узлов активирована`);
        }

        // Восстановить оригинальные размеры
        function resetNodeSizes() {

            updateVisualizationControlSection();

            if (!isVisualizingBySize) return;

            const oldMetric = currentVisualizedMetric;
            
            isVisualizingBySize = false;
            currentVisualizedMetric = null;
            
            // Восстановить радиусы
            node.selectAll("circle")
                .transition()
                .duration(500)
                .attr("r", d => originalRadii.get(d.id) || 18);
            
            // Восстановить позицию текста (используем сохраненные значения)
            node.selectAll("text")
                .transition()
                .duration(500)
                .attr("dy", d => {
                    const originalDy = originalTextDy.get(d.id) || -25;
                    return originalDy;
                });
            
            // Восстановить оригинальные маркеры
            link.attr("marker-end", d => `url(#arrow-${d.type})`);
            
            // Удалить временные маркеры
            const defs = svg.select("defs");
            defs.selectAll("[id^='arrow-'][id*='-']").each(function() {
                const id = d3.select(this).attr("id");
                const parts = id.split('-');
                if (parts.length > 2) {
                    d3.select(this).remove();
                }
            });

            if (oldMetric) {
                updateVisualizationButtonText(oldMetric);
            }
            
            console.log('✅ Оригинальные размеры узлов восстановлены');
        }

        // Вызов при инициализации
        window.addEventListener('load', () => {
            saveOriginalRadii();
        });

        
        // ============================================
        // GRAPH STATISTICS (ОПТИМИЗИРОВАННАЯ)
        // ============================================
        
        // Текущая выбранная метрика
        let currentMetric = null;
        
        // Показать прогресс
        function showProgress(label, percent) {
            const progressDiv = document.getElementById('analysisProgress');
            const progressBar = document.getElementById('progressBar');
            const progressPercent = document.getElementById('progressPercent');
            const progressLabel = document.getElementById('progressLabel');
            
            progressDiv.style.display = 'block';
            progressBar.style.width = percent + '%';
            progressPercent.textContent = percent + '%';
            progressLabel.textContent = label;
        }
        
        // Скрыть прогресс
        function hideProgress() {
            const progressDiv = document.getElementById('analysisProgress');
            progressDiv.style.display = 'none';
        }

        // Расчёт одной метрики
        async function runSingleMetric(metricName) {
            try {
                showProgress(`Расчёт ${metricName}...`, 0);
                
                switch(metricName) {
                    case 'pagerank':
                        await calculatePageRank(20, 0.85, (current, total) => {
                            const percent = Math.round((current / total) * 100);
                            showProgress('Расчёт PageRank...', percent);
                        });
                        break;
                        
                    case 'betweenness':
                        await calculateBetweennessAsync((current, total) => {
                            const percent = Math.round((current / total) * 100);
                            showProgress('Расчёт Betweenness...', percent);
                        });
                        break;
                        
                    case 'closeness':
                        await calculateClosenessCentrality((current, total) => {
                            const percent = Math.round((current / total) * 100);
                            showProgress('Расчёт Closeness...', percent);
                        });
                        break;
                        
                    case 'eigenvector':
                        await calculateEigenvectorCentrality(100, (current, total) => {
                            const percent = Math.round((current / total) * 100);
                            showProgress('Расчёт Eigenvector...', percent);
                        });
                        break;
                    
                    // ========== НОВЫЕ МЕТРИКИ ==========
                    
                    case 'weighted-clustering':
                        showProgress('Расчёт Weighted Clustering...', 50);
                        await new Promise(resolve => setTimeout(resolve, 100));
                        calculateWeightedClustering();
                        showProgress('Расчёт Weighted Clustering...', 100);
                        break;
                    
                    case 'local-cohesion':
                        showProgress('Расчёт Local Cohesion...', 50);
                        await new Promise(resolve => setTimeout(resolve, 100));
                        calculateLocalCohesion();
                        showProgress('Расчёт Local Cohesion...', 100);
                        break;
                    
                    case 'rich-club':
                        showProgress('Расчёт Rich-Club...', 50);
                        await new Promise(resolve => setTimeout(resolve, 100));
                        calculateRichClubCoefficient();
                        showProgress('Расчёт Rich-Club...', 100);
                        break;
                        
                    default:
                        console.warn(`⚠️ Неизвестная метрика: ${metricName}`);
                        break;
                }
                
                showProgress('Готово!', 100);
                setTimeout(() => {
                    hideProgress();
                    console.log(`✅ Метрика ${metricName} успешно рассчитана`);
                }, 500);
                
            } catch (error) {
                console.error('❌ Ошибка при расчёте метрики:', error);
                hideProgress();
                alert('Произошла ошибка при расчёте: ' + error.message);
            }
        }
        
        // Подсветка узла по ID
        function highlightNodeById(nodeId) {
            const nodeData = nodes.find(n => n.id === nodeId);
            if (nodeData) {
                selectedNodes.clear();
                selectedNodes.add(nodeData);
                highlightConnected([nodeData]);
                
                // Центрируем на узле
                const nodeElement = node.filter(d => d.id === nodeId);
                if (nodeElement.size() > 0) {
                    const d = nodeElement.datum();
                    const transform = d3.zoomIdentity
                        .translate(width / 2 - d.x, height / 2 - d.y)
                        .scale(1.5);
                    svg.transition().duration(750).call(zoom.transform, transform);
                }
            }
        }
        
        // Экспорт в PNG
        function exportToPNG() {
            const svgElement = document.getElementById('graph');
            const svgClone = svgElement.cloneNode(true);
            
            // Получаем текущий transform от zoom
            const gElement = svgClone.querySelector('g');
            const transform = g.attr('transform');
            if (transform) {
                gElement.setAttribute('transform', transform);
            }
            
            // ИСПРАВЛЕНИЕ: Убеждаемся, что defs с маркерами включены
            const defsElement = svgClone.querySelector('defs');
            if (!defsElement) {
                console.error('Элемент defs не найден в клонированном SVG');
            }
            
            // Применяем инлайн-стили к тексту
            const textElements = svgClone.querySelectorAll('text');
            textElements.forEach(text => {
                text.style.fontFamily = "'Segoe UI', Tahoma, Geneva, Verdana, sans-serif";
                text.style.fontSize = '10px';
                text.style.fontWeight = '600';
                text.style.fill = '#fff';
                text.style.textShadow = '0 0 4px black';
            });
            
            // Применяем инлайн-стили к узлам
            const circles = svgClone.querySelectorAll('circle');
            circles.forEach(circle => {
                circle.style.strokeWidth = '3px';
                circle.style.filter = 'drop-shadow(0 0 10px rgba(255,255,255,0.4))';
            });
            
            // ИСПРАВЛЕНИЕ: Применяем полные стили к путям, включая marker-end
            const paths = svgClone.querySelectorAll('path.link');
            paths.forEach(path => {
                path.style.fill = 'none';
                const computedStyle = window.getComputedStyle(path);
                path.style.stroke = computedStyle.stroke;
                path.style.strokeWidth = computedStyle.strokeWidth;
                path.style.opacity = computedStyle.opacity;
                
                // ВАЖНО: Сохраняем атрибут marker-end
                const markerEnd = path.getAttribute('marker-end');
                if (markerEnd) {
                    path.setAttribute('marker-end', markerEnd);
                }
            });
            
            // Устанавливаем белый фон для SVG
            svgClone.style.background = 'linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%)';
            
            // Увеличиваем разрешение для лучшего качества
            const scale = 4;
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            
            canvas.width = width * scale;
            canvas.height = height * scale;
            ctx.scale(scale, scale);
            
            // ИСПРАВЛЕНИЕ: Добавляем XML namespace для корректного отображения
            const svgData = '<?xml version="1.0" encoding="UTF-8"?>' + 
                            new XMLSerializer().serializeToString(svgClone);
            
            const svgBlob = new Blob([svgData], { type: 'image/svg+xml;charset=utf-8' });
            const url = URL.createObjectURL(svgBlob);
            
            const img = new Image();
            
            img.onload = function() {
                // Рисуем фон
                ctx.fillStyle = '#0f0c29';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                // Рисуем SVG
                ctx.drawImage(img, 0, 0, width, height);
                
                // Конвертируем в PNG
                canvas.toBlob(function(blob) {
                    const downloadUrl = URL.createObjectURL(blob);
                    const link = document.createElement('a');
                    link.download = 'philosophy-graph.png';
                    link.href = downloadUrl;
                    link.click();
                    URL.revokeObjectURL(downloadUrl);
                    URL.revokeObjectURL(url);
                }, 'image/png');
            };
            
            img.onerror = function(e) {
                console.error('Ошибка загрузки изображения:', e);
                URL.revokeObjectURL(url);
                
                // АЛЬТЕРНАТИВНЫЙ МЕТОД: используем canvas для рендеринга напрямую
                alert('Ошибка при экспорте с маркерами. Попробуйте использовать экспорт в SVG, либо сделайте скриншот страницы.');
            };
            
            img.src = url;
        }
        
        // Экспорт в SVG
        function exportToSVG() {
            const svgElement = document.getElementById('graph');
            const svgData = new XMLSerializer().serializeToString(svgElement);
            
            const blob = new Blob([svgData], { type: 'image/svg+xml;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            
            const link = document.createElement('a');
            link.download = 'philosophy-graph.svg';
            link.href = url;
            link.click();
            
            URL.revokeObjectURL(url);
        }

        // ============================================
        // ФУНКЦИИ ПОИСКА В ПАНЕЛИ ЛЕГЕНДЫ
        // ============================================

        function handleLegendSearch(query) {
            const resultsContainer = document.getElementById('legendSearchResults');
            const clearBtn = document.querySelector('#legendSearch .legend-search-clear');
            
            if (!query || query.trim() === '') {
                resultsContainer.classList.remove('show');
                clearBtn.classList.remove('show');
                return;
            }
            
            clearBtn.classList.add('show');
            
            const results = searchNodes(query);
            displaySearchResults(results, resultsContainer, 'legend');
        }

        function searchNodes(query) {
            const lowerQuery = query.toLowerCase();
            
            return nodes.filter(node => {
                // Разбиваем название концепции и имя философа на слова
                const labelWords = node.label.toLowerCase().split(/\s+/);
                const philosopherWords = node.concept.toLowerCase().split(/\s+/);
                
                // Проверяем, начинается ли хотя бы одно слово с запроса
                const labelMatch = labelWords.some(word => word.startsWith(lowerQuery));
                const philosopherMatch = philosopherWords.some(word => word.startsWith(lowerQuery));
                
                return labelMatch || philosopherMatch;
            }).sort((a, b) => {
                // Сначала сортируем по хронологии философа
                const aOrder = philosopherOrder[a.concept] || 0;
                const bOrder = philosopherOrder[b.concept] || 0;
                
                if (aOrder !== bOrder) {
                    return aOrder - bOrder;
                }
                
                // Затем по названию концепции
                return a.label.localeCompare(b.label);
            });
        }

        function displaySearchResults(results, container, context) {
            if (results.length === 0) {
                container.innerHTML = '<div class="search-no-results">Ничего не найдено</div>';
                container.classList.add('show');
                return;
            }
            
            container.innerHTML = results.map(node => `
                <div class="search-result-item" onclick="selectSearchResult('${node.id}', '${context}')">
                    <div class="search-result-color" style="background: ${philosopherConcepts[node.concept].color}"></div>
                    <div class="search-result-content">
                        <div class="search-result-label">${node.label}</div>
                        <div class="search-result-philosopher">${node.concept}</div>
                    </div>
                </div>
            `).join('');
            
            container.classList.add('show');
        }

        function selectSearchResult(nodeId, context) {
            const nodeData = nodes.find(n => n.id === nodeId);
            if (!nodeData) return;
            
            if (context === 'legend') {
                // Выделяем узел и центрируем
                selectedNodes.clear();
                selectedNodes.add(nodeData);
                highlightConnected([nodeData]);
                
                const transform = d3.zoomIdentity
                    .translate(width / 2 - nodeData.x, height / 2 - nodeData.y)
                    .scale(1.5);
                svg.transition().duration(750).call(zoom.transform, transform);
                
                clearLegendSearch();
                
            } else if (context === 'modal') {
                // Переходим к детальной информации об узле
                showDetailModal(nodeData);
                clearModalSearch();
            }
        }

        function clearLegendSearch() {
            const searchInput = document.getElementById('legendSearchInput');
            const resultsContainer = document.getElementById('legendSearchResults');
            const clearBtn = document.querySelector('#legendSearch .legend-search-clear');
            
            if (searchInput) {
                searchInput.value = '';
            }
            if (resultsContainer) {
                resultsContainer.classList.remove('show');
                resultsContainer.innerHTML = '';
            }
            if (clearBtn) {
                clearBtn.classList.remove('show');
            }
        }

        // Закрытие результатов поиска при клике вне их
        document.addEventListener('click', function(event) {
            // Для поиска в легенде
            const legendSearch = document.getElementById('legendSearch');
            const legendResults = document.getElementById('legendSearchResults');
            if (legendSearch && !legendSearch.contains(event.target) && legendResults) {
                legendResults.classList.remove('show');
            }
            
            // Для поиска в модальном окне
            const modalSearch = document.getElementById('modalSearch');
            const modalResults = document.getElementById('modalSearchResults');
            if (modalSearch && !modalSearch.contains(event.target) && modalResults) {
                modalResults.classList.remove('show');
            }
        });

        // ============================================
        // ФУНКЦИИ ПОИСКА В МОДАЛЬНОМ ОКНЕ
        // ============================================

        function handleModalSearch(query) {
            const resultsContainer = document.getElementById('modalSearchResults');
            const clearBtn = document.querySelector('#modalSearch .legend-search-clear');
            
            if (!query || query.trim() === '') {
                resultsContainer.classList.remove('show');
                clearBtn.classList.remove('show');
                return;
            }
            
            clearBtn.classList.add('show');
            
            const results = searchNodes(query);
            displaySearchResults(results, resultsContainer, 'modal');
        }

        function clearModalSearch() {
            const searchInput = document.getElementById('modalSearchInput');
            const resultsContainer = document.getElementById('modalSearchResults');
            const clearBtn = document.querySelector('#modalSearch .legend-search-clear');
            
            if (searchInput) {
                searchInput.value = '';
            }
            if (resultsContainer) {
                resultsContainer.classList.remove('show');
                resultsContainer.innerHTML = '';
            }
            if (clearBtn) {
                clearBtn.classList.remove('show');
            }
        }

        // ============================================
        // КАСТОМНЫЕ SELECT С ПОИСКОМ ДЛЯ ПАНЕЛИ ПУТИ
        // ============================================

        let selectedSourceNode = null;
        let selectedTargetNode = null;

        function initializeCustomSelects() {
            // Инициализация выпадающих списков с полным списком узлов
            populateCustomSelect('source');
            populateCustomSelect('target');
            
            // Закрытие выпадающих списков при клике вне их
            document.addEventListener('click', function(event) {
                const sourceWrapper = document.getElementById('sourceSelectInput')?.closest('.custom-select-wrapper');
                const targetWrapper = document.getElementById('targetSelectInput')?.closest('.custom-select-wrapper');
                
                if (sourceWrapper && !sourceWrapper.contains(event.target)) {
                    document.getElementById('sourceSelectDropdown')?.classList.remove('show');
                }
                if (targetWrapper && !targetWrapper.contains(event.target)) {
                    document.getElementById('targetSelectDropdown')?.classList.remove('show');
                }
            });
        }

        function populateCustomSelect(type, query = '') {
            const dropdown = document.getElementById(`${type}SelectDropdown`);
            if (!dropdown) return;
            
            // Фильтруем и сортируем узлы
            let filteredNodes = nodes;
            
            if (query && query.trim() !== '') {
                const lowerQuery = query.toLowerCase();
                filteredNodes = nodes.filter(node => {
                    const labelWords = node.label.toLowerCase().split(/\s+/);
                    const philosopherWords = node.concept.toLowerCase().split(/\s+/);
                    
                    const labelMatch = labelWords.some(word => word.startsWith(lowerQuery));
                    const philosopherMatch = philosopherWords.some(word => word.startsWith(lowerQuery));
                    
                    return labelMatch || philosopherMatch;
                });
            }
            
            // Сортировка по хронологии философа, затем по названию
            const sortedNodes = filteredNodes.sort((a, b) => {
                const aOrder = philosopherOrder[a.concept] || 0;
                const bOrder = philosopherOrder[b.concept] || 0;
                
                if (aOrder !== bOrder) {
                    return aOrder - bOrder;
                }
                return a.label.localeCompare(b.label);
            });
            
            if (sortedNodes.length === 0) {
                dropdown.innerHTML = '<div class="search-no-results">Ничего не найдено</div>';
            } else {
                dropdown.innerHTML = sortedNodes.map(node => `
                    <div class="custom-select-option" onclick="selectCustomOption('${type}', '${node.id}')">
                        <div class="custom-select-option-label">${node.label}</div>
                        <div class="custom-select-option-philosopher">${node.concept}</div>
                    </div>
                `).join('');
            }
        }

        function showCustomSelectDropdown(type) {
            const dropdown = document.getElementById(`${type}SelectDropdown`);
            const input = document.getElementById(`${type}SelectInput`);
            
            if (!dropdown || !input) return;
            
            // Показываем все опции при фокусе
            populateCustomSelect(type, input.value);
            dropdown.classList.add('show');
        }

        function filterCustomSelect(type, query) {
            const dropdown = document.getElementById(`${type}SelectDropdown`);
            
            if (!dropdown) return;
            
            populateCustomSelect(type, query);
            
            if (!dropdown.classList.contains('show')) {
                dropdown.classList.add('show');
            }
        }

        function selectCustomOption(type, nodeId) {
            const node = nodes.find(n => n.id === nodeId);
            if (!node) return;
            
            const input = document.getElementById(`${type}SelectInput`);
            const dropdown = document.getElementById(`${type}SelectDropdown`);
            
            if (input) {
                input.value = `${node.label} (${node.concept})`;
            }
            if (dropdown) {
                dropdown.classList.remove('show');
            }
            
            if (type === 'source') {
                selectedSourceNode = nodeId;
            } else {
                selectedTargetNode = nodeId;
            }
        }

        // Вызываем инициализацию после загрузки DOM
        document.addEventListener('DOMContentLoaded', function() {
            // Даем время на создание графа
            setTimeout(initializeCustomSelects, 500);
        });

        // ============================================
        // СИСТЕМА РЕДАКТИРОВАНИЯ ГРАФА
        // ============================================

        // Глобальные переменные для редактирования
        let editMode = {
            active: false,
            type: null, // 'philosopher', 'concept', 'connection'
            data: null,
            isNew: false,
            graphSelectionMode: false,
            graphSelectionTarget: null, // 'source' or 'target' for connections
            connectionSourceId: null,
            connectionTargetId: null,
            pendingConceptSelection: [] // Для последовательного выбора двух концепций
        };

        // ============================================
        // ОПРЕДЕЛЕНИЕ ОБРАБОТЧИКОВ (функции)
        // ============================================

        // Обработка клика на узле с исправлением утечки таймера
        let clickTimer = null;
        let clickCount = 0;
        let lastClickedNode = null;

        function handleNodeClick(event, d) {
            event.stopPropagation();
            
            // Обработка shift+клик для редактирования узла
            if (event.shiftKey) {
                clickCount++;
                
                if (clickTimer) {
                    clearTimeout(clickTimer);
                    clickTimer = null;
                }
                
                if (clickCount === 1) {
                    lastClickedNode = d;
                    clickTimer = setTimeout(() => {
                        // Shift+ОДИНАРНЫЙ клик - ожидание следующего узла
                        if (editMode.graphSelectionMode) {
                            handleConceptSelection(d.id);
                        } else if (editMode.pendingConceptSelection.length > 0) {
                            const firstConceptId = editMode.pendingConceptSelection[0];
                            // Второй клик на том же узле - редактирование концепции
                            if (firstConceptId === d.id) {
                                editMode.pendingConceptSelection = [];
                                node.classed('selected', false);
                                openEditConceptModal(d.id);
                            } else {
                                // Второй клик на другом узле - редактирование связи
                                editMode.pendingConceptSelection = [];
                                node.classed('selected', false);
                                openEditConnectionModal(firstConceptId, d.id);
                            }
                        } else {
                            editMode.pendingConceptSelection = [d.id];
                            node.classed('selected', n => n.id === d.id);
                        }
                        
                        clickCount = 0;
                        clickTimer = null;
                        lastClickedNode = null;
                    }, 300);
                } else if (clickCount === 2) {
                    // Shift+ДВОЙНОЙ клик - редактирование концепции
                    editMode.pendingConceptSelection = [];
                    node.classed('selected', false);
                    openEditConceptModal(d.id);
                    
                    clickCount = 0;
                    clickTimer = null;
                    lastClickedNode = null;
                }
                return;
            }
            
            // Отменяем выбор если кликнули без shift
            if (editMode.pendingConceptSelection.length > 0) {
                editMode.pendingConceptSelection = [];
                node.classed('selected', false);
            }
            
            // Обычная логика клика
            clickCount++;
            
            if (clickTimer) {
                clearTimeout(clickTimer);
                clickTimer = null;
            }
            
            if (clickCount === 1) {
                lastClickedNode = d;
                clickTimer = setTimeout(() => {
                    // Одинарный клик - выделение узла с его связями
                    if (event.ctrlKey || event.metaKey) {
                        if (selectedNodes.has(lastClickedNode)) {
                            selectedNodes.delete(lastClickedNode);
                        } else {
                            selectedNodes.add(lastClickedNode);
                        }
                    } else {
                        const connectedToSelectedEdges = isNodeConnectedToSelectedEdges(lastClickedNode);
                        if (connectedToSelectedEdges && selectedEdges.size > 0) {
                            if (selectedNodes.size === 1 && selectedNodes.has(lastClickedNode)) {
                                selectedNodes.clear();
                            } else {
                                selectedNodes.clear();
                                selectedNodes.add(lastClickedNode);
                            }
                        } else {
                            selectedEdges.clear();
                            if (selectedNodes.size === 1 && selectedNodes.has(lastClickedNode)) {
                                selectedNodes.clear();
                            } else {
                                selectedNodes.clear();
                                selectedNodes.add(lastClickedNode);
                            }
                        }
                    }
                    
                    highlightCombined();
                    clickCount = 0;
                    clickTimer = null;
                    lastClickedNode = null;
                }, 300);
            } else if (clickCount === 2) {
                // Двойной клик - детальная информация об узле
                showDetailModal(d);
                clickCount = 0;
                clickTimer = null;
                lastClickedNode = null;
            }
        }

        function handleLinkClick(event, d) {
            event.stopPropagation();
            
            // Shift+клик - редактирование связи
            if (event.shiftKey) {
                openEditConnectionModal(d.source.id || d.source, d.target.id || d.target);
                return;
            }
            
            // Ctrl+клик - множественный выбор узлов/связей
            if (event.ctrlKey || event.metaKey) {
                if (selectedEdges.has(d)) {
                    selectedEdges.delete(d);
                } else {
                    selectedEdges.add(d);
                }
            } else {
                // Обычный клик - умная логика
                const connectedToSelectedNodes = isEdgeConnectedToSelectedNodes(d);
                
                if (connectedToSelectedNodes && selectedNodes.size > 0) {
                    if (selectedEdges.size === 1 && selectedEdges.has(d)) {
                        selectedEdges.clear();
                    } else {
                        selectedEdges.clear();
                        selectedEdges.add(d);
                    }
                } else {
                    selectedNodes.clear();
                    if (selectedEdges.size === 1 && selectedEdges.has(d)) {
                        selectedEdges.clear();
                    } else {
                        selectedEdges.clear();
                        selectedEdges.add(d);
                    }
                }
            }
            
            highlightCombined();
        }

        // ============================================
        // ФУНКЦИЯ ИНИЦИАЛИЗАЦИИ ОБРАБОТЧИКОВ
        // ============================================

        function initGraphEventHandlers() {
            // Обработчики для связей
            link.on("click", handleLinkClick);
            
            // Обработчики для узлов
            node.on("click", handleNodeClick);
            
            // Обработчик для SVG (фон)
            svg.on("click.background", function(event) {
                // Клик "всплыл" до SVG без stopPropagation - это клик на фоне
                if (event.shiftKey) {
                    openEditConceptModal();
                } else {
                    resetHighlight();
                    editMode.pendingConceptSelection = [];
                    node.classed('selected', false);
                }
            });
        }

        // ============================================
        // НАЧАЛЬНАЯ ИНИЦИАЛИЗАЦИЯ ГРАФА
        // ============================================

        const width = window.innerWidth;
        const height = window.innerHeight;
        
        const svg = d3.select("#graph")
            .attr("width", width)
            .attr("height", height);

        // Контейнер для масштабирования и прокрутки
        const g = svg.append("g");

        /*
        // Настройка zoom с отключением transitions
        const zoom = d3.zoom()
            .scaleExtent([0.1, 4])
            .on("start", () => {
                svg.classed("zooming", true);
            })
            .on("zoom", (event) => {
                g.attr("transform", event.transform);
            })
            .on("end", () => {
                // Возвращаем transitions с небольшой задержкой
                setTimeout(() => {
                    svg.classed("zooming", false);
                }, 100);
            });
        */

        // Настройка zoom
        const zoom = d3.zoom()
            .scaleExtent([0.1, 4])
            .on("zoom", (event) => {
                g.attr("transform", event.transform);
            });

        svg.call(zoom);

        const defs = svg.append("defs");
        
        Object.keys(relationTypesObj).forEach(type => {
            defs.append("marker")
                .attr("id", `arrow-${type}`)
                .attr("viewBox", "0 -5 10 10")
                .attr("refX", 26)
                .attr("refY", 0)
                .attr("markerWidth", 6)
                .attr("markerHeight", 6)
                .attr("orient", "auto")
                .append("path")
                .attr("d", "M0,-5L10,0L0,5")
                .attr("fill", relationTypesObj[type].color);
            // Специальный маркер для внутренних противоречий
            defs.append("marker")
                .attr("id", "arrow-internal_contradiction")
                .attr("viewBox", "0 -5 10 10")
                .attr("refX", 26)
                .attr("refY", 0)
                .attr("markerWidth", 6)
                .attr("markerHeight", 6)
                .attr("orient", "auto")
                .append("path")
                .attr("d", "M0,-5L10,0L0,5")
                .attr("fill", relationTypesObj["internal_contradiction"].color);
            
        });

        let simulation = d3.forceSimulation(nodes)
            .force("link", d3.forceLink(links).id(d => d.id).distance(160))
            .force("charge", d3.forceManyBody().strength(-350))
            .force("center", d3.forceCenter(width / 2, height / 2))
            .force("collision", d3.forceCollide().radius(45))
            .alphaDecay(0.02); // Ускоряем затухание симуляции
        
        // Останавливаем симуляцию после стабилизации
        let tickCount = 0;
        const maxTicks = 300; // Ограничиваем количество тиков
        
        let lastTickUpdate = 0;
        const TICK_UPDATE_INTERVAL = 16; // ~60 FPS

        simulation.on("tick", () => {
            const now = Date.now();
            if (now - lastTickUpdate < TICK_UPDATE_INTERVAL) {
                return;
            }
            lastTickUpdate = now;
            
            tickCount++;
            
            // Используем requestAnimationFrame для плавности
            requestAnimationFrame(() => {
                // Обновляем только видимые связи
                link.filter(function() { return this.style.display !== "none"; })
                    .attr("d", d => {
                        const dx = d.target.x - d.source.x;
                        const dy = d.target.y - d.source.y;
                        const dr = Math.sqrt(dx * dx + dy * dy) * 1.5;
                        return `M${d.source.x},${d.source.y}A${dr},${dr} 0 0,1 ${d.target.x},${d.target.y}`;
                    });

                node.filter(function() { return this.style.display !== "none"; })
                    .attr("transform", d => `translate(${d.x},${d.y})`);
            });
            
            if (tickCount >= maxTicks) {
                simulation.stop();
            }
        });
        
        simulation.on("end", () => {
            console.log("Симуляция завершена после", tickCount, "тиков");
            console.log("Производительность - узлов:", nodes.length, "связей:", links.length);
            
            // Информация о памяти (если доступно)
            if (performance.memory) {
                console.log("Использование памяти:", 
                    Math.round(performance.memory.usedJSHeapSize / 1048576), "МБ");
            }
        });

        // Состояние выделенных узлов
        let selectedNodes = new Set(); // Множество выбранных узлов

        // Состояние выделенных связей
        let selectedEdges = new Set(); // Множество выбранных связей

        // Упрощённая версия: один путь с увеличенной областью клика
        let link = g.append("g")
            .selectAll("path")
            .data(links)
            .enter()
            .append("path")
            .attr("class", d => {
                let classes = "link";
                if (d.bidirectional) classes += " bidirectional";
                if (d.type === "internal_contradiction") classes += " internal-contradiction";
                if (d.weight === 1) classes += " weight-weak";
                else if (d.weight === 2) classes += " weight-medium";
                else if (d.weight === 3) classes += " weight-strong";
                return classes;
            })
            .attr("stroke", d => relationTypesObj[d.type].color)
            .attr("marker-end", d => `url(#arrow-${d.type})`)
            .style("cursor", "pointer");

        let node = g.append("g")
            .selectAll("g")
            .data(nodes)
            .enter()
            .append("g")
            .attr("class", "node")
            .call(d3.drag()
                .on("start", dragstarted)
                .on("drag", dragged)
                .on("end", dragended));

        node.append("circle")
            .attr("r", 18)
            .attr("fill", d => philosopherConcepts[d.concept].color)
            .attr("stroke", "#fff");

        node.append("text")
            .attr("dy", -25)
            .attr("text-anchor", "middle")
            .text(d => d.label);

        initGraphEventHandlers();

        // Проверить, связана ли связь с узлом
        function isEdgeConnectedToNode(edge, nodeData) {
            const sourceId = edge.source.id || edge.source;
            const targetId = edge.target.id || edge.target;
            return sourceId === nodeData.id || targetId === nodeData.id;
        }

        // Проверить, связана ли хотя бы одна выделенная связь с узлом
        function isNodeConnectedToSelectedEdges(nodeData) {
            for (const edge of selectedEdges) {
                if (isEdgeConnectedToNode(edge, nodeData)) {
                    return true;
                }
            }
            return false;
        }

        // Проверить, связана ли связь с хотя бы одним выделенным узлом
        function isEdgeConnectedToSelectedNodes(edge) {
            for (const nodeData of selectedNodes) {
                if (isEdgeConnectedToNode(edge, nodeData)) {
                    return true;
                }
            }
            return false;
        }

        // Комбинированная подсветка узлов и связей с умной логикой
        function highlightCombined() {
            // Если ничего не выделено - сбрасываем всё
            if (selectedNodes.size === 0 && selectedEdges.size === 0) {
                resetHighlight();
                return;
            }
            
            const highlightedNodes = new Set();
            const highlightedLinks = new Set();
            
            // КЛЮЧЕВАЯ ЛОГИКА: если выделены И узлы, И связи одновременно,
            // показываем ТОЛЬКО выделенные элементы (свёрнутое окружение)
            const isCollapsedMode = selectedNodes.size > 0 && selectedEdges.size > 0;
            
            if (isCollapsedMode) {
                // Режим с узлами и связями: показываем выделенные узлы с их окружением + выделенные связи
                
                // Добавляем выделенные узлы и их окружение
                selectedNodes.forEach(nodeData => {
                    highlightedNodes.add(nodeData.id);
                    
                    // Находим все связанные узлы и связи для каждого выделенного узла
                    links.forEach(l => {
                        const sourceId = l.source.id || l.source;
                        const targetId = l.target.id || l.target;
                        
                        if (sourceId === nodeData.id) {
                            highlightedNodes.add(targetId);
                            highlightedLinks.add(l);
                        } else if (targetId === nodeData.id) {
                            highlightedNodes.add(sourceId);
                            highlightedLinks.add(l);
                        }
                    });
                });
                
                // Добавляем выделенные связи и их узлы
                selectedEdges.forEach(edge => {
                    const sourceId = edge.source.id || edge.source;
                    const targetId = edge.target.id || edge.target;
                    
                    highlightedNodes.add(sourceId);
                    highlightedNodes.add(targetId);
                    highlightedLinks.add(edge);
                });
                
            } else if (selectedNodes.size > 0) {
                // Только узлы выделены: показываем полное окружение
                
                selectedNodes.forEach(selectedData => {
                    highlightedNodes.add(selectedData.id);
                    
                    // Находим все связанные узлы и связи
                    links.forEach(l => {
                        const sourceId = l.source.id || l.source;
                        const targetId = l.target.id || l.target;
                        
                        if (sourceId === selectedData.id) {
                            highlightedNodes.add(targetId);
                            highlightedLinks.add(l);
                        } else if (targetId === selectedData.id) {
                            highlightedNodes.add(sourceId);
                            highlightedLinks.add(l);
                        }
                    });
                });
                
            } else {
                // Только связи выделены: показываем связи и их узлы
                
                selectedEdges.forEach(edge => {
                    const sourceId = edge.source.id || edge.source;
                    const targetId = edge.target.id || edge.target;
                    
                    highlightedNodes.add(sourceId);
                    highlightedNodes.add(targetId);
                    highlightedLinks.add(edge);
                });
            }
            
            // Применяем стили
            const selectedNodeIds = new Set(Array.from(selectedNodes).map(n => n.id));
            
            node.classed("dimmed", d => !highlightedNodes.has(d.id))
                .classed("highlighted", d => highlightedNodes.has(d.id))
                .classed("selected", d => selectedNodeIds.has(d.id));
            
            link.classed("dimmed", l => !highlightedLinks.has(l))
                .classed("highlighted", l => highlightedLinks.has(l))
                .classed("selected", l => selectedEdges.has(l));
        }
        
        // Подсветка связанных узлов и связей (оптимизированная версия)
        function highlightConnected(selectedDataArray) {
            const connectedNodes = new Set();
            const connectedLinks = new Set();
            
            // Обрабатываем каждый выбранный узел
            selectedDataArray.forEach(selectedData => {
                connectedNodes.add(selectedData.id);
                
                // Находим все связанные узлы и связи
                links.forEach(l => {
                    const sourceId = l.source.id || l.source;
                    const targetId = l.target.id || l.target;
                    
                    if (sourceId === selectedData.id) {
                        connectedNodes.add(targetId);
                        connectedLinks.add(l);
                    } else if (targetId === selectedData.id) {
                        connectedNodes.add(sourceId);
                        connectedLinks.add(l);
                    }
                });
            });
            
            // Применяем стили пакетно для лучшей производительности
            const selectedIds = new Set(selectedDataArray.map(sd => sd.id));

            node.classed("dimmed", d => !connectedNodes.has(d.id))
                .classed("highlighted", d => connectedNodes.has(d.id))
                .classed("selected", d => selectedIds.has(d.id));

            // Применяем стили к видимому пути внутри группы
            link.classed("dimmed", l => !connectedLinks.has(l))
                .classed("highlighted", l => connectedLinks.has(l));
        }

        // Сброс подсветки
        function resetHighlight() {
            selectedNodes.clear();
            selectedEdges.clear();
            node.classed("dimmed", false)
                .classed("highlighted", false)
                .classed("selected", false);
            link.classed("dimmed", false)
                .classed("highlighted", false)
                .classed("selected", false)
                .classed("path-highlight", false);
        }

        // Tooltip с дебаунсом для оптимизации
        const tooltip = d3.select("#tooltip");
        let tooltipTimeout = null;

        node.on("mouseover", function(event, d) {
            if (tooltipTimeout) clearTimeout(tooltipTimeout);
            
            tooltipTimeout = setTimeout(() => {
                tooltip
                    .style("opacity", 1)
                    .html(`<strong>${d.label}</strong><br/>${d.description}<br/><em>${d.concept}</em>`)
                    .style("left", (event.pageX + 15) + "px")
                    .style("top", (event.pageY - 15) + "px");
            }, 100); // Небольшая задержка
        })
        .on("mouseout", function() {
            if (tooltipTimeout) {
                clearTimeout(tooltipTimeout);
                tooltipTimeout = null;
            }
            tooltip.style("opacity", 0);
        });

        // Tooltip для связей при наведении
        link.on("mouseover", function(event, d) {
            const tooltip = document.getElementById('tooltip');
            
            // Получаем данные узлов source и target
            const sourceId = d.source.id || d.source;
            const targetId = d.target.id || d.target;
            const sourceNode = nodes.find(n => n.id === sourceId);
            const targetNode = nodes.find(n => n.id === targetId);
            
            if (!sourceNode || !targetNode) return;
            
            // Получаем название типа связи и цвет
            const relationLabel = relationTypesObj[d.type].label;
            const relationColor = relationTypesObj[d.type].color;
            
            // Создаём SVG стрелку с цветом типа связи
            const arrowWidth = 60;
            const arrowHeight = 20;
            let arrowSvg;
            
            if (d.bidirectional) {
                // Двунаправленная стрелка: <->
                arrowSvg = `
                    <svg width="${arrowWidth}" height="${arrowHeight}" style="display: block;">
                        <defs>
                            <marker id="arrowhead-start-${d.type}" markerWidth="10" markerHeight="10" refX="0" refY="3" orient="auto">
                                <polygon points="0 0, 0 6, 6 3" fill="${relationColor}" />
                            </marker>
                            <marker id="arrowhead-end-${d.type}" markerWidth="10" markerHeight="10" refX="6" refY="3" orient="auto">
                                <polygon points="0 0, 6 3, 0 6" fill="${relationColor}" />
                            </marker>
                        </defs>
                        <line x1="10" y1="${arrowHeight/2}" x2="${arrowWidth-10}" y2="${arrowHeight/2}" 
                              stroke="${relationColor}" stroke-width="2" 
                              marker-start="url(#arrowhead-start-${d.type})" 
                              marker-end="url(#arrowhead-end-${d.type})" />
                    </svg>
                `;
            } else {
                // Однонаправленная стрелка: ->
                arrowSvg = `
                    <svg width="${arrowWidth}" height="${arrowHeight}" style="display: block;">
                        <defs>
                            <marker id="arrowhead-${d.type}" markerWidth="10" markerHeight="10" refX="6" refY="3" orient="auto">
                                <polygon points="0 0, 6 3, 0 6" fill="${relationColor}" />
                            </marker>
                        </defs>
                        <line x1="5" y1="${arrowHeight/2}" x2="${arrowWidth-5}" y2="${arrowHeight/2}" 
                              stroke="${relationColor}" stroke-width="2" 
                              marker-end="url(#arrowhead-${d.type})" />
                    </svg>
                `;
            }
            
            // Формируем красивый tooltip
            let tooltipContent = `
                <div class="link-tooltip-header">
                    <strong>${sourceNode.label}</strong>
                    <div class="link-tooltip-arrow">${arrowSvg}</div>
                    <strong>${targetNode.label}</strong>
                </div>
                <div class="link-tooltip-type" style="color: ${relationColor};">${relationLabel}</div>
                <div class="link-tooltip-philosophers">
                    <em>(${sourceNode.concept})</em>
                    <em>(${targetNode.concept})</em>
                </div>
            `;
            
            // Для выделенных связей добавляем описание, если оно есть
            if (selectedEdges.has(d) && d.description) {
                tooltipContent += `<div class="tooltip-description">${d.description}</div>`;
            }
            
            tooltip.innerHTML = tooltipContent;
            tooltip.style.opacity = 1;
            tooltip.style.left = (event.pageX + 15) + 'px';
            tooltip.style.top = (event.pageY - 10) + 'px';
        })
        .on("mousemove", function(event) {
            const tooltip = document.getElementById('tooltip');
            tooltip.style.left = (event.pageX + 15) + 'px';
            tooltip.style.top = (event.pageY - 10) + 'px';
        })
        .on("mouseout", function() {
            const tooltip = document.getElementById('tooltip');
            tooltip.style.opacity = 0;
        });

        function dragstarted(event, d) {
            if (!event.active) {
                tickCount = 0; 
                simulation.alphaTarget(0.3).restart();
            }
            d.fx = d.x;
            d.fy = d.y;
        }

        function dragged(event, d) {
            d.fx = event.x;
            d.fy = event.y;
        }

        function dragended(event, d) {
            if (!event.active) simulation.alphaTarget(0);
            d.fx = null;
            d.fy = null;
        }

        function resetSimulation() {
            nodes.forEach(n => {
                n.fx = null;
                n.fy = null;
            });
            resetHighlight();
            tickCount = 0;
            simulation.alpha(1).restart();
        }

        function centerGraph() {
            const transform = d3.zoomIdentity
                .translate(window.innerWidth / 2, window.innerHeight / 2)
                .scale(1);
            svg.transition().duration(750).call(zoom.transform, transform);
            simulation.force("center", d3.forceCenter(window.innerWidth / 2, window.innerHeight / 2));
            tickCount = 0;
            simulation.alpha(0.3).restart();
        }

        function freezeSimulation() {
            if (simulation) {
                simulation.stop();
                // console.log("Симуляция заморожена");
            }
        }

        function unfreezeSimulation() {
            if (simulation && tickCount < maxTicks) {
                // Возобновляем симуляцию с небольшой энергией
                simulation.alpha(0.3).restart();
                // console.log("Симуляция разморожена");
            }
        }

        // Позиции для группировки по философам
        const philosopherNames = Object.keys(philosopherConcepts);
        const groupPositions = {};
        const cols = 6;
        const rows = Math.ceil(philosopherNames.length / cols);
        const spacingX = width / (cols + 1);
        const spacingY = height / (rows + 1);

        philosopherNames.forEach((phil, i) => {
            const col = i % cols;
            const row = Math.floor(i / cols);
            groupPositions[phil] = {
                x: spacingX * (col + 1),
                y: spacingY * (row + 1)
            };
        });

        let isGrouped = false;

        // Управление сворачиванием панелей
        function togglePanel(panelId) {
            const panel = document.getElementById(panelId);
            const isCollapsed = panel.classList.contains('collapsed');
            
            if (isCollapsed) {
                panel.classList.remove('collapsed');
                // Меняем иконку на минус
                const btn = panel.querySelector('.collapse-btn .expand-icon');
                btn.textContent = '−';
                // Сохраняем состояние
                localStorage.setItem(`${panelId}_collapsed`, 'false');
            } else {
                panel.classList.add('collapsed');
                // Меняем иконку на плюс
                const btn = panel.querySelector('.collapse-btn .expand-icon');
                btn.textContent = '+';
                // Сохраняем состояние
                localStorage.setItem(`${panelId}_collapsed`, 'true');
            }
        }
        
        // Восстановление состояния панелей при загрузке
        function restorePanelStates() {
            const panels = ['pathFinder', 'statsPanel'];
            
            panels.forEach(panelId => {
                const collapsed = localStorage.getItem(`${panelId}_collapsed`) === 'true';
                if (collapsed) {
                    const panel = document.getElementById(panelId);
                    panel.classList.add('collapsed');
                    const btn = panel.querySelector('.collapse-btn .expand-icon');
                    if (btn) btn.textContent = '+';
                }
            });
        }

        function toggleGrouping() {
            isGrouped = !isGrouped;
            const btn = document.getElementById('groupBtn');
            
            resetHighlight();
            
            if (isGrouped) {
                btn.classList.add('active');
                btn.textContent = '📦 Разгруппировать';
                
                // Добавляем силы группировки
                simulation
                    .force("x", d3.forceX(d => groupPositions[d.concept].x).strength(0.3))
                    .force("y", d3.forceY(d => groupPositions[d.concept].y).strength(0.3))
                    .force("charge", d3.forceManyBody().strength(-200))
                    .force("collision", d3.forceCollide().radius(40));
            } else {
                btn.classList.remove('active');
                btn.textContent = '📦 Группировать';
                
                // Убираем силы группировки
                simulation
                    .force("x", null)
                    .force("y", null)
                    .force("charge", d3.forceManyBody().strength(-350))
                    .force("collision", d3.forceCollide().radius(45))
                    .force("center", d3.forceCenter(window.innerWidth / 2, window.innerHeight / 2));
            }
            tickCount = 0;
            simulation.alpha(0.5).restart();
        }

        window.addEventListener('resize', () => {
            const newWidth = window.innerWidth;
            const newHeight = window.innerHeight;
            svg.attr("width", newWidth).attr("height", newHeight);
            
            // Пересчитываем позиции групп
            const newSpacingX = newWidth / (cols + 1);
            const newSpacingY = newHeight / (rows + 1);
            philosopherNames.forEach((phil, i) => {
                const col = i % cols;
                const row = Math.floor(i / cols);
                groupPositions[phil] = {
                    x: newSpacingX * (col + 1),
                    y: newSpacingY * (row + 1)
                };
            });
            
            if (isGrouped) {
                simulation
                    .force("x", d3.forceX(d => groupPositions[d.concept].x).strength(0.3))
                    .force("y", d3.forceY(d => groupPositions[d.concept].y).strength(0.3));
            } else {
                simulation.force("center", d3.forceCenter(newWidth / 2, newHeight / 2));
            }
            
            simulation.alpha(0.3).restart();
        });
        
        function showDetailModal(conceptData) {
            const modal = document.getElementById('detailModal');
            const overlay = document.getElementById('modalOverlay');
            const content = document.getElementById('modalContent');

            freezeSimulation();
            
            // Получаем рубрики этой концепции
            const conceptRubrics = conceptToRubrics[conceptData.id] || [];
            
            let html = `
                <div id="modalSearch">
                    <div class="legend-search-header">
                        <div class="legend-search-icon">🔍</div>
                        <div class="legend-search-input-wrapper">
                            <input type="text" 
                                   class="legend-search-input" 
                                   id="modalSearchInput" 
                                   placeholder="Поиск других концепций..."
                                   oninput="handleModalSearch(this.value)"
                                   onfocus="handleModalSearch(this.value)">
                            <span class="legend-search-clear" onclick="clearModalSearch()">×</span>
                            <div class="search-results" id="modalSearchResults"></div>
                        </div>
                    </div>
                </div>
                <h2>${conceptData.label}</h2>
                <div class="philosopher-tag" style="background: ${philosopherConcepts[conceptData.concept].color}; cursor: pointer;" 
                     onclick="closeDetailModal(); setTimeout(() => showPhilosopherDetailModal('${conceptData.concept}'), 100);"
                     title="Кликните для просмотра информации о философе">
                    ${conceptData.concept}
                </div>
                <div class="description">${conceptData.extendedDescription}</div>
                <button class="goto-node-btn" onclick="gotoNodeFromModal('${conceptData.id}')">
                    🎯 Перейти к узлу
                </button>
            `;
            
            // Секция связей узла - МОДИФИЦИРОВАННАЯ ВЕРСИЯ
            const nodeConnections = links.filter(l => {
                const src = l.source.id || l.source;
                const tgt = l.target.id || l.target;
                return src === conceptData.id || tgt === conceptData.id;
            });

            if (nodeConnections.length > 0) {
                // Разделяем связи на внутренние и внешние
                const internalConnections = [];
                const externalConnections = [];
                
                nodeConnections.forEach(conn => {
                    const src = conn.source.id || conn.source;
                    const tgt = conn.target.id || conn.target;
                    const isSource = src === conceptData.id;
                    const connectedNodeId = isSource ? tgt : src;
                    const connectedNode = nodes.find(n => n.id === connectedNodeId);
                    
                    if (!connectedNode) return;
                    
                    // Проверяем, тот же философ или нет
                    if (connectedNode.concept === conceptData.concept) {
                        internalConnections.push({ conn, connectedNode, isSource });
                    } else {
                        externalConnections.push({ conn, connectedNode, isSource });
                    }
                });
                
                // Проверяем, есть ли хотя бы одна связь с description
                const hasDescriptions = nodeConnections.some(conn => conn.description);
                
                html += `
                    <div class="connections-section">
                        <div class="connections-title">📊 Связи узла (${nodeConnections.length})</div>
                `;
                
                // Добавляем кнопку для раскрытия/свертывания всех описаний, если есть descriptions
                if (hasDescriptions) {
                    html += `
                        <button class="toggle-all-descriptions-btn" onclick="toggleAllConnectionDescriptions('${conceptData.id}')">
                            ▼ Развернуть все описания связей
                        </button>
                    `;
                }
                
                // ВНУТРЕННИЕ СВЯЗИ (того же философа)
                if (internalConnections.length > 0) {
                    html += `
                        <div class="connections-subsection">
                            <div class="subsection-header" onclick="toggleSubsection('internal-${conceptData.id}')">
                                <div class="subsection-title">
                                    🔗 Связи внутри системы ${conceptData.concept}
                                    <span style="font-weight: 400; font-size: 11px; color: #95a5a6;">(${internalConnections.length})</span>
                                </div>
                                <span class="subsection-toggle" id="toggle-internal-${conceptData.id}">▼</span>
                            </div>
                            <div class="subsection-content" id="content-internal-${conceptData.id}">
                    `;
                    
                    internalConnections.forEach(({ conn, connectedNode, isSource }) => {
                        const linkColor = relationTypesObj[conn.type].color;
                        const linkLabel = relationTypesObj[conn.type].label;
                        
                        // Определяем направление стрелки
                        let arrow = '';
                        if (conn.bidirectional) {
                            arrow = '↔';
                        } else if (isSource) {
                            arrow = '→';
                        } else {
                            arrow = '←';
                        }
                        
                        html += `
                            <div class="connection-item">
                                <div class="concept-color" style="background: ${philosopherConcepts[connectedNode.concept].color}"></div>
                                <div class="connection-arrow" style="color: ${linkColor};">
                                    ${arrow}
                                    <span class="connection-arrow-tooltip">${linkLabel}</span>
                                </div>
                                <div style="flex-grow: 1;" onclick="closeDetailModal(); setTimeout(() => showDetailModal(nodes.find(n => n.id === '${connectedNode.id}')), 100);">
                                    <div class="concept-name">${connectedNode.label}</div>
                                    <div class="concept-philosopher">${connectedNode.concept}</div>
                                </div>
                                ${conn.description ? `
                                    <button class="connection-toggle" onclick="event.stopPropagation(); toggleConnectionDescription('${conceptData.id}-${connectedNode.id}')">
                                        ▼
                                    </button>
                                ` : ''}
                            </div>
                            ${conn.description ? `
                                <div class="connection-description" id="desc-${conceptData.id}-${connectedNode.id}">
                                    ${conn.description}
                                </div>
                            ` : ''}
                        `;
                    });
                    
                    html += `
                            </div>
                        </div>
                    `;
                }
                
                // ВНЕШНИЕ СВЯЗИ (с другими философами)
                if (externalConnections.length > 0) {
                    html += `
                        <div class="connections-subsection">
                            <div class="subsection-header" onclick="toggleSubsection('external-${conceptData.id}')">
                                <div class="subsection-title">
                                    🌐 Связи с концепциями других философов
                                    <span style="font-weight: 400; font-size: 11px; color: #95a5a6;">(${externalConnections.length})</span>
                                </div>
                                <span class="subsection-toggle" id="toggle-external-${conceptData.id}">▼</span>
                            </div>
                            <div class="subsection-content" id="content-external-${conceptData.id}">
                    `;
                    
                    externalConnections.forEach(({ conn, connectedNode, isSource }) => {
                        const linkColor = relationTypesObj[conn.type].color;
                        const linkLabel = relationTypesObj[conn.type].label;
                        
                        // Определяем направление стрелки
                        let arrow = '';
                        if (conn.bidirectional) {
                            arrow = '↔';
                        } else if (isSource) {
                            arrow = '→';
                        } else {
                            arrow = '←';
                        }
                        
                        html += `
                            <div class="connection-item">
                                <div class="concept-color" style="background: ${philosopherConcepts[connectedNode.concept].color}"></div>
                                <div class="connection-arrow" style="color: ${linkColor};">
                                    ${arrow}
                                    <span class="connection-arrow-tooltip">${linkLabel}</span>
                                </div>
                                <div style="flex-grow: 1;" onclick="closeDetailModal(); setTimeout(() => showDetailModal(nodes.find(n => n.id === '${connectedNode.id}')), 100);">
                                    <div class="concept-name">${connectedNode.label}</div>
                                    <div class="concept-philosopher">${connectedNode.concept}</div>
                                </div>
                                ${conn.description ? `
                                    <button class="connection-toggle" onclick="event.stopPropagation(); toggleConnectionDescription('${conceptData.id}-${connectedNode.id}')">
                                        ▼
                                    </button>
                                ` : ''}
                            </div>
                            ${conn.description ? `
                                <div class="connection-description" id="desc-${conceptData.id}-${connectedNode.id}">
                                    ${conn.description}
                                </div>
                            ` : ''}
                        `;
                    });
                    
                    html += `
                            </div>
                        </div>
                    `;
                }
                
                html += `</div>`;
            }
            
            // Секция рубрик (без изменений)
            if (conceptRubrics.length > 0) {
                const rubricDataArray = conceptRubrics.map(rubricId => 
                    rubrics.find(r => r.id === rubricId)
                ).filter(r => r !== undefined);
                
                rubricDataArray.forEach(rubricData => {
                    const relatedConcepts = nodes.filter(n => {
                        const nRubrics = conceptToRubrics[n.id] || [];
                        return nRubrics.includes(rubricData.id) && n.id !== conceptData.id;
                    });
                    
                    const showAllId = `show-all-${rubricData.id}`;
                    const initialDisplay = 10;
                    const hasMore = relatedConcepts.length > initialDisplay;
                    
                    html += `
                        <div class="rubric-section">
                            <div class="rubric-title">📚 Рубрика: ${rubricData.name}</div>
                            <div class="rubric-description">${rubricData.description}</div>
                            
                            ${relatedConcepts.length > 0 ? `
                                <div class="related-concepts">
                                    <div class="related-title">Также в этой рубрике (${relatedConcepts.length}):</div>
                                    <div id="${showAllId}-container">
                                        ${relatedConcepts.slice(0, initialDisplay).map(c => `
                                            <div class="concept-item" onclick="closeDetailModal(); setTimeout(() => showDetailModal(nodes.find(n => n.id === '${c.id}')), 100);">
                                                <div class="concept-color" style="background: ${philosopherConcepts[c.concept].color}"></div>
                                                <div class="concept-name">${c.label}</div>
                                                <div class="concept-philosopher">${c.concept}</div>
                                            </div>
                                        `).join('')}
                                    </div>
                                    ${hasMore ? `
                                        <button class="show-all-concepts-btn" id="${showAllId}" onclick="showAllConcepts('${rubricData.id}', '${conceptData.id}')">
                                            Показать все (${relatedConcepts.length})
                                        </button>
                                    ` : ''}
                                </div>
                            ` : ''}
                        </div>
                    `;
                });
            } else {
                html += `<div class="rubric-section">
                    <div class="rubric-description" style="color: #95a5a6;">
                        Эта концепция пока не отнесена к какой-либо рубрике.
                    </div>
                </div>`;
            }
            
            content.innerHTML = html;
            modal.classList.add('show');
            overlay.classList.add('show');
        }

        // Переключение отображения description одной связи
        function toggleConnectionDescription(id) {
            const descElement = document.getElementById(`desc-${id}`);
            const toggleBtn = event.target;
            
            if (descElement.classList.contains('show')) {
                descElement.classList.remove('show');
                toggleBtn.classList.remove('expanded');
            } else {
                descElement.classList.add('show');
                toggleBtn.classList.add('expanded');
            }
        }

        // Переключение всех descriptions в модальном окне
        let allDescriptionsExpanded = false;

        function toggleAllConnectionDescriptions(conceptId) {
            const modal = document.getElementById('detailModal');
            const descriptions = modal.querySelectorAll('.connection-description');
            const toggleButtons = modal.querySelectorAll('.connection-toggle');
            const toggleAllBtn = event.target;
            
            allDescriptionsExpanded = !allDescriptionsExpanded;
            
            descriptions.forEach(desc => {
                if (allDescriptionsExpanded) {
                    desc.classList.add('show');
                } else {
                    desc.classList.remove('show');
                }
            });
            
            toggleButtons.forEach(btn => {
                if (allDescriptionsExpanded) {
                    btn.classList.add('expanded');
                } else {
                    btn.classList.remove('expanded');
                }
            });
            
            toggleAllBtn.textContent = allDescriptionsExpanded ? 
                'Свернуть все описания связей' : 
                'Развернуть все описания связей';
        }

        // Функция для сворачивания/разворачивания подсекций связей
        function toggleSubsection(sectionId) {
            const content = document.getElementById(`content-${sectionId}`);
            const toggle = document.getElementById(`toggle-${sectionId}`);
            
            if (!content || !toggle) return;
            
            if (content.classList.contains('collapsed')) {
                content.classList.remove('collapsed');
                toggle.classList.remove('collapsed');
            } else {
                content.classList.add('collapsed');
                toggle.classList.add('collapsed');
            }
        }

        // Функция перехода к узлу из модального окна
        function gotoNodeFromModal(nodeId) {
            closeDetailModal();
            
            setTimeout(() => {
                const nodeData = nodes.find(n => n.id === nodeId);
                if (nodeData) {
                    // Выделяем узел
                    selectedNodes.clear();
                    selectedNodes.add(nodeData);
                    highlightConnected([nodeData]);
                    
                    // Центрируем на узле
                    const nodeElement = node.filter(d => d.id === nodeId);
                    if (nodeElement.size() > 0) {
                        const d = nodeElement.datum();
                        const transform = d3.zoomIdentity
                            .translate(width / 2 - d.x, height / 2 - d.y)
                            .scale(1.5);
                        svg.transition().duration(750).call(zoom.transform, transform);
                    }
                }
            }, 100);
        }

        // Функция показа всех концепций в рубрике
        function showAllConcepts(rubricId, currentConceptId) {
            const rubricData = rubrics.find(r => r.id === rubricId);
            if (!rubricData) return;
            
            const relatedConcepts = nodes.filter(n => {
                const nRubrics = conceptToRubrics[n.id] || [];
                return nRubrics.includes(rubricId) && n.id !== currentConceptId;
            });
            
            const containerId = `show-all-${rubricId}-container`;
            const buttonId = `show-all-${rubricId}`;
            const container = document.getElementById(containerId);
            const button = document.getElementById(buttonId);
            
            if (container && button) {
                // Показываем все концепции
                container.innerHTML = relatedConcepts.map(c => `
                    <div class="concept-item" onclick="closeDetailModal(); setTimeout(() => showDetailModal(nodes.find(n => n.id === '${c.id}')), 100);">
                        <div class="concept-color" style="background: ${philosopherConcepts[c.concept].color}"></div>
                        <div class="concept-name">${c.label}</div>
                        <div class="concept-philosopher">${c.concept}</div>
                    </div>
                `).join('');
                
                // Скрываем кнопку
                button.style.display = 'none';
            }
        }
        
        function closeDetailModal() {
            const modal = document.getElementById('detailModal');
            const overlay = document.getElementById('modalOverlay');
            const content = document.getElementById('modalContent');
            
            // Очищаем поиск перед закрытием
            clearModalSearch();
            
            // Очищаем содержимое для удаления обработчиков
            content.innerHTML = '';
            
            modal.classList.remove('show');
            overlay.classList.remove('show');

            unfreezeSimulation();
        }

        // ============================================
        // ФУНКЦИИ ДЕТАЛЬНОГО МОДАЛЬНОГО ОКНА ФИЛОСОФА
        // ============================================

        function showPhilosopherDetailModal(philosopherName) {
            const modal = document.getElementById('philosopherDetailModal');
            const overlay = document.getElementById('modalOverlay');
            const content = document.getElementById('philosopherModalContent');

            freezeSimulation();
            
            // Находим данные философа
            const philosopherData = philosophers.find(p => p.nameRu === philosopherName);
            if (!philosopherData) {
                console.error('Философ не найден:', philosopherName);
                return;
            }
            
            const philColor = philosopherConcepts[philosopherName].color;
            
            // Формируем описание с переносами строк
            const formattedDescription = philosopherData.description.replace(/\n\n/g, '<br><br>');
            
            let html = `
                <h2>${philosopherName}</h2>
                <div class="philosopher-tag" style="background: ${philColor}">
                    ${philosopherData.years}
                </div>
                <div class="description">${formattedDescription}</div>
            `;
            
            // ========================================
            // РАЗДЕЛ ВЗАИМОДЕЙСТВИЯ С ДРУГИМИ ФИЛОСОФАМИ
            // ========================================
            
            const philosopherConcepts_ids = nodes.filter(n => n.concept === philosopherName).map(n => n.id);
            
            const externalLinks = links.filter(l => {
                const srcId = l.source.id || l.source;
                const tgtId = l.target.id || l.target;
                const srcNode = nodes.find(n => n.id === srcId);
                const tgtNode = nodes.find(n => n.id === tgtId);
                
                if (!srcNode || !tgtNode) return false;
                
                return (srcNode.concept === philosopherName && tgtNode.concept !== philosopherName) ||
                       (tgtNode.concept === philosopherName && srcNode.concept !== philosopherName);
            });
            
            if (externalLinks.length > 0) {
                const interactionsByType = {};
                
                externalLinks.forEach(link => {
                    const srcId = link.source.id || link.source;
                    const tgtId = link.target.id || link.target;
                    const srcNode = nodes.find(n => n.id === srcId);
                    const tgtNode = nodes.find(n => n.id === tgtId);
                    
                    const linkType = link.type;
                    const isOutgoing = srcNode.concept === philosopherName;
                    const otherPhilosopher = isOutgoing ? tgtNode.concept : srcNode.concept;
                    
                    if (!interactionsByType[linkType]) {
                        interactionsByType[linkType] = {
                            incoming: new Set(),
                            outgoing: new Set()
                        };
                    }
                    
                    if (link.bidirectional) {
                        interactionsByType[linkType].incoming.add(otherPhilosopher);
                        interactionsByType[linkType].outgoing.add(otherPhilosopher);
                    } else if (isOutgoing) {
                        interactionsByType[linkType].outgoing.add(otherPhilosopher);
                    } else {
                        interactionsByType[linkType].incoming.add(otherPhilosopher);
                    }
                });
                
                html += `
                    <div class="philosopher-section-title">
                        🔗 Взаимодействие с другими философами
                    </div>
                `;
                
                const interactionLabels = {
                    'influence': { incoming: 'Испытал влияние от', outgoing: 'Оказал влияние на' },
                    'develop': { incoming: 'Развивал концепции', outgoing: 'Его концепции развивали' },
                    'oppose': { incoming: 'Ему противостояли', outgoing: 'Противостоял' },
                    'critique': { incoming: 'Его критиковали', outgoing: 'Критиковал' },
                    'dialogue': { incoming: 'С ним полемизировали', outgoing: 'Полемизировал' },
                    'synthesize': { incoming: 'Его концепции синтезировали', outgoing: 'Синтезировал концепции' },
                    'exemplify': { incoming: 'Его иллюстрировали', outgoing: 'Иллюстрировал' },
                    'internal_contradiction': { incoming: 'Противоречил себе в', outgoing: 'Внутренние противоречия' }
                };
                
                Object.keys(interactionsByType).forEach(linkType => {
                    const interaction = interactionsByType[linkType];
                    const labels = interactionLabels[linkType] || { incoming: 'От', outgoing: 'К' };
                    const typeLabel = relationTypesObj[linkType]?.label || linkType;
                    
                    const hasIncoming = interaction.incoming.size > 0;
                    const hasOutgoing = interaction.outgoing.size > 0;
                    
                    if (!hasIncoming && !hasOutgoing) return;
                    
                    html += `<div class="interaction-section">`;
                    html += `<div class="interaction-type">${typeLabel}</div>`;
                    
                    if (hasIncoming) {
                        const philList = Array.from(interaction.incoming)
                            .map(phil => `<span class="philosopher-link" onclick="closePhilosopherDetailModal(); setTimeout(() => showPhilosopherDetailModal('${phil}'), 100);">${phil}</span>`)
                            .join(', ');
                        html += `
                            <div class="interaction-direction">
                                <span class="interaction-direction-label">← ${labels.incoming}:</span>
                                <span class="philosopher-list">${philList} (${interaction.incoming.size})</span>
                            </div>
                        `;
                    }
                    
                    if (hasOutgoing) {
                        const philList = Array.from(interaction.outgoing)
                            .map(phil => `<span class="philosopher-link" onclick="closePhilosopherDetailModal(); setTimeout(() => showPhilosopherDetailModal('${phil}'), 100);">${phil}</span>`)
                            .join(', ');
                        html += `
                            <div class="interaction-direction">
                                <span class="interaction-direction-label">→ ${labels.outgoing}:</span>
                                <span class="philosopher-list">${philList} (${interaction.outgoing.size})</span>
                            </div>
                        `;
                    }
                    
                    html += `</div>`;
                });
            }
            
            // ========================================
            // РАЗДЕЛ НАПРАВЛЕНИЙ РАБОТЫ
            // ========================================
            
            const philosopherRubrics = new Set();
            nodes.filter(n => n.concept === philosopherName).forEach(n => {
                const nodeRubrics = conceptToRubrics[n.id] || [];
                nodeRubrics.forEach(rubricId => philosopherRubrics.add(rubricId));
            });
            
            if (philosopherRubrics.size > 0) {
                html += `
                    <div class="philosopher-section-title">
                        📚 Направления работы
                    </div>
                    <div class="description">
                        Работал в следующих направлениях: 
                `;
                
                const rubricNames = Array.from(philosopherRubrics).map(rubricId => {
                    const rubric = rubrics.find(r => r.id === rubricId);
                    if (!rubric) return '';
                    return `
                        <span class="rubric-name-tooltip">
                            ${rubric.name}
                            <span class="rubric-tooltip-text">${rubric.description}</span>
                        </span>
                    `;
                }).filter(r => r).join(', ');
                
                html += rubricNames + '</div>';
            }
            
            // ========================================
            // РАЗДЕЛ КОНЦЕПЦИЙ ФИЛОСОФА
            // ========================================
            
            const philosopherConceptsNodes = nodes.filter(n => n.concept === philosopherName);
            
            if (philosopherConceptsNodes.length > 0) {
                html += `
                    <div class="philosopher-section-title">
                        💡 Концепции философа (${philosopherConceptsNodes.length})
                    </div>
                    <button class="toggle-all-descriptions-btn" onclick="toggleAllPhilosopherConceptDescriptions()">
                        ▼ Развернуть все описания концепций
                    </button>
                    <div class="philosopher-concepts-section">
                `;
                
                philosopherConceptsNodes.forEach(conceptNode => {
                    html += `
                        <div class="concept-details-item" onclick="event.stopPropagation(); closePhilosopherDetailModal(); setTimeout(() => showDetailModal(nodes.find(n => n.id === '${conceptNode.id}')), 100);">
                            <div class="concept-details-header">
                                <div class="concept-details-name">${conceptNode.label}</div>
                                <button class="toggle-concept-desc-btn" onclick="event.stopPropagation(); togglePhilosopherConceptDescription('${conceptNode.id}')">▼</button>
                            </div>
                            <div class="concept-short-desc">${conceptNode.description}</div>
                            <div class="concept-extended-desc" id="phil-concept-desc-${conceptNode.id}">
                                ${conceptNode.extendedDescription}
                            </div>
                        </div>
                    `;
                });
                
                html += `</div>`;
            }
            
            // ========================================
            // РАЗДЕЛ СВЯЗЕЙ КОНЦЕПЦИЙ ФИЛОСОФА
            // ========================================
            
            const conceptConnections = links.filter(l => {
                const srcId = l.source.id || l.source;
                const tgtId = l.target.id || l.target;
                return philosopherConcepts_ids.includes(srcId) || philosopherConcepts_ids.includes(tgtId);
            });
            
            if (conceptConnections.length > 0) {
                const internalConnections = [];
                const externalConnectionsData = [];
                
                conceptConnections.forEach(conn => {
                    const srcId = conn.source.id || conn.source;
                    const tgtId = conn.target.id || conn.target;
                    const srcNode = nodes.find(n => n.id === srcId);
                    const tgtNode = nodes.find(n => n.id === tgtId);
                    
                    if (!srcNode || !tgtNode) return;
                    
                    if (srcNode.concept === philosopherName && tgtNode.concept === philosopherName) {
                        internalConnections.push({ conn, srcNode, tgtNode });
                    } else if (srcNode.concept === philosopherName || tgtNode.concept === philosopherName) {
                        externalConnectionsData.push({ conn, srcNode, tgtNode });
                    }
                });
                
                const hasConnectionDescriptions = conceptConnections.some(c => c.description);
                
                html += `
                    <div class="philosopher-section-title">
                        🔗 Связи концепций философа (${conceptConnections.length})
                    </div>
                `;
                
                if (hasConnectionDescriptions) {
                    html += `
                        <button class="toggle-all-descriptions-btn" onclick="toggleAllPhilosopherConnectionDescriptions()">
                            ▼ Развернуть все описания связей
                        </button>
                    `;
                }
                
                html += `<div class="connections-section">`;
                
                // ВНУТРЕННИЕ СВЯЗИ
                if (internalConnections.length > 0) {
                    html += `
                        <div class="connections-subsection">
                            <div class="subsection-header" onclick="toggleSubsection('phil-internal-${philosopherName}')">
                                <div class="subsection-title">
                                    🔗 Связи внутри системы ${philosopherName}
                                    <span style="font-weight: 400; font-size: 11px; color: #95a5a6;">(${internalConnections.length})</span>
                                </div>
                                <span class="subsection-toggle" id="toggle-phil-internal-${philosopherName}">▼</span>
                            </div>
                            <div class="subsection-content" id="content-phil-internal-${philosopherName}">
                    `;
                    
                    internalConnections.forEach(({ conn, srcNode, tgtNode }) => {
                        const linkColor = relationTypesObj[conn.type].color;
                        const linkLabel = relationTypesObj[conn.type].label;
                        const arrow = conn.bidirectional ? '↔' : '→';
                        
                        html += `
                            <div class="connection-item">
                                <div class="concept-color" style="background: ${philColor}"></div>
                                <div style="flex-grow: 1; display: flex; align-items: center; gap: 8px;">
                                    <span onclick="closePhilosopherDetailModal(); setTimeout(() => showDetailModal(nodes.find(n => n.id === '${srcNode.id}')), 100);" style="cursor: pointer;">${srcNode.label}</span>
                                    <div class="connection-arrow" style="color: ${linkColor};">
                                        ${arrow}
                                        <span class="connection-arrow-tooltip">${linkLabel}</span>
                                    </div>
                                    <span onclick="closePhilosopherDetailModal(); setTimeout(() => showDetailModal(nodes.find(n => n.id === '${tgtNode.id}')), 100);" style="cursor: pointer;">${tgtNode.label}</span>
                                </div>
                                ${conn.description ? `
                                    <button class="connection-toggle" onclick="event.stopPropagation(); toggleConnectionDescription('phil-${srcNode.id}-${tgtNode.id}')">
                                        ▼
                                    </button>
                                ` : ''}
                            </div>
                            ${conn.description ? `
                                <div class="connection-description" id="desc-phil-${srcNode.id}-${tgtNode.id}">
                                    ${conn.description}
                                </div>
                            ` : ''}
                        `;
                    });
                    
                    html += `
                            </div>
                        </div>
                    `;
                }
                
                // ВНЕШНИЕ СВЯЗИ
                if (externalConnectionsData.length > 0) {
                    html += `
                        <div class="connections-subsection">
                            <div class="subsection-header" onclick="toggleSubsection('phil-external-${philosopherName}')">
                                <div class="subsection-title">
                                    🌐 Связи с концепциями других философов
                                    <span style="font-weight: 400; font-size: 11px; color: #95a5a6;">(${externalConnectionsData.length})</span>
                                </div>
                                <span class="subsection-toggle" id="toggle-phil-external-${philosopherName}">▼</span>
                            </div>
                            <div class="subsection-content" id="content-phil-external-${philosopherName}">
                    `;
                    
                    externalConnectionsData.forEach(({ conn, srcNode, tgtNode }) => {
                        const linkColor = relationTypesObj[conn.type].color;
                        const linkLabel = relationTypesObj[conn.type].label;
                        const arrow = conn.bidirectional ? '↔' : '→';
                        
                        html += `
                            <div class="connection-item">
                                <div class="concept-color" style="background: ${philosopherConcepts[srcNode.concept].color}"></div>
                                <div style="flex-grow: 1; display: flex; align-items: center; gap: 8px; flex-wrap: wrap;">
                                    <span onclick="closePhilosopherDetailModal(); setTimeout(() => showDetailModal(nodes.find(n => n.id === '${srcNode.id}')), 100);" style="cursor: pointer;">${srcNode.label}</span>
                                    <span style="font-size: 10px; color: #7f8c8d;">(${srcNode.concept})</span>
                                    <div class="connection-arrow" style="color: ${linkColor};">
                                        ${arrow}
                                        <span class="connection-arrow-tooltip">${linkLabel}</span>
                                    </div>
                                    <span onclick="closePhilosopherDetailModal(); setTimeout(() => showDetailModal(nodes.find(n => n.id === '${tgtNode.id}')), 100);" style="cursor: pointer;">${tgtNode.label}</span>
                                    <span style="font-size: 10px; color: #7f8c8d;">(${tgtNode.concept})</span>
                                </div>
                                ${conn.description ? `
                                    <button class="connection-toggle" onclick="event.stopPropagation(); toggleConnectionDescription('phil-${srcNode.id}-${tgtNode.id}')">
                                        ▼
                                    </button>
                                ` : ''}
                            </div>
                            ${conn.description ? `
                                <div class="connection-description" id="desc-phil-${srcNode.id}-${tgtNode.id}">
                                    ${conn.description}
                                </div>
                            ` : ''}
                        `;
                    });
                    
                    html += `
                            </div>
                        </div>
                    `;
                }
                
                html += `</div>`;
            }
            
            content.innerHTML = html;
            modal.classList.add('show');
            overlay.classList.add('show');
        }

        function closePhilosopherDetailModal() {
            const modal = document.getElementById('philosopherDetailModal');
            const overlay = document.getElementById('modalOverlay');
            const content = document.getElementById('philosopherModalContent');
            
            content.innerHTML = '';
            modal.classList.remove('show');
            overlay.classList.remove('show');
            
            unfreezeSimulation();
        }

        // Переключение описания концепции в модальном окне философа
        function togglePhilosopherConceptDescription(conceptId) {
            const descElement = document.getElementById(`phil-concept-desc-${conceptId}`);
            const toggleBtn = event.target;
            
            if (descElement.classList.contains('show')) {
                descElement.classList.remove('show');
                toggleBtn.classList.remove('expanded');
            } else {
                descElement.classList.add('show');
                toggleBtn.classList.add('expanded');
            }
        }

        // Переключение всех описаний концепций философа
        let allPhilosopherConceptDescriptionsExpanded = false;

        function toggleAllPhilosopherConceptDescriptions() {
            const modal = document.getElementById('philosopherDetailModal');
            const descriptions = modal.querySelectorAll('.concept-extended-desc');
            const toggleButtons = modal.querySelectorAll('.toggle-concept-desc-btn');
            const toggleAllBtn = event.target;
            
            allPhilosopherConceptDescriptionsExpanded = !allPhilosopherConceptDescriptionsExpanded;
            
            descriptions.forEach(desc => {
                if (allPhilosopherConceptDescriptionsExpanded) {
                    desc.classList.add('show');
                } else {
                    desc.classList.remove('show');
                }
            });
            
            toggleButtons.forEach(btn => {
                if (allPhilosopherConceptDescriptionsExpanded) {
                    btn.classList.add('expanded');
                } else {
                    btn.classList.remove('expanded');
                }
            });
            
            toggleAllBtn.textContent = allPhilosopherConceptDescriptionsExpanded ? 
                '▲ Свернуть все описания концепций' : 
                '▼ Развернуть все описания концепций';
        }

        // Переключение всех описаний связей в модальном окне философа
        let allPhilosopherConnectionDescriptionsExpanded = false;

        function toggleAllPhilosopherConnectionDescriptions() {
            const modal = document.getElementById('philosopherDetailModal');
            const descriptions = modal.querySelectorAll('.connection-description');
            const toggleButtons = modal.querySelectorAll('.connection-toggle');
            const toggleAllBtn = event.target;
            
            allPhilosopherConnectionDescriptionsExpanded = !allPhilosopherConnectionDescriptionsExpanded;
            
            descriptions.forEach(desc => {
                if (allPhilosopherConnectionDescriptionsExpanded) {
                    desc.classList.add('show');
                } else {
                    desc.classList.remove('show');
                }
            });
            
            toggleButtons.forEach(btn => {
                if (allPhilosopherConnectionDescriptionsExpanded) {
                    btn.classList.add('expanded');
                } else {
                    btn.classList.remove('expanded');
                }
            });
            
            toggleAllBtn.textContent = allPhilosopherConnectionDescriptionsExpanded ? 
                '▲ Свернуть все описания связей' : 
                '▼ Развернуть все описания связей';
        }

        function makeLegendsEditable() {
            // Shift+click на заголовок секции философов для добавления нового
            const philHeader = document.querySelector('.legend-section h4');
            if (philHeader && philHeader.textContent.includes('Философы')) {
                philHeader.addEventListener('click', function(event) {
                    if (event.shiftKey) {
                        event.preventDefault();
                        event.stopPropagation();
                        openEditPhilosopherModal();
                    }
                });
                // Визуальная подсказка
                philHeader.style.cursor = 'pointer';
                philHeader.title = 'Shift+клик для добавления философа';
            }
            
            // Делаем каждого философа кликабельным
            document.querySelectorAll('.legend-item').forEach(item => {
                const checkbox = item.querySelector('input[type="checkbox"]');
                if (checkbox) {
                    const philosopherName = checkbox.value;
                    
                    // Обработчик Shift+клик для редактирования
                    item.addEventListener('click', function(event) {
                        if (event.shiftKey) {
                            event.preventDefault();
                            event.stopPropagation();
                            openEditPhilosopherModal(philosopherName);
                        }
                    });
                    
                    // Обработчик двойного клика для детальной информации
                    item.addEventListener('dblclick', function(event) {
                        event.preventDefault();
                        event.stopPropagation();
                        showPhilosopherDetailModal(philosopherName);
                    });
                    
                    // Обновляем подсказку
                    item.title = 'Двойной клик - детальная информация, Shift+клик - редактирование';
                }
            });
        }

        setTimeout(makeLegendsEditable, 100);
        
        // Закрытие по клику на overlay
        document.getElementById('modalOverlay').addEventListener('click', function() {
            closeDetailModal();
            closePhilosopherDetailModal();
            closePathDescriptionsModal();
        });
        
        // Закрытие по Escape
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeDetailModal();
                closePhilosopherDetailModal();
                closePathDescriptionsModal();
            }
        });
        
        // Инициализируем фильтры при загрузке
        console.log("Инициализация графа:", nodes.length, "узлов,", links.length, "связей");
        initFilters();
        updateFilterStats();

        initializePhilosophyMetrics();
        
        // Инициализируем новые функции
        initPathFinder();
        
        // Восстанавливаем состояние панелей
        restorePanelStates();
        
        // Обновляем статистику после завершения симуляции
        simulation.on("end", () => {
            console.log("Симуляция завершена. Запустите анализ вручную.");
        });
        
        // Обработчики для чекбоксов
        document.getElementById('useWeightsToggle').checked = useWeightedPaths;
        document.getElementById('respectDirectionToggle').checked = respectDirection;
        
        // Инициализация оригинальных радиусов
        saveOriginalRadii();
        
        console.log("Граф инициализирован. Используйте кнопки для запуска анализа.");
        console.log("Текущий режим: веса -", useWeightedPaths ? "ВКЛ" : "ВЫКЛ", 
                    ", направленность -", respectDirection ? "ВКЛ" : "ВЫКЛ");

        // ============================================
        // ИНИЦИАЛИЗАЦИЯ ОБРАБОТЧИКОВ СОБЫТИЙ ХРОНОЛОГИИ
        // ============================================

        // Показывать/скрывать селектор режима при изменении чекбокса
        document.getElementById('respectChronology').addEventListener('change', function() {
            const container = document.getElementById('chronologyModeContainer');
            container.style.display = this.checked ? 'block' : 'none';
        });

        // Обновлять описание при смене режима
        document.getElementById('chronologyModeSelect').addEventListener('change', function() {
            const infoDiv = document.getElementById('chronologyModeInfo');
            const descriptions = {
                strict: '<strong>Строгий режим:</strong> учитывает реальные периоды жизни и активности философов (с 25 лет). Блокирует все анахронизмы. Пример: Гегель не может влиять на Канта.',
                moderate: '<strong>Умеренный режим:</strong> допускает влияние современников в пределах ±50 лет от рождения. Менее строгий, но всё ещё блокирует явные анахронизмы.',
                loose: '<strong>Свободный режим:</strong> разрешает влияние в пределах ±100 лет. Подходит для поиска концептуальных связей без строгой хронологии.'
            };
            infoDiv.innerHTML = descriptions[this.value];
            
            // Обновляем глобальную переменную режима
            currentChronologyMode = this.value;
        });

        // Инициализация: показать селектор, если хронология включена
        if (document.getElementById('respectChronology').checked) {
            document.getElementById('chronologyModeContainer').style.display = 'block';
        }

        console.log('Обработчики событий хронологии инициализированы');
        
    </script>
</body>
</html>
