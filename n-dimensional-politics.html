<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Политическая Гиперметрия</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #000;
            color: #0f0;
            font-family: 'Courier New', monospace;
            overflow-x: hidden;
            perspective: 1000px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            transform-style: preserve-3d;
        }
        
        header {
            text-align: center;
            margin-bottom: 40px;
            transform: rotateX(10deg);
            animation: glitch 5s infinite;
        }
        
        h1 {
            font-size: 3em;
            text-shadow: 0 0 10px #0f0, 0 0 20px #0f0;
            transform-style: preserve-3d;
        }
        
        h2 {
            font-size: 2em;
            border-bottom: 1px solid #0f0;
            margin-top: 40px;
            transform: rotateY(2deg);
        }
        
        p {
            line-height: 1.6;
            text-align: justify;
            max-width: 800px;
            margin: 20px auto;
        }
        
        .manifesto {
            font-style: italic;
            padding: 20px;
            border: 1px dashed #0f0;
            background-color: rgba(0, 50, 0, 0.3);
            margin: 30px auto;
            transform: skewX(-5deg);
        }
        
        .canvas-container {
            width: 100%;
            height: 400px;
            position: relative;
            margin: 50px auto;
            border: 1px solid #0f0;
            overflow: hidden;
        }
        
        #polyCanvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        
        .control-panel {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            margin: 20px auto;
        }
        
        .control {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        label {
            margin-bottom: 5px;
        }
        
        input[type="range"], select {
            width: 200px;
            background-color: #000;
            color: #0f0;
            border: 1px solid #0f0;
        }
        
        .table-container {
            overflow-x: auto;
            margin: 30px auto;
        }
        
        table {
            border-collapse: collapse;
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
        }
        
        th, td {
            border: 1px solid #0f0;
            padding: 8px 12px;
            text-align: left;
        }
        
        th {
            background-color: rgba(0, 50, 0, 0.5);
        }
        
        tr:nth-child(even) {
            background-color: rgba(0, 30, 0, 0.2);
        }
        
        .formula {
            font-family: 'Times New Roman', serif;
            font-style: italic;
            text-align: center;
            margin: 20px auto;
            font-size: 1.2em;
        }
        
        .dimensional-shift {
            position: relative;
            padding: 20px;
            margin: 40px auto;
            border-left: 3px solid #0f0;
        }
        
        .dimensional-shift::before {
            content: attr(data-dimension);
            position: absolute;
            top: -15px;
            left: 10px;
            background-color: #000;
            padding: 5px;
            font-weight: bold;
        }
        
        .interactive-section {
            position: relative;
            margin: 50px auto;
            padding: 20px;
            background-color: rgba(0, 20, 0, 0.3);
            border-radius: 5px;
        }
        
        .power-vertex {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            position: absolute;
            background-color: red;
            cursor: pointer;
        }
        
        footer {
            text-align: center;
            margin-top: 50px;
            padding: 20px;
            font-size: 0.8em;
            transform: rotateX(-5deg);
        }
        
        @keyframes glitch {
            0%, 100% { text-shadow: 0 0 10px #0f0, 0 0 20px #0f0; }
            25% { text-shadow: -2px 0 10px #f00, 2px 0 10px #00f; }
            50% { text-shadow: 2px -2px 10px #ff0, -2px 2px 10px #0ff; }
            75% { text-shadow: -2px -2px 10px #f0f, 2px 2px 10px #0f0; }
        }
        
        .tesseract {
            width: 300px;
            height: 300px;
            margin: 0 auto;
            position: relative;
        }
        
        .decision-graph {
            width: 100%;
            height: 300px;
            margin: 30px auto;
            position: relative;
        }
        
        .fractal-political {
            margin: 40px auto;
            width: 100%;
            height: 400px;
            position: relative;
        }
        
        /* Странные элементы дизайна */
        .non-euclidean-navbar {
            position: fixed;
            top: 20px;
            right: -100px;
            transform: rotate(90deg) perspective(500px) rotateY(30deg);
            z-index: 100;
            animation: float 10s infinite alternate;
        }
        
        .non-euclidean-navbar a {
            color: #0f0;
            text-decoration: none;
            display: block;
            margin: 10px;
            transform: skewY(10deg);
        }
        
        @keyframes float {
            0% { transform: rotate(90deg) perspective(500px) rotateY(30deg) translateY(0); }
            100% { transform: rotate(90deg) perspective(500px) rotateY(30deg) translateY(20px); }
        }
        
        .quantum-superposition {
            display: inline-block;
            position: relative;
        }
        
        .quantum-superposition::after {
            content: attr(data-alternative);
            position: absolute;
            top: 0;
            left: 0;
            color: rgba(0, 255, 0, 0.3);
            animation: superposition 3s infinite alternate;
        }
        
        @keyframes superposition {
            0% { opacity: 0; transform: translateX(-5px); }
            50% { opacity: 0.7; transform: translateX(0); }
            100% { opacity: 0; transform: translateX(5px); }
        }
    </style>
</head>
<body>
    <div class="non-euclidean-navbar">
        <a href="#3d">3D</a>
        <a href="#4d">4D</a>
        <a href="#5d">5D</a>
        <a href="#nd">n-D</a>
        <a href="#fractal">Фракталы власти</a>
    </div>

    <div class="container">
        <header>
            <h1>Политическая Гиперметрия</h1>
            <p>Исследование топологических связей между n-мерными многогранниками и политическими структурами в постевклидовом пространстве принятия решений</p>
        </header>

        <div class="manifesto">
            <p>Мы утверждаем, что традиционные политические системы ограничены трехмерным пространством, тогда как истинное понимание власти требует как минимум семимерного анализа. Каждая дополнительная размерность раскрывает скрытую динамику, невидимую в предыдущих пространствах. Политика — это не спектр и не куб, а гиперкуб, движущийся во времени!</p>
        </div>

        <h2>Фундаментальная теорема политической гиперметрии</h2>
        <p>Любая политическая система может быть представлена как n-мерный многогранник, где n ≥ 3, причем каждая вершина представляет центр власти, каждое ребро — канал коммуникации, каждая грань — идеологическое пространство, а гиперграни — метаидеологические конструкты.</p>

        <div class="dimensional-shift" data-dimension="3D - Базовая политическая топология">
            <p>В трехмерном пространстве демократические системы приближаются к икосаэдру (20-гранник), где равноудаленность вершин означает равную дистрибуцию власти. Автократии стремятся к форме конуса, где единственная вершина сосредотачивает все линии власти.</p>
            
            <div class="canvas-container">
                <canvas id="polyCanvas"></canvas>
            </div>
            
            <div class="control-panel">
                <div class="control">
                    <label for="systemType">Политическая система</label>
                    <select id="systemType">
                        <option value="democracy">Демократия</option>
                        <option value="autocracy">Автократия</option>
                        <option value="oligarchy">Олигархия</option>
                        <option value="technocracy">Технократия</option>
                    </select>
                </div>
                <div class="control">
                    <label for="dimensionSlider">Количество измерений</label>
                    <input type="range" id="dimensionSlider" min="3" max="12" value="4">
                    <span id="dimensionValue">4</span>
                </div>
                <div class="control">
                    <label for="entropySlider">Политическая энтропия</label>
                    <input type="range" id="entropySlider" min="0" max="100" value="30">
                </div>
            </div>
        </div>

        <h2 id="4d">Четырехмерные политические структуры (тессеракты власти)</h2>
        <p>Четвертое измерение вводит концепцию <span class="quantum-superposition" data-alternative="темпоральной перспективы">исторической инерции</span>, где политические решения не только распространяются в трехмерном пространстве, но и проникают сквозь временные слои, формируя гиперобъекты власти.</p>

        <div class="tesseract">
            <svg viewBox="0 0 300 300" width="300" height="300">
                <!-- Внешний куб -->
                <polygon points="50,50 250,50 250,250 50,250" fill="none" stroke="#0f0" stroke-width="1" />
                <!-- Внутренний куб -->
                <polygon points="100,100 200,100 200,200 100,200" fill="none" stroke="#0f0" stroke-width="1" />
                <!-- Соединяющие линии -->
                <line x1="50" y1="50" x2="100" y2="100" stroke="#0f0" stroke-width="1" />
                <line x1="250" y1="50" x2="200" y2="100" stroke="#0f0" stroke-width="1" />
                <line x1="250" y1="250" x2="200" y2="200" stroke="#0f0" stroke-width="1" />
                <line x1="50" y1="250" x2="100" y2="200" stroke="#0f0" stroke-width="1" />
                
                <!-- Политические узлы -->
                <circle cx="50" cy="50" r="5" fill="red" />
                <circle cx="250" cy="50" r="5" fill="blue" />
                <circle cx="250" cy="250" r="5" fill="green" />
                <circle cx="50" cy="250" r="5" fill="yellow" />
                <circle cx="100" cy="100" r="5" fill="purple" />
                <circle cx="200" cy="100" r="5" fill="cyan" />
                <circle cx="200" cy="200" r="5" fill="orange" />
                <circle cx="100" cy="200" r="5" fill="pink" />
                
                <!-- Силовые линии -->
                <line x1="50" y1="50" x2="250" y2="250" stroke="#0f0" stroke-width="0.5" stroke-dasharray="5,5" />
                <line x1="250" y1="50" x2="50" y2="250" stroke="#0f0" stroke-width="0.5" stroke-dasharray="5,5" />
                <line x1="100" y1="100" x2="200" y2="200" stroke="#0f0" stroke-width="0.5" stroke-dasharray="5,5" />
                <line x1="200" y1="100" x2="100" y2="200" stroke="#0f0" stroke-width="0.5" stroke-dasharray="5,5" />
            </svg>
        </div>

        <div class="formula">
            P(θ) = Σ(i=1 to n) Vi × Ci × t^(d-3) × ∮∇φ⋅dS
        </div>

        <p>где P(θ) — вероятность стабильности политической системы, Vi — объем власти вершины i, Ci — центральность вершины в гиперпространстве, t — временной параметр, d — размерность, а ∮∇φ⋅dS — поток идеологического градиента через гиперповерхность системы.</p>

        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th>Политическая система</th>
                        <th>Геометрическая форма</th>
                        <th>Размерность</th>
                        <th>Инвариант Шлефли</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Прямая демократия</td>
                        <td>600-ячейник</td>
                        <td>4</td>
                        <td>{3,3,5}</td>
                    </tr>
                    <tr>
                        <td>Федерализм</td>
                        <td>Составной 24-ячейник</td>
                        <td>4-6</td>
                        <td>{3,4,3} ⊕ {4,3,3}</td>
                    </tr>
                    <tr>
                        <td>Теократия</td>
                        <td>Конус над додекаэдром</td>
                        <td>4</td>
                        <td>{5,3}⋈</td>
                    </tr>
                    <tr>
                        <td>Анархо-синдикализм</td>
                        <td>Фрактальный пентахорический графт</td>
                        <td>4,33...</td>
                        <td>{3,3,3}*</td>
                    </tr>
                    <tr>
                        <td>Технократия</td>
                        <td>120-ячейник</td>
                        <td>4</td>
                        <td>{5,3,3}</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <h2 id="5d">Пятимерная динамика коллективного принятия решений</h2>
        <p>В пятимерном пространстве политические решения формируют причудливые <span class="quantum-superposition" data-alternative="квази-периодические">неевклидовы</span> структуры, где каждая точка одновременно может быть центром и периферией, нарушая привычные представления о иерархии.</p>

        <div class="decision-graph">
            <svg viewBox="0 0 600 300" width="600" height="300">
                <!-- Сложная сеть принятия решений -->
                <defs>
                    <filter id="glow">
                        <feGaussianBlur stdDeviation="2.5" result="coloredBlur"/>
                        <feMerge>
                            <feMergeNode in="coloredBlur"/>
                            <feMergeNode in="SourceGraphic"/>
                        </feMerge>
                    </filter>
                </defs>
                
                <!-- Базовая структура -->
                <polygon points="300,50 550,150 450,250 150,250 50,150" fill="none" stroke="#0f0" stroke-width="1" filter="url(#glow)" />
                
                <!-- Внутренние связи -->
                <line x1="300" y1="50" x2="300" y2="200" stroke="#0f0" stroke-width="0.5" />
                <line x1="550" y1="150" x2="300" y2="200" stroke="#0f0" stroke-width="0.5" />
                <line x1="450" y1="250" x2="300" y2="200" stroke="#0f0" stroke-width="0.5" />
                <line x1="150" y1="250" x2="300" y2="200" stroke="#0f0" stroke-width="0.5" />
                <line x1="50" y1="150" x2="300" y2="200" stroke="#0f0" stroke-width="0.5" />
                
                <!-- Проекции высших измерений -->
                <ellipse cx="300" cy="130" rx="100" ry="30" fill="none" stroke="#f0f" stroke-width="0.5" stroke-dasharray="5,5" transform="rotate(15 300 130)" />
                <ellipse cx="300" cy="170" rx="150" ry="40" fill="none" stroke="#0ff" stroke-width="0.5" stroke-dasharray="5,5" transform="rotate(-15 300 170)" />
                
                <!-- Узлы решений -->
                <circle cx="300" cy="50" r="5" fill="#0f0" />
                <circle cx="550" cy="150" r="5" fill="#0f0" />
                <circle cx="450" cy="250" r="5" fill="#0f0" />
                <circle cx="150" cy="250" r="5" fill="#0f0" />
                <circle cx="50" cy="150" r="5" fill="#0f0" />
                <circle cx="300" cy="200" r="8" fill="yellow" />
                
                <!-- Нелинейные пути принятия решений -->
                <path d="M300,50 Q400,100 550,150" fill="none" stroke="#f00" stroke-width="0.5" stroke-dasharray="2,2" />
                <path d="M550,150 Q400,230 450,250" fill="none" stroke="#0ff" stroke-width="0.5" stroke-dasharray="2,2" />
                <path d="M450,250 Q220,270 150,250" fill="none" stroke="#ff0" stroke-width="0.5" stroke-dasharray="2,2" />
                <path d="M150,250 Q60,190 50,150" fill="none" stroke="#f0f" stroke-width="0.5" stroke-dasharray="2,2" />
                <path d="M50,150 Q150,70 300,50" fill="none" stroke="#00f" stroke-width="0.5" stroke-dasharray="2,2" />
            </svg>
        </div>

        <div class="dimensional-shift" data-dimension="5D - Мультипликативные пространства власти">
            <p>В пяти измерениях образуются странные аттракторы власти, где хаотическая динамика парадоксальным образом приводит к устойчивым метастабильным состояниям, невозможным в пространствах меньшей размерности.</p>
            <p>Пятое измерение, которое мы называем <strong>идео-когнитивным вектором</strong>, искривляет все предыдущие измерения, создавая гипер-неевклидову геометрию, где параллельные идеологические плоскости неизбежно пересекаются в гиперпространстве мета-политики.</p>
        </div>

        <h2 id="nd">n-мерная политическая топология (n >> 3)</h2>
        <p>По мере увеличения размерности пространства, политические структуры претерпевают качественные трансформации:</p>
        <ul>
            <li>При n = 7: возникает феномен <strong>квантовой запутанности центров власти</strong>, где изменение состояния одного центра мгновенно влияет на все остальные, независимо от расстояния в социальном пространстве</li>
            <li>При n = 11: формируются <strong>мембраны политического влияния</strong>, создающие изолированные карманы власти, связанные только через гиперструны информационных потоков</li>
            <li>При n = 23: система достигает состояния <strong>политической сингулярности</strong>, где традиционные концепции власти, управления и подчинения теряют смысл, уступая место квантовой политической неопределенности</li>
        </ul>

        <h2 id="fractal">Фрактальная размерность и самоорганизация политических структур</h2>
        <p>Политические структуры демонстрируют фрактальные свойства с дробной размерностью D ≈ 2.73, что объясняет их способность к масштабированию от локальных до глобальных форм при сохранении топологических свойств.</p>

        <div class="fractal-political">
            <svg viewBox="0 0 800 400" width="800" height="400">
                <!-- Фрактальная политическая структура -->
                <defs>
                    <radialGradient id="power-gradient" cx="50%" cy="50%" r="50%" fx="50%" fy="50%">
                        <stop offset="0%" style="stop-color:#ff0000;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#000000;stop-opacity:0" />
                    </radialGradient>
                </defs>
                
                <!-- Базовый фрактал -->
                <!-- Первый уровень -->
                <circle cx="400" cy="200" r="150" fill="none" stroke="#0f0" stroke-width="1" />
                
                <!-- Второй уровень -->
                <circle cx="250" cy="200" r="75" fill="none" stroke="#0f0" stroke-width="0.8" />
                <circle cx="550" cy="200" r="75" fill="none" stroke="#0f0" stroke-width="0.8" />
                <circle cx="400" cy="50" r="75" fill="none" stroke="#0f0" stroke-width="0.8" />
                <circle cx="400" cy="350" r="75" fill="none" stroke="#0f0" stroke-width="0.8" />
                
                <!-- Третий уровень - только частично для наглядности -->
                <circle cx="175" cy="200" r="37.5" fill="none" stroke="#0f0" stroke-width="0.6" />
                <circle cx="325" cy="200" r="37.5" fill="none" stroke="#0f0" stroke-width="0.6" />
                <circle cx="625" cy="200" r="37.5" fill="none" stroke="#0f0" stroke-width="0.6" />
                <circle cx="475" cy="200" r="37.5" fill="none" stroke="#0f0" stroke-width="0.6" />
                <circle cx="400" cy="125" r="37.5" fill="none" stroke="#0f0" stroke-width="0.6" />
                <circle cx="400" cy="275" r="37.5" fill="none" stroke="#0f0" stroke-width="0.6" />
                
                <!-- Силовые поля -->
                <circle cx="400" cy="200" r="120" fill="url(#power-gradient)" opacity="0.3" />
                <circle cx="250" cy="200" r="60" fill="url(#power-gradient)" opacity="0.2" />
                <circle cx="550" cy="200" r="60" fill="url(#power-gradient)" opacity="0.2" />
                
                <!-- Силовые линии между фракталами -->
                <line x1="400" y1="200" x2="250" y2="200" stroke="#f00" stroke-width="0.5" stroke-dasharray="5,5" />
                <line x1="400" y1="200" x2="550" y2="200" stroke="#f00" stroke-width="0.5" stroke-dasharray="5,5" />
                <line x1="400" y1="200" x2="400" y2="50" stroke="#f00" stroke-width="0.5" stroke-dasharray="5,5" />
                <line x1="400" y1="200" x2="400" y2="350" stroke="#f00" stroke-width="0.5" stroke-dasharray="5,5" />
                
                <!-- Второстепенные связи -->
                <line x1="250" y1="200" x2="175" y2="200" stroke="#f00" stroke-width="0.3" stroke-dasharray="3,3" />
                <line x1="250" y1="200" x2="325" y2="200" stroke="#f00" stroke-width="0.3" stroke-dasharray="3,3" />
                <line x1="550" y1="200" x2="475" y2="200" stroke="#f00" stroke-width="0.3" stroke-dasharray="3,3" />
                <line x1="550" y1="200" x2="625" y2="200" stroke="#f00" stroke-width="0.3" stroke-dasharray="3,3" />
                
                <!-- Узлы влияния -->
                <circle cx="400" cy="200" r="10" fill="#f00" />
                <circle cx="250" cy="200" r="7" fill="#f00" />
                <circle cx="550" cy="200" r="7" fill="#f00" />
                <circle cx="400" cy="50" r="7" fill="#f00" />
                <circle cx="400" cy="350" r="7" fill="#f00" />
            </svg>
        </div>

        <div class="formula">
            HausΔ(P) = lim(ε→0) log N(ε) / log(1/ε) ≈ D
        </div>
        <p>где HausΔ(P) — хаусдорфова размерность политической структуры P, N(ε) — минимальное число n-мерных шаров радиуса ε, необходимых для покрытия P, а D — фрактальная размерность, характеризующая сложность системы.</p>

        <div class="interactive-section">
            <h3>Интерактивная модель перераспределения власти в n-мерном пространстве</h3>
            <p>Щелкните на любую точку ниже, чтобы инициировать гиперболический сдвиг центра власти и наблюдать за каскадным изменением политической топологии.</p>
            <div id="powerMap" style="width: 100%; height: 200px; position: relative; border: 1px dashed #0f0;">
                <!-- Динамически генерируемые точки власти -->
            </div>
        </div>

        <h2>Заключение: За пределами евклидовой политики</h2>
        <p>Традиционные политические модели, ограниченные плоскими лево-правыми или трехмерными кубическими представлениями, фундаментально неспособны охватить истинную сложность политической реальности. Только через призму n-мерных многогранников (где, как минимум, n > 7) можно начать приближаться к действительному пониманию динамики власти в современных сверхсложных обществах.</p>
        
        <div class="manifesto">
            <p>Мы призываем к полному пересмотру политической теории на основе неевклидовой геометрии гиперпространств и квантовой теории информации. Трансцендентная политика требует трансцендентной математики!</p>
        </div>

        <footer>
            <p>© 2025 Институт гиперполитических исследований | Все права защищены в n-мерном пространстве</p>
        </footer>
    </div>

    <script>
        // Основной скрипт для интерактивных элементов
        document.addEventListener('DOMContentLoaded', function() {
            // Настройка канваса
            const canvas = document.getElementById('polyCanvas');
            const ctx = canvas.getContext('2d');
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;
            
            // Параметры для отображения политических систем
            const systemParams = {
                democracy: {
                    vertices: 20,
                    regularize: 0.9,
                    centerPower: 0.1
                },
                autocracy: {
                    vertices: 12,
                    regularize: 0.3,
                    centerPower: 0.9
                },
                oligarchy: {
                    vertices: 8,
                    regularize: 0.5,
                    centerPower: 0.7
                },
                technocracy: {
                    vertices: 16,
                    regularize: 0.8,
                    centerPower: 0.3
                }
            };
            
            // Текущие параметры
            let currentSystem = 'democracy';
            let dimensions = 4;
            let entropy = 30;
            let angle = 0;
            
            // Слушатели событий для элементов управления
            document.getElementById('systemType').addEventListener('change', function(e) {
                currentSystem = e.target.value;
                drawSystem();
            });
            
            document.getElementById('dimensionSlider').addEventListener('input', function(e) {
                dimensions = parseInt(e.target.value);
                document.getElementById('dimensionValue').textContent = dimensions;
                drawSystem();
            });
            
            document.getElementById('entropySlider').addEventListener('input', function(e) {
                entropy = parseInt(e.target.value);
                drawSystem();
            });
            
            // Функция для рисования политической системы
            function drawSystem() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                const params = systemParams[currentSystem];
                const center = { x: canvas.width / 2, y: canvas.height / 2 };
                const radius = Math.min(canvas.width, canvas.height) * 0.4;
                
                // Создаем вершины
                const vertices = [];
                for (let i = 0; i < params.vertices; i++) {
                    const regularity = params.regularize * (1 - entropy / 100);
                    const theta = i * 2 * Math.PI / params.vertices + Math.random() * (1 - regularity);
                    const phi = Math.random() * Math.PI * (1 - regularity);
                    const r = radius * (0.8 + Math.random() * 0.4 * (1 - regularity));
                    
                    // Проекция n-мерных координат на 2D
                    const projection = projectFromND(theta, phi, r, dimensions, angle);
                    
                    vertices.push({
                        x: center.x + projection.x,
                        y: center.y + projection.y,
                        power: Math.random() * 0.7 + 0.3,
                        connected: []
                    });
                }
                
                // Создаем центр власти
                if (params.centerPower > 0.2) {
                    vertices.push({
                        x: center.x + (Math.random() * 2 - 1) * 20,
                        y: center.y + (Math.random() * 2 - 1) * 20,
                        power: params.centerPower,
                        isCenter: true,
                        connected: []
                    });
                }
                
                // Создаем связи между вершинами
                for (let i = 0; i < vertices.length; i++) {
                    const connectionsCount = Math.floor(Math.random() * 3) + 2;
                    for (let j = 0; j < connectionsCount; j++) {
                        let target;
                        do {
                            target = Math.floor(Math.random() * vertices.length);
                        } while (target === i || vertices[i].connected.includes(target));
                        
                        vertices[i].connected.push(target);
                    }
                }
                
                // Рисуем связи
                ctx.strokeStyle = '#0f0';
                ctx.lineWidth = 0.5;
                for (let i = 0; i < vertices.length; i++) {
                    for (const targetIdx of vertices[i].connected) {
                        ctx.beginPath();
                        ctx.moveTo(vertices[i].x, vertices[i].y);
                        ctx.lineTo(vertices[targetIdx].x, vertices[targetIdx].y);
                        ctx.stroke();
                    }
                }
                
                // Рисуем вершины
                for (let i = 0; i < vertices.length; i++) {
                    const v = vertices[i];
                    ctx.beginPath();
                    
                    // Размер зависит от власти
                    const size = v.isCenter ? 10 : 3 + v.power * 7;
                    
                    // Цвет зависит от типа и власти
                    if (v.isCenter) {
                        ctx.fillStyle = `rgba(255, 0, 0, ${v.power})`;
                    } else {
                        const green = Math.floor(255 * (1 - v.power));
                        ctx.fillStyle = `rgba(${Math.floor(v.power * 255)}, ${green}, 255, 0.8)`;
                    }
                    
                    ctx.arc(v.x, v.y, size, 0, Math.PI * 2);
                    ctx.fill();
                }
                
                // Рисуем границы системы
                ctx.strokeStyle = '#0f0';
                ctx.lineWidth = 1;
                ctx.beginPath();
                for (let i = 0; i < params.vertices; i++) {
                    const idx = i % vertices.length;
                    const nextIdx = (i + 1) % vertices.length;
                    if (i === 0) {
                        ctx.moveTo(vertices[idx].x, vertices[idx].y);
                    } else {
                        ctx.lineTo(vertices[idx].x, vertices[idx].y);
                    }
                }
                ctx.closePath();
                ctx.stroke();
            }
            
            // Проекция из n-мерного пространства
            function projectFromND(theta, phi, r, dimensions, angle) {
                // Упрощенная проекция, учитывающая дополнительные измерения
                let xFactor = 1.0, yFactor = 1.0;
                for (let d = 3; d < dimensions; d++) {
                    // Каждое измерение слегка меняет проекцию
                    xFactor *= Math.cos(angle + d * 0.1) * 0.98;
                    yFactor *= Math.sin(angle + d * 0.2) * 0.98;
                }
                
                return {
                    x: r * Math.sin(phi) * Math.cos(theta) * xFactor,
                    y: r * Math.sin(phi) * Math.sin(theta) * yFactor
                };
            }
            
            // Анимация вращения
            function animate() {
                angle += 0.01;
                drawSystem();
                requestAnimationFrame(animate);
            }
            
            // Генерация интерактивных точек власти
            function generatePowerVertices() {
                const powerMap = document.getElementById('powerMap');
                for (let i = 0; i < 15; i++) {
                    const vertex = document.createElement('div');
                    vertex.className = 'power-vertex';
                    vertex.style.left = `${Math.random() * 90 + 5}%`;
                    vertex.style.top = `${Math.random() * 80 + 10}%`;
                    vertex.style.backgroundColor = `rgba(${Math.random() * 255}, ${Math.random() * 255}, ${Math.random() * 255}, 0.8)`;
                    
                    vertex.addEventListener('click', function() {
                        // Эффект перераспределения власти
                        const vertices = document.querySelectorAll('.power-vertex');
                        vertices.forEach(v => {
                            if (v !== vertex) {
                                const dx = parseFloat(vertex.style.left) - parseFloat(v.style.left);
                                const dy = parseFloat(vertex.style.top) - parseFloat(v.style.top);
                                const distance = Math.sqrt(dx*dx + dy*dy);
                                
                                // Движение в зависимости от расстояния
                                const newLeft = parseFloat(v.style.left) - dx / distance * 10;
                                const newTop = parseFloat(v.style.top) - dy / distance * 10;
                                
                                v.style.left = `${Math.max(5, Math.min(95, newLeft))}%`;
                                v.style.top = `${Math.max(5, Math.min(95, newTop))}%`;
                            }
                        });
                    });
                    
                    powerMap.appendChild(vertex);
                }
            }
            
            // Инициализация
            drawSystem();
            animate();
            generatePowerVertices();
        });
    </script>
</body>
</html>
