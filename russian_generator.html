<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ä—É—Å—Å–∫–∏—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px;
        }
        h1 {
            color: #667eea;
            margin-bottom: 10px;
            text-align: center;
            font-size: 2em;
        }
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 0.9em;
        }
        .sentence-display {
            background: #f8f9fa;
            border-left: 5px solid #667eea;
            padding: 25px;
            margin: 30px 0;
            border-radius: 10px;
            min-height: 120px;
        }
        .sentence-text {
            font-size: 1.3em;
            line-height: 1.8;
            color: #333;
        }
        .controls {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
            margin-bottom: 30px;
        }
        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 1em;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            font-weight: 600;
        }
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        .info-panel {
            background: #e8f4f8;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }
        .info-panel h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.1em;
        }
        .grammar-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            font-size: 0.9em;
        }
        .grammar-item {
            background: white;
            padding: 12px;
            border-radius: 5px;
        }
        .grammar-item strong {
            color: #764ba2;
        }
        .stats {
            margin-top: 20px;
            padding: 20px;
            background: #f0f0f0;
            border-radius: 10px;
            font-size: 0.9em;
            line-height: 1.8;
        }
        .complexity-selector {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        .complexity-btn {
            padding: 8px 20px;
            font-size: 0.9em;
        }
        .complexity-btn.active {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üé≤ –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ä—É—Å—Å–∫–∏—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π</h1>
        <p class="subtitle">–° –ø—Ä–∏—á–∞—Å—Ç–∏—è–º–∏, –¥–µ–µ–ø—Ä–∏—á–∞—Å—Ç–∏—è–º–∏ –∏ –≤—Å–µ–º–∏ –≥—Ä–∞–º–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏</p>
        
        <div class="complexity-selector">
            <button class="complexity-btn active" onclick="setMode('template')">–®–∞–±–ª–æ–Ω–Ω—ã–π —Ä–µ–∂–∏–º</button>
            <button class="complexity-btn" onclick="setMode('compositional')">–ö–æ–º–ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–π —Ä–µ–∂–∏–º</button>
        </div>
        
        <div class="complexity-selector" id="templateComplexity">
            <button class="complexity-btn active" onclick="setComplexity('simple')">–ü—Ä–æ—Å—Ç—ã–µ</button>
            <button class="complexity-btn" onclick="setComplexity('medium')">–°—Ä–µ–¥–Ω–∏–µ</button>
            <button class="complexity-btn" onclick="setComplexity('complex')">–°–ª–æ–∂–Ω—ã–µ</button>
            <button class="complexity-btn" onclick="setComplexity('all')">–í—Å–µ —Ç–∏–ø—ã</button>
        </div>
        
        <div class="complexity-selector" id="composLevel" style="display: none;">
            <button class="complexity-btn" onclick="setComposComplexity(1)">–£—Ä–æ–≤–µ–Ω—å 1</button>
            <button class="complexity-btn" onclick="setComposComplexity(2)">–£—Ä–æ–≤–µ–Ω—å 2</button>
            <button class="complexity-btn" onclick="setComposComplexity(3)">–£—Ä–æ–≤–µ–Ω—å 3</button>
            <button class="complexity-btn" onclick="setComposComplexity(4)">–£—Ä–æ–≤–µ–Ω—å 4</button>
            <button class="complexity-btn active" onclick="setComposComplexity(5)">–£—Ä–æ–≤–µ–Ω—å 5</button>
        </div>
        
        <div class="controls">
            <button onclick="generateSentence()">–ù–æ–≤–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ</button>
            <button onclick="generateMultiple(5)">5 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π</button>
            <button onclick="generateMultiple(10)">10 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π</button>
            <button onclick="showStats()">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
        </div>
        
        <div class="sentence-display">
            <div class="sentence-text" id="sentenceOutput">
                –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
            </div>
        </div>
        
        <div class="info-panel" id="infoPanel" style="display: none;">
            <h3>–ú–æ—Ä—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑</h3>
            <div class="grammar-info" id="grammarInfo"></div>
        </div>
        
        <div class="stats" id="statsOutput" style="display: none;"></div>
    </div>

    <script>
        let currentComplexity = 'all';
        
        // ========== –£–¢–ò–õ–ò–¢–´ ==========
        function randomChoice(arr) {
            return arr[Math.floor(Math.random() * arr.length)];
        }
        function capitalize(str) {
            return str.charAt(0).toUpperCase() + str.slice(1);
        }
        function chance(probability) {
            return Math.random() < probability;
        }
        
        // ========== –¢–ê–ë–õ–ò–¶–´ –û–ö–û–ù–ß–ê–ù–ò–ô –°–£–©–ï–°–¢–í–ò–¢–ï–õ–¨–ù–´–• ==========
        const NOUN_ENDINGS = {
            1: { // —Ç–≤—ë—Ä–¥–∞—è –æ—Å–Ω–æ–≤–∞ (–∫–Ω–∏–≥–∞)
                SG: { NOM: '–∞', GEN: '—ã', DAT: '–µ', ACC: '—É', INS: '–æ–π', PRE: '–µ' },
                PL: { NOM: '—ã', GEN: '', DAT: '–∞–º', ACC: '—ã', INS: '–∞–º–∏', PRE: '–∞—Ö' }
            },
            '1sh': { // –ø–æ—Å–ª–µ —à–∏–ø—è—â–∏—Ö –∏ —Ü (–∫–æ—à–∫–∞, –¥—É—à–∞)
                SG: { NOM: '–∞', GEN: '–∏', DAT: '–µ', ACC: '—É', INS: '–æ–π', PRE: '–µ' },
                PL: { NOM: '–∏', GEN: '', DAT: '–∞–º', ACC: '–∏', INS: '–∞–º–∏', PRE: '–∞—Ö' }
            },
            '1s': { // –º—è–≥–∫–∞—è –æ—Å–Ω–æ–≤–∞ (–∑–µ–º–ª—è)
                SG: { NOM: '—è', GEN: '–∏', DAT: '–µ', ACC: '—é', INS: '–µ–π', PRE: '–µ' },
                PL: { NOM: '–∏', GEN: '—å', DAT: '—è–º', ACC: '–∏', INS: '—è–º–∏', PRE: '—è—Ö' }
            },
            '1ia': { // –Ω–∞ -–∏—è (–ª–∏–Ω–∏—è)
                SG: { NOM: '—è', GEN: '–∏–∏', DAT: '–∏–∏', ACC: '—é', INS: '–∏–µ–π', PRE: '–∏–∏' },
                PL: { NOM: '–∏–∏', GEN: '–∏–π', DAT: '–∏—è–º', ACC: '–∏–∏', INS: '–∏—è–º–∏', PRE: '–∏—è—Ö' }
            },
            2: { // –º—É–∂.—Ä–æ–¥ —Ç–≤—ë—Ä–¥–∞—è (–¥–æ–º, —Å—Ç–æ–ª)
                SG: { NOM: '', GEN: '–∞', DAT: '—É', ACC: '', INS: '–æ–º', PRE: '–µ' },
                PL: { NOM: '—ã', GEN: '–æ–≤', DAT: '–∞–º', ACC: '—ã', INS: '–∞–º–∏', PRE: '–∞—Ö' }
            },
            '2sh': { // –º—É–∂.—Ä–æ–¥ –ø–æ—Å–ª–µ —à–∏–ø—è—â–∏—Ö (–Ω–æ–∂, –º–µ—á)
                SG: { NOM: '', GEN: '–∞', DAT: '—É', ACC: '', INS: '–æ–º', PRE: '–µ' },
                PL: { NOM: '–∏', GEN: '–µ–π', DAT: '–∞–º', ACC: '–∏', INS: '–∞–º–∏', PRE: '–∞—Ö' }
            },
            '2s': { // –º—É–∂.—Ä–æ–¥ –º—è–≥–∫–∞—è –Ω–∞ -—å (–∫–æ–Ω—å, –∑–≤–µ—Ä—å)
                SG: { NOM: '—å', GEN: '—è', DAT: '—é', ACC: '—å', INS: '—ë–º', PRE: '–µ' },
                PL: { NOM: '–∏', GEN: '–µ–π', DAT: '—è–º', ACC: '–∏', INS: '—è–º–∏', PRE: '—è—Ö' }
            },
            '2j': { // –Ω–∞ -–π (–≥–µ—Ä–æ–π)
                SG: { NOM: '–π', GEN: '—è', DAT: '—é', ACC: '–π', INS: '–µ–º', PRE: '–µ' },
                PL: { NOM: '–∏', GEN: '–µ–≤', DAT: '—è–º', ACC: '–∏', INS: '—è–º–∏', PRE: '—è—Ö' }
            },
            '2sp': { // –ø—É—Ç—å (–æ—Å–æ–±–æ–µ)
                SG: { NOM: '—å', GEN: '–∏', DAT: '–∏', ACC: '—å', INS: '—ë–º', PRE: '–∏' },
                PL: { NOM: '–∏', GEN: '–µ–π', DAT: '—è–º', ACC: '–∏', INS: '—è–º–∏', PRE: '—è—Ö' }
            },
            '2ya': { // –¥—Ä—É–≥‚Üí–¥—Ä—É–∑—å—è, –±—Ä–∞—Ç‚Üí–±—Ä–∞—Ç—å—è (–æ—Å–æ–±–æ–µ —Å -—å—è)
                SG: { NOM: '', GEN: '–∞', DAT: '—É', ACC: '', INS: '–æ–º', PRE: '–µ' },
                PL: { NOM: '—è', GEN: '–µ–π', DAT: '—è–º', ACC: '–µ–π', INS: '—è–º–∏', PRE: '—è—Ö' }
            },
            '2n': { // —Å—Ä.—Ä–æ–¥ —Ç–≤—ë—Ä–¥–æ–µ (–æ–∫–Ω–æ, —Å–µ–ª–æ)
                SG: { NOM: '–æ', GEN: '–∞', DAT: '—É', ACC: '–æ', INS: '–æ–º', PRE: '–µ' },
                PL: { NOM: '–∞', GEN: '', DAT: '–∞–º', ACC: '–∞', INS: '–∞–º–∏', PRE: '–∞—Ö' }
            },
            '2nsh': { // —Å—Ä.—Ä–æ–¥ –ø–æ—Å–ª–µ —à–∏–ø—è—â–∏—Ö (–ø–ª–µ—á–æ)
                SG: { NOM: '–æ', GEN: '–∞', DAT: '—É', ACC: '–æ', INS: '–æ–º', PRE: '–µ' },
                PL: { NOM: '–∏', GEN: '–µ–π', DAT: '–∞–º', ACC: '–∏', INS: '–∞–º–∏', PRE: '–∞—Ö' }
            },
            '2ns': { // —Å—Ä.—Ä–æ–¥ –º—è–≥–∫–æ–µ (–ø–æ–ª–µ, –º–æ—Ä–µ)
                SG: { NOM: '–µ', GEN: '—è', DAT: '—é', ACC: '–µ', INS: '–µ–º', PRE: '–µ' },
                PL: { NOM: '—è', GEN: '–µ–π', DAT: '—è–º', ACC: '—è', INS: '—è–º–∏', PRE: '—è—Ö' }
            },
            '2nie': { // —Å—Ä.—Ä–æ–¥ –Ω–∞ -–∏–µ (–∑–¥–∞–Ω–∏–µ)
                SG: { NOM: '–µ', GEN: '—è', DAT: '—é', ACC: '–µ', INS: '–µ–º', PRE: '–∏' },
                PL: { NOM: '—è', GEN: '–π', DAT: '—è–º', ACC: '—è', INS: '—è–º–∏', PRE: '—è—Ö' }
            },
            'mya': { // –Ω–∞ -–º—è (–≤—Ä–µ–º—è, –∏–º—è)
                SG: { NOM: '—è', GEN: '–µ–Ω–∏', DAT: '–µ–Ω–∏', ACC: '—è', INS: '–µ–Ω–µ–º', PRE: '–µ–Ω–∏' },
                PL: { NOM: '–µ–Ω–∞', GEN: '—ë–Ω', DAT: '–µ–Ω–∞–º', ACC: '–µ–Ω–∞', INS: '–µ–Ω–∞–º–∏', PRE: '–µ–Ω–∞—Ö' }
            },
            3: { // 3 —Å–∫–ª–æ–Ω–µ–Ω–∏–µ (–Ω–æ—á—å, —Ç–µ–Ω—å)
                SG: { NOM: '—å', GEN: '–∏', DAT: '–∏', ACC: '—å', INS: '—å—é', PRE: '–∏' },
                PL: { NOM: '–∏', GEN: '–µ–π', DAT: '—è–º', ACC: '–∏', INS: '—è–º–∏', PRE: '—è—Ö' }
            },
            '3sp': { // –º–∞—Ç—å, –¥–æ—á—å (–æ—Å–æ–±–æ–µ)
                SG: { NOM: '—å', GEN: '–µ—Ä–∏', DAT: '–µ—Ä–∏', ACC: '—å', INS: '–µ—Ä—å—é', PRE: '–µ—Ä–∏' },
                PL: { NOM: '–µ—Ä–∏', GEN: '–µ—Ä–µ–π', DAT: '–µ—Ä—è–º', ACC: '–µ—Ä–µ–π', INS: '–µ—Ä—è–º–∏', PRE: '–µ—Ä—è—Ö' }
            }
        };
        
        // ========== –¢–ê–ë–õ–ò–¶–´ –û–ö–û–ù–ß–ê–ù–ò–ô –ü–†–ò–õ–ê–ì–ê–¢–ï–õ–¨–ù–´–• ==========
        const ADJ_ENDINGS = {
            hard: {
                M: { 
                    SG: { NOM: '—ã–π', GEN: '–æ–≥–æ', DAT: '–æ–º—É', ACC_INAN: '—ã–π', ACC_ANIM: '–æ–≥–æ', INS: '—ã–º', PRE: '–æ–º' },
                    PL: { NOM: '—ã–µ', GEN: '—ã—Ö', DAT: '—ã–º', ACC_INAN: '—ã–µ', ACC_ANIM: '—ã—Ö', INS: '—ã–º–∏', PRE: '—ã—Ö' }
                },
                F: { 
                    SG: { NOM: '–∞—è', GEN: '–æ–π', DAT: '–æ–π', ACC: '—É—é', INS: '–æ–π', PRE: '–æ–π' },
                    PL: { NOM: '—ã–µ', GEN: '—ã—Ö', DAT: '—ã–º', ACC: '—ã–µ', INS: '—ã–º–∏', PRE: '—ã—Ö' }
                },
                N: { 
                    SG: { NOM: '–æ–µ', GEN: '–æ–≥–æ', DAT: '–æ–º—É', ACC: '–æ–µ', INS: '—ã–º', PRE: '–æ–º' },
                    PL: { NOM: '—ã–µ', GEN: '—ã—Ö', DAT: '—ã–º', ACC: '—ã–µ', INS: '—ã–º–∏', PRE: '—ã—Ö' }
                }
            },
            sibilant: { // –ø–æ—Å–ª–µ —à–∏–ø—è—â–∏—Ö (–∂, —à, —á, —â) - –±–æ–ª—å—à–æ–π, —Ö–æ—Ä–æ—à–∏–π
                M: { 
                    SG: { NOM: '–æ–π', GEN: '–æ–≥–æ', DAT: '–æ–º—É', ACC_INAN: '–æ–π', ACC_ANIM: '–æ–≥–æ', INS: '–∏–º', PRE: '–æ–º' },
                    PL: { NOM: '–∏–µ', GEN: '–∏—Ö', DAT: '–∏–º', ACC_INAN: '–∏–µ', ACC_ANIM: '–∏—Ö', INS: '–∏–º–∏', PRE: '–∏—Ö' }
                },
                F: { 
                    SG: { NOM: '–∞—è', GEN: '–æ–π', DAT: '–æ–π', ACC: '—É—é', INS: '–æ–π', PRE: '–æ–π' },
                    PL: { NOM: '–∏–µ', GEN: '–∏—Ö', DAT: '–∏–º', ACC: '–∏–µ', INS: '–∏–º–∏', PRE: '–∏—Ö' }
                },
                N: { 
                    SG: { NOM: '–æ–µ', GEN: '–æ–≥–æ', DAT: '–æ–º—É', ACC: '–æ–µ', INS: '–∏–º', PRE: '–æ–º' },
                    PL: { NOM: '–∏–µ', GEN: '–∏—Ö', DAT: '–∏–º', ACC: '–∏–µ', INS: '–∏–º–∏', PRE: '–∏—Ö' }
                }
            },
            soft: {
                M: { 
                    SG: { NOM: '–∏–π', GEN: '–µ–≥–æ', DAT: '–µ–º—É', ACC_INAN: '–∏–π', ACC_ANIM: '–µ–≥–æ', INS: '–∏–º', PRE: '–µ–º' },
                    PL: { NOM: '–∏–µ', GEN: '–∏—Ö', DAT: '–∏–º', ACC_INAN: '–∏–µ', ACC_ANIM: '–∏—Ö', INS: '–∏–º–∏', PRE: '–∏—Ö' }
                },
                F: { 
                    SG: { NOM: '—è—è', GEN: '–µ–π', DAT: '–µ–π', ACC: '—é—é', INS: '–µ–π', PRE: '–µ–π' },
                    PL: { NOM: '–∏–µ', GEN: '–∏—Ö', DAT: '–∏–º', ACC: '–∏–µ', INS: '–∏–º–∏', PRE: '–∏—Ö' }
                },
                N: { 
                    SG: { NOM: '–µ–µ', GEN: '–µ–≥–æ', DAT: '–µ–º—É', ACC: '–µ–µ', INS: '–∏–º', PRE: '–µ–º' },
                    PL: { NOM: '–∏–µ', GEN: '–∏—Ö', DAT: '–∏–º', ACC: '–∏–µ', INS: '–∏–º–∏', PRE: '–∏—Ö' }
                }
            }
        };
        
        // ========== –¢–ê–ë–õ–ò–¶–´ –û–ö–û–ù–ß–ê–ù–ò–ô –ü–†–ò–ß–ê–°–¢–ò–ô ==========
        const PARTICIPLE_ENDINGS = {
            // –î–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∏—á–∞—Å—Ç–∏—è –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ (-—É—â/-—é—â, -–∞—â/-—è—â)
            ACT_PRES: {
                M: { 
                    SG: { NOM: '–∏–π', GEN: '–µ–≥–æ', DAT: '–µ–º—É', ACC_INAN: '–∏–π', ACC_ANIM: '–µ–≥–æ', INS: '–∏–º', PRE: '–µ–º' },
                    PL: { NOM: '–∏–µ', GEN: '–∏—Ö', DAT: '–∏–º', ACC_INAN: '–∏–µ', ACC_ANIM: '–∏—Ö', INS: '–∏–º–∏', PRE: '–∏—Ö' }
                },
                F: { 
                    SG: { NOM: '–∞—è', GEN: '–µ–π', DAT: '–µ–π', ACC: '—É—é', INS: '–µ–π', PRE: '–µ–π' },
                    PL: { NOM: '–∏–µ', GEN: '–∏—Ö', DAT: '–∏–º', ACC: '–∏–µ', INS: '–∏–º–∏', PRE: '–∏—Ö' }
                },
                N: { 
                    SG: { NOM: '–µ–µ', GEN: '–µ–≥–æ', DAT: '–µ–º—É', ACC: '–µ–µ', INS: '–∏–º', PRE: '–µ–º' },
                    PL: { NOM: '–∏–µ', GEN: '–∏—Ö', DAT: '–∏–º', ACC: '–∏–µ', INS: '–∏–º–∏', PRE: '–∏—Ö' }
                }
            },
            // –î–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∏—á–∞—Å—Ç–∏—è –ø—Ä–æ—à–µ–¥—à–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ (-–≤—à, -—à)
            ACT_PAST: {
                M: { 
                    SG: { NOM: '–∏–π', GEN: '–µ–≥–æ', DAT: '–µ–º—É', ACC_INAN: '–∏–π', ACC_ANIM: '–µ–≥–æ', INS: '–∏–º', PRE: '–µ–º' },
                    PL: { NOM: '–∏–µ', GEN: '–∏—Ö', DAT: '–∏–º', ACC_INAN: '–∏–µ', ACC_ANIM: '–∏—Ö', INS: '–∏–º–∏', PRE: '–∏—Ö' }
                },
                F: { 
                    SG: { NOM: '–∞—è', GEN: '–µ–π', DAT: '–µ–π', ACC: '—É—é', INS: '–µ–π', PRE: '–µ–π' },
                    PL: { NOM: '–∏–µ', GEN: '–∏—Ö', DAT: '–∏–º', ACC: '–∏–µ', INS: '–∏–º–∏', PRE: '–∏—Ö' }
                },
                N: { 
                    SG: { NOM: '–µ–µ', GEN: '–µ–≥–æ', DAT: '–µ–º—É', ACC: '–µ–µ', INS: '–∏–º', PRE: '–µ–º' },
                    PL: { NOM: '–∏–µ', GEN: '–∏—Ö', DAT: '–∏–º', ACC: '–∏–µ', INS: '–∏–º–∏', PRE: '–∏—Ö' }
                }
            },
            // –°—Ç—Ä–∞–¥–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∏—á–∞—Å—Ç–∏—è –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ (-–µ–º, -–∏–º)
            PASS_PRES: {
                M: { 
                    SG: { NOM: '—ã–π', GEN: '–æ–≥–æ', DAT: '–æ–º—É', ACC_INAN: '—ã–π', ACC_ANIM: '–æ–≥–æ', INS: '—ã–º', PRE: '–æ–º' },
                    PL: { NOM: '—ã–µ', GEN: '—ã—Ö', DAT: '—ã–º', ACC_INAN: '—ã–µ', ACC_ANIM: '—ã—Ö', INS: '—ã–º–∏', PRE: '—ã—Ö' }
                },
                F: { 
                    SG: { NOM: '–∞—è', GEN: '–æ–π', DAT: '–æ–π', ACC: '—É—é', INS: '–æ–π', PRE: '–æ–π' },
                    PL: { NOM: '—ã–µ', GEN: '—ã—Ö', DAT: '—ã–º', ACC: '—ã–µ', INS: '—ã–º–∏', PRE: '—ã—Ö' }
                },
                N: { 
                    SG: { NOM: '–æ–µ', GEN: '–æ–≥–æ', DAT: '–æ–º—É', ACC: '–æ–µ', INS: '—ã–º', PRE: '–æ–º' },
                    PL: { NOM: '—ã–µ', GEN: '—ã—Ö', DAT: '—ã–º', ACC: '—ã–µ', INS: '—ã–º–∏', PRE: '—ã—Ö' }
                }
            },
            // –°—Ç—Ä–∞–¥–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∏—á–∞—Å—Ç–∏—è –ø—Ä–æ—à–µ–¥—à–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ (-–Ω–Ω, -—Ç)
            PASS_PAST: {
                M: { 
                    SG: { NOM: '—ã–π', GEN: '–æ–≥–æ', DAT: '–æ–º—É', ACC_INAN: '—ã–π', ACC_ANIM: '–æ–≥–æ', INS: '—ã–º', PRE: '–æ–º' },
                    PL: { NOM: '—ã–µ', GEN: '—ã—Ö', DAT: '—ã–º', ACC_INAN: '—ã–µ', ACC_ANIM: '—ã—Ö', INS: '—ã–º–∏', PRE: '—ã—Ö' }
                },
                F: { 
                    SG: { NOM: '–∞—è', GEN: '–æ–π', DAT: '–æ–π', ACC: '—É—é', INS: '–æ–π', PRE: '–æ–π' },
                    PL: { NOM: '—ã–µ', GEN: '—ã—Ö', DAT: '—ã–º', ACC: '—ã–µ', INS: '—ã–º–∏', PRE: '—ã—Ö' }
                },
                N: { 
                    SG: { NOM: '–æ–µ', GEN: '–æ–≥–æ', DAT: '–æ–º—É', ACC: '–æ–µ', INS: '—ã–º', PRE: '–æ–º' },
                    PL: { NOM: '—ã–µ', GEN: '—ã—Ö', DAT: '—ã–º', ACC: '—ã–µ', INS: '—ã–º–∏', PRE: '—ã—Ö' }
                }
            }
        };
        
        // ========== –û–ö–û–ù–ß–ê–ù–ò–Ø –ì–õ–ê–ì–û–õ–û–í ==========
        const VERB_ENDINGS = {
            1: { PRES: { SG: ['—é', '–µ—à—å', '–µ—Ç'], PL: ['–µ–º', '–µ—Ç–µ', '—é—Ç'] } },
            2: { PRES: { SG: ['—é', '–∏—à—å', '–∏—Ç'], PL: ['–∏–º', '–∏—Ç–µ', '—è—Ç'] } },
            PAST: { SG: { M: '–ª', F: '–ª–∞', N: '–ª–æ' }, PL: '–ª–∏' },
            IMPER: { SG: '–∏', PL: '–∏—Ç–µ' } // —É–ø—Ä–æ—â—ë–Ω–Ω–æ
        };
        
        // ========== –°–õ–û–í–ê–†–¨ –°–£–©–ï–°–¢–í–ò–¢–ï–õ–¨–ù–´–• (–° –ü–†–ê–í–ò–õ–¨–ù–´–ú–ò –û–°–ù–û–í–ê–ú–ò) ==========
        const NOUNS = [
            // –ü—Ä–∏—Ä–æ–¥–∞ –∏ –∫–æ—Å–º–æ—Å
            {lemma:'–∑–≤–µ–∑–¥–∞',stem:'–∑–≤–µ–∑–¥',decl:1,gender:'F',anim:false,semantic:'nature'},
            {lemma:'–ª—É–Ω–∞',stem:'–ª—É–Ω',decl:1,gender:'F',anim:false,semantic:'nature'},
            {lemma:'–∑–µ–º–ª—è',stem:'–∑–µ–º–ª',decl:'1s',gender:'F',anim:false,semantic:'nature'},
            {lemma:'—Ä–µ–∫–∞',stem:'—Ä–µ–∫',decl:1,gender:'F',anim:false,semantic:'nature'},
            {lemma:'–≥–æ—Ä–∞',stem:'–≥–æ—Ä',decl:1,gender:'F',anim:false,semantic:'nature'},
            {lemma:'–º–æ—Ä–µ',stem:'–º–æ—Ä',decl:'2ns',gender:'N',anim:false,semantic:'nature'},
            {lemma:'–ø–æ–ª–µ',stem:'–ø–æ–ª',decl:'2ns',gender:'N',anim:false,semantic:'nature'},
            {lemma:'–ª–µ—Å',stem:'–ª–µ—Å',decl:2,gender:'M',anim:false,semantic:'nature'},
            {lemma:'–¥–µ—Ä–µ–≤–æ',stem:'–¥–µ—Ä–µ–≤',decl:'2n',gender:'N',anim:false,semantic:'nature'},
            {lemma:'–Ω–µ–±–æ',stem:'–Ω–µ–±',nomPlStem:'–Ω–µ–±–µ—Å',decl:'2n',gender:'N',anim:false,semantic:'nature'},
            {lemma:'—Å–æ–ª–Ω—Ü–µ',stem:'—Å–æ–ª–Ω—Ü',decl:'2ns',gender:'N',anim:false,semantic:'nature'},
            {lemma:'–≤–µ—Ç–µ—Ä',stem:'–≤–µ—Ç–µ—Ä',oblStem:'–≤–µ—Ç—Ä',decl:2,gender:'M',anim:false,semantic:'nature'},
            {lemma:'–æ–≥–æ–Ω—å',stem:'–æ–≥–æ–Ω',oblStem:'–æ–≥–Ω',decl:'2s',gender:'M',anim:false,semantic:'nature'},
            {lemma:'–≤–æ–¥–∞',stem:'–≤–æ–¥',decl:1,gender:'F',anim:false,semantic:'nature'},
            {lemma:'–∫–∞–º–µ–Ω—å',stem:'–∫–∞–º–µ–Ω',oblStem:'–∫–∞–º–Ω',decl:'2s',gender:'M',anim:false,semantic:'nature'},
            
            // –õ—é–¥–∏ –∏ –æ—Ç–Ω–æ—à–µ–Ω–∏—è
            {lemma:'—á–µ–ª–æ–≤–µ–∫',stem:'—á–µ–ª–æ–≤–µ–∫',nomPlStem:'–ª—é–¥',decl:2,gender:'M',anim:true,semantic:'person'},
            {lemma:'–¥—Ä—É–≥',stem:'–¥—Ä—É–≥',nomPlStem:'–¥—Ä—É–∑—å',oblPlStem:'–¥—Ä—É–∑',decl:'2ya',gender:'M',anim:true,semantic:'person'},
            {lemma:'–±—Ä–∞—Ç',stem:'–±—Ä–∞—Ç',nomPlStem:'–±—Ä–∞—Ç—å',oblPlStem:'–±—Ä–∞—Ç',decl:'2ya',gender:'M',anim:true,semantic:'person'},
            {lemma:'—Å–µ—Å—Ç—Ä–∞',stem:'—Å–µ—Å—Ç—Ä',decl:1,gender:'F',anim:true,semantic:'person'},
            {lemma:'–º–∞—Ç—å',stem:'–º–∞—Ç',decl:'3sp',gender:'F',anim:true,semantic:'person'},
            {lemma:'–¥–æ—á—å',stem:'–¥–æ—á',decl:'3sp',gender:'F',anim:true,semantic:'person'},
            {lemma:'–æ—Ç–µ—Ü',stem:'–æ—Ç–µ—Ü',oblStem:'–æ—Ç—Ü',decl:2,gender:'M',anim:true,semantic:'person'},
            {lemma:'—Å—ã–Ω',stem:'—Å—ã–Ω',nomPlStem:'—Å—ã–Ω–æ–≤—å',oblPlStem:'—Å—ã–Ω–æ–≤',decl:'2ya',gender:'M',anim:true,semantic:'person'},
            {lemma:'—É—á–∏—Ç–µ–ª—å',stem:'—É—á–∏—Ç–µ–ª',decl:'2s',gender:'M',anim:true,semantic:'person'},
            {lemma:'–ø–∏—Å–∞—Ç–µ–ª—å',stem:'–ø–∏—Å–∞—Ç–µ–ª',decl:'2s',gender:'M',anim:true,semantic:'person'},
            {lemma:'—Ö—É–¥–æ–∂–Ω–∏–∫',stem:'—Ö—É–¥–æ–∂–Ω–∏–∫',decl:2,gender:'M',anim:true,semantic:'person'},
            {lemma:'–≤–æ–∏–Ω',stem:'–≤–æ–∏–Ω',decl:2,gender:'M',anim:true,semantic:'person'},
            {lemma:'–≥–µ—Ä–æ–π',stem:'–≥–µ—Ä–æ',decl:'2j',gender:'M',anim:true,semantic:'person'},
            {lemma:'—Ü–∞—Ä—å',stem:'—Ü–∞—Ä',decl:'2s',gender:'M',anim:true,semantic:'person'},
            {lemma:'–∫–Ω—è–∑—å',stem:'–∫–Ω—è–∑',decl:'2s',gender:'M',anim:true,semantic:'person'},
            {lemma:'–º—É–¥—Ä–µ—Ü',stem:'–º—É–¥—Ä–µ—Ü',oblStem:'–º—É–¥—Ä–µ—Ü',decl:2,gender:'M',anim:true,semantic:'person'},
            {lemma:'—Å—Ç—Ä–∞–Ω–Ω–∏–∫',stem:'—Å—Ç—Ä–∞–Ω–Ω–∏–∫',decl:2,gender:'M',anim:true,semantic:'person'},
            
            // –ñ–∏–≤–æ—Ç–Ω—ã–µ
            {lemma:'–∫–æ–Ω—å',stem:'–∫–æ–Ω',decl:'2s',gender:'M',anim:true,semantic:'animal'},
            {lemma:'–ø—Ç–∏—Ü–∞',stem:'–ø—Ç–∏—Ü',decl:1,gender:'F',anim:true,semantic:'animal'},
            {lemma:'–∫–æ—à–∫–∞',stem:'–∫–æ—à–∫',decl:'1sh',gender:'F',anim:true,semantic:'animal'},
            {lemma:'–∑–≤–µ—Ä—å',stem:'–∑–≤–µ—Ä',decl:'2s',gender:'M',anim:true,semantic:'animal'},
            {lemma:'–≤–æ–ª–∫',stem:'–≤–æ–ª–∫',decl:2,gender:'M',anim:true,semantic:'animal'},
            {lemma:'–º–µ–¥–≤–µ–¥—å',stem:'–º–µ–¥–≤–µ–¥',decl:'2s',gender:'M',anim:true,semantic:'animal'},
            {lemma:'–≤–æ—Ä–æ–Ω',stem:'–≤–æ—Ä–æ–Ω',decl:2,gender:'M',anim:true,semantic:'animal'},
            {lemma:'–æ—Ä—ë–ª',stem:'–æ—Ä—ë–ª',oblStem:'–æ—Ä–ª',decl:2,gender:'M',anim:true,semantic:'animal'},
            
            // –ü–æ—Å—Ç—Ä–æ–π–∫–∏ –∏ –º–µ—Å—Ç–∞
            {lemma:'–¥–æ–º',stem:'–¥–æ–º',decl:2,gender:'M',anim:false,semantic:'place'},
            {lemma:'–≥–æ—Ä–æ–¥',stem:'–≥–æ—Ä–æ–¥',decl:2,gender:'M',anim:false,semantic:'place'},
            {lemma:'—Å–µ–ª–æ',stem:'—Å–µ–ª',decl:'2n',gender:'N',anim:false,semantic:'place'},
            {lemma:'—Ö—Ä–∞–º',stem:'—Ö—Ä–∞–º',decl:2,gender:'M',anim:false,semantic:'place'},
            {lemma:'–±–∞—à–Ω—è',stem:'–±–∞—à–Ω',decl:'1s',gender:'F',anim:false,semantic:'place'},
            {lemma:'–∫—Ä–µ–ø–æ—Å—Ç—å',stem:'–∫—Ä–µ–ø–æ—Å—Ç',decl:3,gender:'F',anim:false,semantic:'place'},
            {lemma:'—Å—Ç–µ–Ω–∞',stem:'—Å—Ç–µ–Ω',decl:1,gender:'F',anim:false,semantic:'place'},
            {lemma:'–ø—É—Ç—å',stem:'–ø—É—Ç',decl:'2sp',gender:'M',anim:false,semantic:'place'},
            {lemma:'–¥–æ—Ä–æ–≥–∞',stem:'–¥–æ—Ä–æ–≥',decl:1,gender:'F',anim:false,semantic:'place'},
            
            // –ü—Ä–µ–¥–º–µ—Ç—ã
            {lemma:'–∫–Ω–∏–≥–∞',stem:'–∫–Ω–∏–≥',decl:1,gender:'F',anim:false,semantic:'object'},
            {lemma:'–º–µ—á',stem:'–º–µ—á',decl:2,gender:'M',anim:false,semantic:'object'},
            {lemma:'—â–∏—Ç',stem:'—â–∏—Ç',decl:2,gender:'M',anim:false,semantic:'object'},
            {lemma:'—Å—Ç–æ–ª',stem:'—Å—Ç–æ–ª',decl:2,gender:'M',anim:false,semantic:'object'},
            {lemma:'–æ–∫–Ω–æ',stem:'–æ–∫–Ω',decl:'2n',gender:'N',anim:false,semantic:'object'},
            {lemma:'–∑–µ—Ä–∫–∞–ª–æ',stem:'–∑–µ—Ä–∫–∞–ª',decl:'2n',gender:'N',anim:false,semantic:'object'},
            {lemma:'—á–∞—à–∞',stem:'—á–∞—à',decl:'1sh',gender:'F',anim:false,semantic:'object'},
            {lemma:'–∫–æ—Ä–æ–Ω–∞',stem:'–∫–æ—Ä–æ–Ω',decl:1,gender:'F',anim:false,semantic:'object'},
            
            // –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–µ
            {lemma:'–º—ã—Å–ª—å',stem:'–º—ã—Å–ª',decl:3,gender:'F',anim:false,semantic:'abstract'},
            {lemma:'–¥—É—à–∞',stem:'–¥—É—à',decl:'1sh',gender:'F',anim:false,semantic:'abstract'},
            {lemma:'–ª—é–±–æ–≤—å',stem:'–ª—é–±–æ–≤',decl:3,gender:'F',anim:false,semantic:'abstract'},
            {lemma:'–º—É–¥—Ä–æ—Å—Ç—å',stem:'–º—É–¥—Ä–æ—Å—Ç',decl:3,gender:'F',anim:false,semantic:'abstract'},
            {lemma:'—Ä–∞–¥–æ—Å—Ç—å',stem:'—Ä–∞–¥–æ—Å—Ç',decl:3,gender:'F',anim:false,semantic:'abstract'},
            {lemma:'–ø–µ—á–∞–ª—å',stem:'–ø–µ—á–∞–ª',decl:3,gender:'F',anim:false,semantic:'abstract'},
            {lemma:'–∂–∏–∑–Ω—å',stem:'–∂–∏–∑–Ω',decl:3,gender:'F',anim:false,semantic:'abstract'},
            {lemma:'—Å–º–µ—Ä—Ç—å',stem:'—Å–º–µ—Ä—Ç',decl:3,gender:'F',anim:false,semantic:'abstract'},
            {lemma:'–≤–ª–∞—Å—Ç—å',stem:'–≤–ª–∞—Å—Ç',decl:3,gender:'F',anim:false,semantic:'abstract'},
            {lemma:'—á–µ—Å—Ç—å',stem:'—á–µ—Å—Ç',decl:3,gender:'F',anim:false,semantic:'abstract'},
            {lemma:'—Å–ª–∞–≤–∞',stem:'—Å–ª–∞–≤',decl:1,gender:'F',anim:false,semantic:'abstract'},
            {lemma:'–ø—Ä–∞–≤–¥–∞',stem:'–ø—Ä–∞–≤–¥',decl:1,gender:'F',anim:false,semantic:'abstract'},
            {lemma:'–º–µ—á—Ç–∞',stem:'–º–µ—á—Ç',decl:1,gender:'F',anim:false,semantic:'abstract'},
            {lemma:'—Ç–∞–π–Ω–∞',stem:'—Ç–∞–π–Ω',decl:1,gender:'F',anim:false,semantic:'abstract'},
            {lemma:'—Å—É–¥—å–±–∞',stem:'—Å—É–¥—å–±',decl:1,gender:'F',anim:false,semantic:'abstract'},
            {lemma:'–≤–æ–π–Ω–∞',stem:'–≤–æ–π–Ω',decl:1,gender:'F',anim:false,semantic:'abstract'},
            {lemma:'–ø–æ–±–µ–¥–∞',stem:'–ø–æ–±–µ–¥',decl:1,gender:'F',anim:false,semantic:'abstract'},
            {lemma:'—Å–ª–æ–≤–æ',stem:'—Å–ª–æ–≤',decl:'2n',gender:'N',anim:false,semantic:'abstract'},
            {lemma:'–¥–µ–ª–æ',stem:'–¥–µ–ª',decl:'2n',gender:'N',anim:false,semantic:'abstract'},
            {lemma:'–∑–ª–æ',stem:'–∑–ª',decl:'2n',gender:'N',anim:false,semantic:'abstract'},
            {lemma:'–¥–æ–±—Ä–æ',stem:'–¥–æ–±—Ä',decl:'2n',gender:'N',anim:false,semantic:'abstract'},
            {lemma:'—á—É–¥–æ',stem:'—á—É–¥',nomPlStem:'—á—É–¥–µ—Å',decl:'2n',gender:'N',anim:false,semantic:'abstract'},
            
            // –í—Ä–µ–º—è
            {lemma:'–¥–µ–Ω—å',stem:'–¥–µ–Ω',oblStem:'–¥–Ω',decl:'2s',gender:'M',anim:false,semantic:'time'},
            {lemma:'–Ω–æ—á—å',stem:'–Ω–æ—á',decl:3,gender:'F',anim:false,semantic:'time'},
            {lemma:'–≤—Ä–µ–º—è',stem:'–≤—Ä–µ–º',decl:'mya',gender:'N',anim:false,semantic:'time'},
            {lemma:'—á–∞—Å',stem:'—á–∞—Å',decl:2,gender:'M',anim:false,semantic:'time'},
            {lemma:'–≥–æ–¥',stem:'–≥–æ–¥',decl:2,gender:'M',anim:false,semantic:'time'},
            {lemma:'–≤–µ–∫',stem:'–≤–µ–∫',decl:2,gender:'M',anim:false,semantic:'time'},
            
            // –ß–∞—Å—Ç–∏ —Ç–µ–ª–∞ –∏ –æ—Ä–≥–∞–Ω—ã —á—É–≤—Å—Ç–≤
            {lemma:'—Ä—É–∫–∞',stem:'—Ä—É–∫',decl:1,gender:'F',anim:false,semantic:'body'},
            {lemma:'–Ω–æ–≥–∞',stem:'–Ω–æ–≥',decl:1,gender:'F',anim:false,semantic:'body'},
            {lemma:'–≥–æ–ª–æ–≤–∞',stem:'–≥–æ–ª–æ–≤',decl:1,gender:'F',anim:false,semantic:'body'},
            {lemma:'–≥–ª–∞–∑',stem:'–≥–ª–∞–∑',decl:2,gender:'M',anim:false,semantic:'body'},
            {lemma:'—Å–µ—Ä–¥—Ü–µ',stem:'—Å–µ—Ä–¥—Ü',decl:'2ns',gender:'N',anim:false,semantic:'body'},
            {lemma:'–∫—Ä–æ–≤—å',stem:'–∫—Ä–æ–≤',decl:3,gender:'F',anim:false,semantic:'body'}
        ];
        const ADJECTIVES = [
            // –†–∞–∑–º–µ—Ä –∏ —Ñ–æ—Ä–º–∞
            {lemma:'–±–æ–ª—å—à–æ–π',stem:'–±–æ–ª—å—à',type:'sibilant',semantic:'size'},
            {lemma:'–º–∞–ª—ã–π',stem:'–º–∞–ª',type:'hard',semantic:'size'},
            {lemma:'–≤—ã—Å–æ–∫–∏–π',stem:'–≤—ã—Å–æ–∫',type:'hard',semantic:'size'},
            {lemma:'–Ω–∏–∑–∫–∏–π',stem:'–Ω–∏–∑–∫',type:'hard',semantic:'size'},
            {lemma:'—à–∏—Ä–æ–∫–∏–π',stem:'—à–∏—Ä–æ–∫',type:'hard',semantic:'size'},
            {lemma:'—É–∑–∫–∏–π',stem:'—É–∑–∫',type:'hard',semantic:'size'},
            {lemma:'–¥–ª–∏–Ω–Ω—ã–π',stem:'–¥–ª–∏–Ω–Ω',type:'hard',semantic:'size'},
            {lemma:'–∫–æ—Ä–æ—Ç–∫–∏–π',stem:'–∫–æ—Ä–æ—Ç–∫',type:'hard',semantic:'size'},
            
            // –¶–≤–µ—Ç
            {lemma:'–±–µ–ª—ã–π',stem:'–±–µ–ª',type:'hard',semantic:'color'},
            {lemma:'—á—ë—Ä–Ω—ã–π',stem:'—á—ë—Ä–Ω',type:'hard',semantic:'color'},
            {lemma:'–∫—Ä–∞—Å–Ω—ã–π',stem:'–∫—Ä–∞—Å–Ω',type:'hard',semantic:'color'},
            {lemma:'—Å–∏–Ω–∏–π',stem:'—Å–∏–Ω',type:'soft',semantic:'color'},
            {lemma:'–∑–µ–ª—ë–Ω—ã–π',stem:'–∑–µ–ª—ë–Ω',type:'hard',semantic:'color'},
            {lemma:'–∑–æ–ª–æ—Ç–æ–π',stem:'–∑–æ–ª–æ—Ç',type:'hard',semantic:'color'},
            {lemma:'—Å–µ—Ä–µ–±—Ä—è–Ω—ã–π',stem:'—Å–µ—Ä–µ–±—Ä—è–Ω',type:'hard',semantic:'color'},
            
            // –ö–∞—á–µ—Å—Ç–≤–æ
            {lemma:'–¥–æ–±—Ä—ã–π',stem:'–¥–æ–±—Ä',type:'hard',semantic:'quality'},
            {lemma:'–∑–ª–æ–π',stem:'–∑–ª',type:'hard',semantic:'quality'},
            {lemma:'–º—É–¥—Ä—ã–π',stem:'–º—É–¥—Ä',type:'hard',semantic:'quality'},
            {lemma:'—Å–∏–ª—å–Ω—ã–π',stem:'—Å–∏–ª—å–Ω',type:'hard',semantic:'quality'},
            {lemma:'—Å–ª–∞–±—ã–π',stem:'—Å–ª–∞–±',type:'hard',semantic:'quality'},
            {lemma:'—Å–º–µ–ª—ã–π',stem:'—Å–º–µ–ª',type:'hard',semantic:'quality'},
            {lemma:'—Ç—Ä—É—Å–ª–∏–≤—ã–π',stem:'—Ç—Ä—É—Å–ª–∏–≤',type:'hard',semantic:'quality'},
            {lemma:'–≥–æ—Ä–¥—ã–π',stem:'–≥–æ—Ä–¥',type:'hard',semantic:'quality'},
            {lemma:'—Å–∫—Ä–æ–º–Ω—ã–π',stem:'—Å–∫—Ä–æ–º–Ω',type:'hard',semantic:'quality'},
            {lemma:'–±–ª–∞–≥–æ—Ä–æ–¥–Ω—ã–π',stem:'–±–ª–∞–≥–æ—Ä–æ–¥–Ω',type:'hard',semantic:'quality'},
            
            // –ö—Ä–∞—Å–æ—Ç–∞
            {lemma:'–∫—Ä–∞—Å–∏–≤—ã–π',stem:'–∫—Ä–∞—Å–∏–≤',type:'hard',semantic:'beauty'},
            {lemma:'–ø—Ä–µ–∫—Ä–∞—Å–Ω—ã–π',stem:'–ø—Ä–µ–∫—Ä–∞—Å–Ω',type:'hard',semantic:'beauty'},
            {lemma:'–≤–µ–ª–∏–∫–æ–ª–µ–ø–Ω—ã–π',stem:'–≤–µ–ª–∏–∫–æ–ª–µ–ø–Ω',type:'hard',semantic:'beauty'},
            {lemma:'—á—É–¥–µ—Å–Ω—ã–π',stem:'—á—É–¥–µ—Å–Ω',type:'hard',semantic:'beauty'},
            
            // –°–æ—Å—Ç–æ—è–Ω–∏–µ
            {lemma:'—Å—Ç–∞—Ä—ã–π',stem:'—Å—Ç–∞—Ä',type:'hard',semantic:'state'},
            {lemma:'–Ω–æ–≤—ã–π',stem:'–Ω–æ–≤',type:'hard',semantic:'state'},
            {lemma:'–¥—Ä–µ–≤–Ω–∏–π',stem:'–¥—Ä–µ–≤–Ω',type:'soft',semantic:'state'},
            {lemma:'–º–æ–ª–æ–¥–æ–π',stem:'–º–æ–ª–æ–¥',type:'hard',semantic:'state'},
            {lemma:'–∂–∏–≤–æ–π',stem:'–∂–∏–≤',type:'sibilant',semantic:'state'},
            {lemma:'–º—ë—Ä—Ç–≤—ã–π',stem:'–º—ë—Ä—Ç–≤',type:'hard',semantic:'state'},
            
            // –°–≤–µ—Ç –∏ —Ç—å–º–∞
            {lemma:'—Å–≤–µ—Ç–ª—ã–π',stem:'—Å–≤–µ—Ç–ª',type:'hard',semantic:'light'},
            {lemma:'—Ç—ë–º–Ω—ã–π',stem:'—Ç—ë–º–Ω',type:'hard',semantic:'light'},
            {lemma:'—è—Ä–∫–∏–π',stem:'—è—Ä–∫',type:'hard',semantic:'light'},
            {lemma:'—Ç—É—Å–∫–ª—ã–π',stem:'—Ç—É—Å–∫–ª',type:'hard',semantic:'light'},
            
            // –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –∏ –æ—â—É—â–µ–Ω–∏–µ
            {lemma:'—Ö–æ–ª–æ–¥–Ω—ã–π',stem:'—Ö–æ–ª–æ–¥–Ω',type:'hard',semantic:'temperature'},
            {lemma:'—Ç—ë–ø–ª—ã–π',stem:'—Ç—ë–ø–ª',type:'hard',semantic:'temperature'},
            {lemma:'–≥–æ—Ä—è—á–∏–π',stem:'–≥–æ—Ä—è—á',type:'soft',semantic:'temperature'},
            
            // –•–∞—Ä–∞–∫—Ç–µ—Ä
            {lemma:'–≤–µ—Ä–Ω—ã–π',stem:'–≤–µ—Ä–Ω',type:'hard',semantic:'character'},
            {lemma:'—á–µ—Å—Ç–Ω—ã–π',stem:'—á–µ—Å—Ç–Ω',type:'hard',semantic:'character'},
            {lemma:'–∂–µ—Å—Ç–æ–∫–∏–π',stem:'–∂–µ—Å—Ç–æ–∫',type:'hard',semantic:'character'},
            {lemma:'–¥–æ–±—Ä–æ–¥–µ—Ç–µ–ª—å–Ω—ã–π',stem:'–¥–æ–±—Ä–æ–¥–µ—Ç–µ–ª—å–Ω',type:'hard',semantic:'character'},
            {lemma:'–∫–æ–≤–∞—Ä–Ω—ã–π',stem:'–∫–æ–≤–∞—Ä–Ω',type:'hard',semantic:'character'},
            
            // –°–∫–æ—Ä–æ—Å—Ç—å
            {lemma:'–±—ã—Å—Ç—Ä—ã–π',stem:'–±—ã—Å—Ç—Ä',type:'hard',semantic:'speed'},
            {lemma:'–º–µ–¥–ª–µ–Ω–Ω—ã–π',stem:'–º–µ–¥–ª–µ–Ω–Ω',type:'hard',semantic:'speed'},
            
            // –î—Ä—É–≥–æ–µ
            {lemma:'–≤–µ—á–Ω—ã–π',stem:'–≤–µ—á–Ω',type:'hard',semantic:'other'},
            {lemma:'—Ç–∞–π–Ω—ã–π',stem:'—Ç–∞–π–Ω',type:'hard',semantic:'other'},
            {lemma:'—Å–≤—è—â–µ–Ω–Ω—ã–π',stem:'—Å–≤—è—â–µ–Ω–Ω',type:'hard',semantic:'other'},
            {lemma:'–≥—Ä–æ–∑–Ω—ã–π',stem:'–≥—Ä–æ–∑–Ω',type:'hard',semantic:'other'},
            {lemma:'–º–æ–≥—É—á–∏–π',stem:'–º–æ–≥—É—á',type:'soft',semantic:'other'},
            {lemma:'–¥–∞–ª—å–Ω–∏–π',stem:'–¥–∞–ª—å–Ω',type:'soft',semantic:'other'}
        ];
        const VERBS = [
            // –î–≤–∏–∂–µ–Ω–∏–µ
            {lemma:'–∏–¥—Ç–∏',infStem:'–∏–¥',presStem:'–∏–¥',pastStem:'—à',conj:1,aspect:'impf',trans:false,semantic:'motion'},
            {lemma:'–±–µ–∂–∞—Ç—å',infStem:'–±–µ–∂–∞',presStem:'–±–µ–≥',pastStem:'–±–µ–∂–∞',conj:1,aspect:'impf',trans:false,semantic:'motion'},
            {lemma:'–ª–µ—Ç–µ—Ç—å',infStem:'–ª–µ—Ç–µ',presStem:'–ª–µ—Ç',pastStem:'–ª–µ—Ç–µ',conj:2,aspect:'impf',trans:false,semantic:'motion'},
            {lemma:'–ø–ª—ã—Ç—å',infStem:'–ø–ª—ã',presStem:'–ø–ª—ã–≤',pastStem:'–ø–ª—ã',conj:1,aspect:'impf',trans:false,semantic:'motion'},
            {lemma:'—Ö–æ–¥–∏—Ç—å',infStem:'—Ö–æ–¥–∏',presStem:'—Ö–æ–¥',pastStem:'—Ö–æ–¥–∏',conj:2,aspect:'impf',trans:false,semantic:'motion'},
            {lemma:'—Å—Ç–æ—è—Ç—å',infStem:'—Å—Ç–æ—è',presStem:'—Å—Ç–æ',pastStem:'—Å—Ç–æ—è',conj:2,aspect:'impf',trans:false,semantic:'motion'},
            {lemma:'—Å–∏–¥–µ—Ç—å',infStem:'—Å–∏–¥–µ',presStem:'—Å–∏–¥',pastStem:'—Å–∏–¥–µ',conj:2,aspect:'impf',trans:false,semantic:'motion'},
            {lemma:'–ª–µ–∂–∞—Ç—å',infStem:'–ª–µ–∂–∞',presStem:'–ª–µ–∂',pastStem:'–ª–µ–∂–∞',conj:2,aspect:'impf',trans:false,semantic:'motion'},
            
            // –î–µ–π—Å—Ç–≤–∏—è
            {lemma:'–¥–µ–ª–∞—Ç—å',infStem:'–¥–µ–ª–∞',presStem:'–¥–µ–ª–∞',pastStem:'–¥–µ–ª–∞',conj:1,aspect:'impf',trans:true,semantic:'action'},
            {lemma:'—Å–¥–µ–ª–∞—Ç—å',infStem:'—Å–¥–µ–ª–∞',presStem:'—Å–¥–µ–ª–∞',pastStem:'—Å–¥–µ–ª–∞',conj:1,aspect:'pf',trans:true,semantic:'action'},
            {lemma:'–±—Ä–∞—Ç—å',infStem:'–±—Ä–∞',presStem:'–±–µ—Ä',pastStem:'–±—Ä–∞',conj:1,aspect:'impf',trans:true,semantic:'action'},
            {lemma:'–≤–∑—è—Ç—å',infStem:'–≤–∑—è',presStem:'–≤–æ–∑—å–º',pastStem:'–≤–∑—è',conj:1,aspect:'pf',trans:true,semantic:'action'},
            {lemma:'–¥–∞–≤–∞—Ç—å',infStem:'–¥–∞–≤–∞',presStem:'–¥–∞',pastStem:'–¥–∞–≤–∞',conj:1,aspect:'impf',trans:true,semantic:'action'},
            {lemma:'–¥–∞—Ç—å',infStem:'–¥–∞',presStem:'–¥–∞–¥',pastStem:'–¥–∞',conj:1,aspect:'pf',trans:true,semantic:'action'},
            {lemma:'–∂–¥–∞—Ç—å',infStem:'–∂–¥–∞',presStem:'–∂–¥',pastStem:'–∂–¥–∞',conj:1,aspect:'impf',trans:true,semantic:'action'},
            {lemma:'–∏—Å–∫–∞—Ç—å',infStem:'–∏—Å–∫–∞',presStem:'–∏—â',pastStem:'–∏—Å–∫–∞',conj:1,aspect:'impf',trans:true,semantic:'action'},
            {lemma:'–Ω–∞–π—Ç–∏',infStem:'–Ω–∞–π—Ç',presStem:'–Ω–∞–π–¥',pastStem:'–Ω–∞—à',conj:1,aspect:'pf',trans:true,semantic:'action'},
            {lemma:'–¥–µ—Ä–∂–∞—Ç—å',infStem:'–¥–µ—Ä–∂–∞',inf:'–¥–µ—Ä–∂–∞—Ç—å',presStem:'–¥–µ—Ä–∂',pastStem:'–¥–µ—Ä–∂–∞',conj:2,aspect:'impf',trans:true,semantic:'action'},
            {lemma:'–Ω–µ—Å—Ç–∏',infStem:'–Ω–µ—Å—Ç',inf:'–Ω–µ—Å—Ç–∏',presStem:'–Ω–µ—Å',pastStem:'–Ω—ë—Å',conj:1,aspect:'impf',trans:true,semantic:'action'},
            {lemma:'–≤–µ—Å—Ç–∏',infStem:'–≤–µ—Å—Ç',inf:'–≤–µ—Å—Ç–∏',presStem:'–≤–µ–¥',pastStem:'–≤—ë–ª',conj:1,aspect:'impf',trans:true,semantic:'action'},
            {lemma:'—Å—Ç—Ä–æ–∏—Ç—å',infStem:'—Å—Ç—Ä–æ–∏',presStem:'—Å—Ç—Ä–æ',pastStem:'—Å—Ç—Ä–æ–∏',conj:2,aspect:'impf',trans:true,semantic:'action'},
            {lemma:'–ø–æ—Å—Ç—Ä–æ–∏—Ç—å',infStem:'–ø–æ—Å—Ç—Ä–æ–∏',presStem:'–ø–æ—Å—Ç—Ä–æ',pastStem:'–ø–æ—Å—Ç—Ä–æ–∏',conj:2,aspect:'pf',trans:true,semantic:'action'},
            
            // –í–æ—Å–ø—Ä–∏—è—Ç–∏–µ
            {lemma:'–≤–∏–¥–µ—Ç—å',infStem:'–≤–∏–¥–µ',presStem:'–≤–∏–¥',pastStem:'–≤–∏–¥–µ',conj:2,aspect:'impf',trans:true,semantic:'perception'},
            {lemma:'—É–≤–∏–¥–µ—Ç—å',infStem:'—É–≤–∏–¥–µ',presStem:'—É–≤–∏–¥',pastStem:'—É–≤–∏–¥–µ',conj:2,aspect:'pf',trans:true,semantic:'perception'},
            {lemma:'—Å–º–æ—Ç—Ä–µ—Ç—å',infStem:'—Å–º–æ—Ç—Ä–µ',presStem:'—Å–º–æ—Ç—Ä',pastStem:'—Å–º–æ—Ç—Ä–µ',conj:2,aspect:'impf',trans:true,semantic:'perception'},
            {lemma:'—Å–ª—ã—à–∞—Ç—å',infStem:'—Å–ª—ã—à–∞',presStem:'—Å–ª—ã—à',pastStem:'—Å–ª—ã—à–∞',conj:2,aspect:'impf',trans:true,semantic:'perception'},
            {lemma:'—É—Å–ª—ã—à–∞—Ç—å',infStem:'—É—Å–ª—ã—à–∞',presStem:'—É—Å–ª—ã—à',pastStem:'—É—Å–ª—ã—à–∞',conj:2,aspect:'pf',trans:true,semantic:'perception'},
            {lemma:'—á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å',infStem:'—á—É–≤—Å—Ç–≤–æ–≤–∞',presStem:'—á—É–≤—Å—Ç–≤—É',pastStem:'—á—É–≤—Å—Ç–≤–æ–≤–∞',conj:1,aspect:'impf',trans:true,semantic:'perception'},
            
            // –†–µ—á—å –∏ –º—ã—à–ª–µ–Ω–∏–µ
            {lemma:'–≥–æ–≤–æ—Ä–∏—Ç—å',infStem:'–≥–æ–≤–æ—Ä–∏',presStem:'–≥–æ–≤–æ—Ä',pastStem:'–≥–æ–≤–æ—Ä–∏',conj:2,aspect:'impf',trans:false,semantic:'speech'},
            {lemma:'—Å–∫–∞–∑–∞—Ç—å',infStem:'—Å–∫–∞–∑–∞',presStem:'—Å–∫–∞–∂',pastStem:'—Å–∫–∞–∑–∞',conj:1,aspect:'pf',trans:true,semantic:'speech'},
            {lemma:'–¥—É–º–∞—Ç—å',infStem:'–¥—É–º–∞',presStem:'–¥—É–º–∞',pastStem:'–¥—É–º–∞',conj:1,aspect:'impf',trans:false,semantic:'thought'},
            {lemma:'–º—ã—Å–ª–∏—Ç—å',infStem:'–º—ã—Å–ª–∏',presStem:'–º—ã—Å–ª',pastStem:'–º—ã—Å–ª–∏',conj:2,aspect:'impf',trans:false,semantic:'thought'},
            {lemma:'–∑–Ω–∞—Ç—å',infStem:'–∑–Ω–∞',presStem:'–∑–Ω–∞',pastStem:'–∑–Ω–∞',conj:1,aspect:'impf',trans:true,semantic:'thought'},
            {lemma:'—É–∑–Ω–∞—Ç—å',infStem:'—É–∑–Ω–∞',presStem:'—É–∑–Ω–∞',pastStem:'—É–∑–Ω–∞',conj:1,aspect:'pf',trans:true,semantic:'thought'},
            {lemma:'–ø–æ–Ω–∏–º–∞—Ç—å',infStem:'–ø–æ–Ω–∏–º–∞',presStem:'–ø–æ–Ω–∏–º–∞',pastStem:'–ø–æ–Ω–∏–º–∞',conj:1,aspect:'impf',trans:true,semantic:'thought'},
            {lemma:'–ø–æ–Ω—è—Ç—å',infStem:'–ø–æ–Ω—è',presStem:'–ø–æ–π–º',pastStem:'–ø–æ–Ω—è',conj:1,aspect:'pf',trans:true,semantic:'thought'},
            
            // –ß—Ç–µ–Ω–∏–µ –∏ –ø–∏—Å—å–º–æ
            {lemma:'—á–∏—Ç–∞—Ç—å',infStem:'—á–∏—Ç–∞',presStem:'—á–∏—Ç–∞',pastStem:'—á–∏—Ç–∞',conj:1,aspect:'impf',trans:true,semantic:'literacy'},
            {lemma:'–ø—Ä–æ—á–∏—Ç–∞—Ç—å',infStem:'–ø—Ä–æ—á–∏—Ç–∞',presStem:'–ø—Ä–æ—á–∏—Ç–∞',pastStem:'–ø—Ä–æ—á–∏—Ç–∞',conj:1,aspect:'pf',trans:true,semantic:'literacy'},
            {lemma:'–ø–∏—Å–∞—Ç—å',infStem:'–ø–∏—Å–∞',presStem:'–ø–∏—à',pastStem:'–ø–∏—Å–∞',conj:1,aspect:'impf',trans:true,semantic:'literacy'},
            {lemma:'–Ω–∞–ø–∏—Å–∞—Ç—å',infStem:'–Ω–∞–ø–∏—Å–∞',presStem:'–Ω–∞–ø–∏—à',pastStem:'–Ω–∞–ø–∏—Å–∞',conj:1,aspect:'pf',trans:true,semantic:'literacy'},
            
            // –≠–º–æ—Ü–∏–∏
            {lemma:'–ª—é–±–∏—Ç—å',infStem:'–ª—é–±–∏',presStem:'–ª—é–±–ª',pastStem:'–ª—é–±–∏',conj:2,aspect:'impf',trans:true,semantic:'emotion'},
            {lemma:'–Ω–µ–Ω–∞–≤–∏–¥–µ—Ç—å',infStem:'–Ω–µ–Ω–∞–≤–∏–¥–µ',presStem:'–Ω–µ–Ω–∞–≤–∏–¥',pastStem:'–Ω–µ–Ω–∞–≤–∏–¥–µ',conj:2,aspect:'impf',trans:true,semantic:'emotion'},
            {lemma:'—Ä–∞–¥–æ–≤–∞—Ç—å—Å—è',infStem:'—Ä–∞–¥–æ–≤–∞',presStem:'—Ä–∞–¥—É',pastStem:'—Ä–∞–¥–æ–≤–∞',conj:1,aspect:'impf',trans:false,refl:true,semantic:'emotion'},
            {lemma:'–≥—Ä—É—Å—Ç–∏—Ç—å',infStem:'–≥—Ä—É—Å—Ç–∏',presStem:'–≥—Ä—É—Å—Ç',pastStem:'–≥—Ä—É—Å—Ç–∏',conj:2,aspect:'impf',trans:false,semantic:'emotion'},
            {lemma:'–±–æ—è—Ç—å—Å—è',infStem:'–±–æ—è',presStem:'–±–æ',pastStem:'–±–æ—è',conj:2,aspect:'impf',trans:false,refl:true,semantic:'emotion'},
            
            // –°–æ—Å—Ç–æ—è–Ω–∏–µ
            {lemma:'–∂–∏—Ç—å',infStem:'–∂–∏',presStem:'–∂–∏–≤',pastStem:'–∂–∏',conj:1,aspect:'impf',trans:false,semantic:'state'},
            {lemma:'—É–º–∏—Ä–∞—Ç—å',infStem:'—É–º–∏—Ä–∞',presStem:'—É–º–∏—Ä–∞',pastStem:'—É–º–∏—Ä–∞',conj:1,aspect:'impf',trans:false,semantic:'state'},
            {lemma:'—É–º–µ—Ä–µ—Ç—å',infStem:'—É–º–µ—Ä–µ',presStem:'—É–º—Ä',pastStem:'—É–º–µ—Ä',conj:1,aspect:'pf',trans:false,semantic:'state'},
            {lemma:'—Å–ø–∞—Ç—å',infStem:'—Å–ø–∞',presStem:'—Å–ø',pastStem:'—Å–ø–∞',conj:2,aspect:'impf',trans:false,semantic:'state'},
            {lemma:'–ø—Ä–æ—Å—ã–ø–∞—Ç—å—Å—è',infStem:'–ø—Ä–æ—Å—ã–ø–∞',presStem:'–ø—Ä–æ—Å—ã–ø–∞',pastStem:'–ø—Ä–æ—Å—ã–ø–∞',conj:1,aspect:'impf',trans:false,refl:true,semantic:'state'},
            
            // –ë–∏—Ç–≤–∞
            {lemma:'–±–æ—Ä–æ—Ç—å—Å—è',infStem:'–±–æ—Ä–æ',presStem:'–±–æ—Ä',pastStem:'–±–æ—Ä–æ',conj:1,aspect:'impf',trans:false,refl:true,semantic:'battle'},
            {lemma:'–ø–æ–±–µ–∂–¥–∞—Ç—å',infStem:'–ø–æ–±–µ–∂–¥–∞',presStem:'–ø–æ–±–µ–∂–¥–∞',pastStem:'–ø–æ–±–µ–∂–¥–∞',conj:1,aspect:'impf',trans:true,semantic:'battle'},
            {lemma:'–ø–æ–±–µ–¥–∏—Ç—å',infStem:'–ø–æ–±–µ–¥–∏',presStem:'–ø–æ–±–µ–¥',pastStem:'–ø–æ–±–µ–¥–∏',conj:2,aspect:'pf',trans:true,semantic:'battle'},
            {lemma:'—Å—Ä–∞–∂–∞—Ç—å—Å—è',infStem:'—Å—Ä–∞–∂–∞',presStem:'—Å—Ä–∞–∂–∞',pastStem:'—Å—Ä–∞–∂–∞',conj:1,aspect:'impf',trans:false,refl:true,semantic:'battle'},
            
            // –°–æ–∑–¥–∞–Ω–∏–µ
            {lemma:'—Å–æ–∑–¥–∞–≤–∞—Ç—å',infStem:'—Å–æ–∑–¥–∞–≤–∞',presStem:'—Å–æ–∑–¥–∞',pastStem:'—Å–æ–∑–¥–∞–≤–∞',conj:1,aspect:'impf',trans:true,semantic:'creation'},
            {lemma:'—Å–æ–∑–¥–∞—Ç—å',infStem:'—Å–æ–∑–¥–∞',presStem:'—Å–æ–∑–¥–∞–¥',pastStem:'—Å–æ–∑–¥–∞',conj:1,aspect:'pf',trans:true,semantic:'creation'},
            {lemma:'—Ç–≤–æ—Ä–∏—Ç—å',infStem:'—Ç–≤–æ—Ä–∏',presStem:'—Ç–≤–æ—Ä',pastStem:'—Ç–≤–æ—Ä–∏',conj:2,aspect:'impf',trans:true,semantic:'creation'},
            
            // –ò–≥—Ä–∞—Ç—å
            {lemma:'–∏–≥—Ä–∞—Ç—å',infStem:'–∏–≥—Ä–∞',presStem:'–∏–≥—Ä–∞',pastStem:'–∏–≥—Ä–∞',conj:1,aspect:'impf',trans:false,semantic:'play'},
            {lemma:'–ø–µ—Ç—å',infStem:'–ø–µ',presStem:'–ø–æ',pastStem:'–ø–µ',conj:1,aspect:'impf',trans:true,semantic:'play'}
        ];
        const ADVERBS = {
            manner: ['–º–µ–¥–ª–µ–Ω–Ω–æ','–±—ã—Å—Ç—Ä–æ','—Ç–∏—Ö–æ','–≥—Ä–æ–º–∫–æ','–∫—Ä–∞—Å–∏–≤–æ','–ª–µ–≥–∫–æ','—Ç—Ä—É–¥–Ω–æ','—Å–∏–ª—å–Ω–æ','–≤–Ω–µ–∑–∞–ø–Ω–æ','–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ'],
            place: ['–∑–¥–µ—Å—å','—Ç–∞–º','–≤–µ–∑–¥–µ','–¥–∞–ª–µ–∫–æ','–±–ª–∏–∑–∫–æ','–≤—ã—Å–æ–∫–æ','–Ω–∏–∑–∫–æ','—Å–ª–µ–≤–∞','—Å–ø—Ä–∞–≤–∞'],
            time: ['—Å–µ–≥–æ–¥–Ω—è','–≤—á–µ—Ä–∞','–∑–∞–≤—Ç—Ä–∞','–≤—Å–µ–≥–¥–∞','–Ω–∏–∫–æ–≥–¥–∞','—á–∞—Å—Ç–æ','—Ä–µ–¥–∫–æ','—Ç–µ–ø–µ—Ä—å','—Ç–æ–≥–¥–∞','—Ä–∞–Ω–æ','–ø–æ–∑–¥–Ω–æ'],
            degree: ['–æ—á–µ–Ω—å','–≤–µ—Å—å–º–∞','—Å–ª–∏—à–∫–æ–º','—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ']
        };
        
        // ========== –ü–†–ï–î–õ–û–ì–ò ==========
        const PREPOSITIONS = {
            GEN: ['–±–µ–∑','—É','–æ—Ç','–¥–æ','–∏–∑','–æ–∫–æ–ª–æ','–¥–ª—è','–ø–æ—Å–ª–µ'],
            DAT: ['–∫','–ø–æ'],
            ACC: ['–≤','–Ω–∞','–∑–∞','–ø–æ–¥','—á–µ—Ä–µ–∑'],
            INS: ['—Å','–∑–∞','–Ω–∞–¥','–ø–µ—Ä–µ–¥','–º–µ–∂–¥—É'],
            PRE: ['–≤','–Ω–∞','–æ','–ø—Ä–∏']
        };
        
        // –§—É–Ω–∫—Ü–∏—è –≤—ã–±–æ—Ä–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ñ–æ—Ä–º—ã –ø—Ä–µ–¥–ª–æ–≥–∞
        function adjustPreposition(prep, nextWord) {
            if (!nextWord) return prep;
            const firstChar = nextWord.charAt(0).toLowerCase();
            const firstTwo = nextWord.substring(0, 2).toLowerCase();
            
            // –≤ ‚Üí –≤–æ (–ø–µ—Ä–µ–¥ –º–Ω–æ–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏ –Ω–∞ –≤-, –º–Ω-)
            if (prep === '–≤') {
                if (firstChar === '–≤' || firstTwo === '–º–Ω') {
                    return '–≤–æ';
                }
            }
            // —Å ‚Üí —Å–æ (–ø–µ—Ä–µ–¥ —Å–ª–æ–≤–∞–º–∏ –Ω–∞ —Å-, –∑-, –º–Ω-, –ª-, –ª—å–≤-, –≤—Å-)
            if (prep === '—Å') {
                if (firstChar === '—Å' || firstChar === '–∑' || 
                    firstTwo === '–º–Ω' || firstTwo === '–≤—Å' || 
                    nextWord.substring(0, 3) === '–ª—å–≤') {
                    return '—Å–æ';
                }
            }
            // –∫ ‚Üí –∫–æ (–ø–µ—Ä–µ–¥ —Å–ª–æ–≤–∞–º–∏ –Ω–∞ –∫- –∏–ª–∏ –º–Ω-)
            if (prep === '–∫') {
                if (firstTwo === '–º–Ω' || nextWord === '–º–Ω–µ' || nextWord.substring(0, 3) === '–≤—Å–µ–º' || nextWord.substring(0, 3) === '–≤—Å–µ–π') {
                    return '–∫–æ';
                }
            }
            // –æ ‚Üí –æ–± (–ø–µ—Ä–µ–¥ –≥–ª–∞—Å–Ω—ã–º–∏)
            if (prep === '–æ') {
                if ('–∞–µ—ë–∏–æ—É—ã—ç—é—è'.includes(firstChar)) {
                    return '–æ–±';
                }
            }
            
            return prep;
        }
        
        // ========== –°–û–Æ–ó–´ ==========
        const CONJUNCTIONS = {
            coord: ['–∏','–∞','–Ω–æ','–∏–ª–∏','–∑–∞—Ç–æ'],
            subord: ['—á—Ç–æ','—á—Ç–æ–±—ã','–∫–æ–≥–¥–∞','–µ—Å–ª–∏','—Ö–æ—Ç—è','–ø–æ—Ç–æ–º—É —á—Ç–æ','–∫–∞–∫']
        };
        
        // ========== –ß–ê–°–¢–ò–¶–´ ==========
        const PARTICLES = ['–Ω–µ','–Ω–∏','–±—ã','–ª–∏','–∂–µ','–≤–µ–¥—å','–¥–∞–∂–µ','–ª–∏—à—å','—Ç–æ–ª—å–∫–æ','—É–∂–µ','–µ—â—ë'];
        
        // ========== –ß–ò–°–õ–ò–¢–ï–õ–¨–ù–´–ï ==========
        const NUMERALS = [
            {
                lemma: '–æ–¥–∏–Ω',
                cardinal: true,
                M: { NOM: '–æ–¥–∏–Ω', GEN: '–æ–¥–Ω–æ–≥–æ', DAT: '–æ–¥–Ω–æ–º—É', ACC_INAN: '–æ–¥–∏–Ω', ACC_ANIM: '–æ–¥–Ω–æ–≥–æ', INS: '–æ–¥–Ω–∏–º', PRE: '–æ–¥–Ω–æ–º' },
                F: { NOM: '–æ–¥–Ω–∞', GEN: '–æ–¥–Ω–æ–π', DAT: '–æ–¥–Ω–æ–π', ACC: '–æ–¥–Ω—É', INS: '–æ–¥–Ω–æ–π', PRE: '–æ–¥–Ω–æ–π' },
                N: { NOM: '–æ–¥–Ω–æ', GEN: '–æ–¥–Ω–æ–≥–æ', DAT: '–æ–¥–Ω–æ–º—É', ACC: '–æ–¥–Ω–æ', INS: '–æ–¥–Ω–∏–º', PRE: '–æ–¥–Ω–æ–º' },
                nounCase: 'NOM',
                nounNumber: 'SG'
            },
            {
                lemma: '–¥–≤–∞',
                cardinal: true,
                M: { NOM: '–¥–≤–∞', GEN: '–¥–≤—É—Ö', DAT: '–¥–≤—É–º', ACC_INAN: '–¥–≤–∞', ACC_ANIM: '–¥–≤—É—Ö', INS: '–¥–≤—É–º—è', PRE: '–¥–≤—É—Ö' },
                F: { NOM: '–¥–≤–µ', GEN: '–¥–≤—É—Ö', DAT: '–¥–≤—É–º', ACC_INAN: '–¥–≤–µ', ACC_ANIM: '–¥–≤—É—Ö', INS: '–¥–≤—É–º—è', PRE: '–¥–≤—É—Ö' },
                N: { NOM: '–¥–≤–∞', GEN: '–¥–≤—É—Ö', DAT: '–¥–≤—É–º', ACC: '–¥–≤–∞', INS: '–¥–≤—É–º—è', PRE: '–¥–≤—É—Ö' },
                nounCase: 'GEN',
                nounNumber: 'SG'
            },
            {
                lemma: '—Ç—Ä–∏',
                cardinal: true,
                forms: { NOM: '—Ç—Ä–∏', GEN: '—Ç—Ä—ë—Ö', DAT: '—Ç—Ä—ë–º', ACC_INAN: '—Ç—Ä–∏', ACC_ANIM: '—Ç—Ä—ë—Ö', INS: '—Ç—Ä–µ–º—è', PRE: '—Ç—Ä—ë—Ö' },
                nounCase: 'GEN',
                nounNumber: 'SG'
            },
            {
                lemma: '—á–µ—Ç—ã—Ä–µ',
                cardinal: true,
                forms: { NOM: '—á–µ—Ç—ã—Ä–µ', GEN: '—á–µ—Ç—ã—Ä—ë—Ö', DAT: '—á–µ—Ç—ã—Ä—ë–º', ACC_INAN: '—á–µ—Ç—ã—Ä–µ', ACC_ANIM: '—á–µ—Ç—ã—Ä—ë—Ö', INS: '—á–µ—Ç—ã—Ä—å–º—è', PRE: '—á–µ—Ç—ã—Ä—ë—Ö' },
                nounCase: 'GEN',
                nounNumber: 'SG'
            },
            {
                lemma: '–ø—è—Ç—å',
                cardinal: true,
                forms: { NOM: '–ø—è—Ç—å', GEN: '–ø—è—Ç–∏', DAT: '–ø—è—Ç–∏', ACC_INAN: '–ø—è—Ç—å', ACC_ANIM: '–ø—è—Ç—å', INS: '–ø—è—Ç—å—é', PRE: '–ø—è—Ç–∏' },
                nounCase: 'GEN',
                nounNumber: 'PL'
            },
            {
                lemma: '–¥–µ—Å—è—Ç—å',
                cardinal: true,
                forms: { NOM: '–¥–µ—Å—è—Ç—å', GEN: '–¥–µ—Å—è—Ç–∏', DAT: '–¥–µ—Å—è—Ç–∏', ACC_INAN: '–¥–µ—Å—è—Ç—å', ACC_ANIM: '–¥–µ—Å—è—Ç—å', INS: '–¥–µ—Å—è—Ç—å—é', PRE: '–¥–µ—Å—è—Ç–∏' },
                nounCase: 'GEN',
                nounNumber: 'PL'
            }
        ];
        
        // ========== –§–£–ù–ö–¶–ò–ò –°–ö–õ–û–ù–ï–ù–ò–Ø –°–£–©–ï–°–¢–í–ò–¢–ï–õ–¨–ù–´–• ==========
        
        // –§—É–Ω–∫—Ü–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö –ø—Ä–∞–≤–∏–ª
        function applyOrthography(stem, ending) {
            if (!ending) return stem + ending;
            
            const lastChar = stem.charAt(stem.length - 1);
            let adjustedEnding = ending;
            
            // –ü–æ—Å–ª–µ –≥, –∫, —Ö, –∂, —à, —á, —â: '—ã' ‚Üí '–∏', '—è' ‚Üí '–∞'
            if ('–≥–∫—Ö–∂—à—á—â'.includes(lastChar)) {
                adjustedEnding = adjustedEnding.replace(/^—ã/, '–∏').replace(/^—è/, '–∞');
            }
            
            // –ü–æ—Å–ª–µ —Ü: '—è' ‚Üí '–∞' (–Ω–æ '—ã' –æ—Å—Ç–∞–µ—Ç—Å—è '—ã' –µ—Å–ª–∏ –±–µ–∑—É–¥–∞—Ä–Ω–æ–µ)
            if (lastChar === '—Ü') {
                adjustedEnding = adjustedEnding.replace(/^—è/, '–∞');
            }
            
            return stem + adjustedEnding;
        }
        
        function declineNoun(noun, caseKey, number) {
            const endings = NOUN_ENDINGS[noun.decl];
            if (!endings) return noun.lemma;
            
            let stem = noun.stem;
            
            // –ë–µ–≥–ª—ã–µ –≥–ª–∞—Å–Ω—ã–µ –≤ –∫–æ—Å–≤–µ–Ω–Ω—ã—Ö –ø–∞–¥–µ–∂–∞—Ö (–∫—Ä–æ–º–µ –∏–º–µ–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ)
            if (noun.oblStem && caseKey !== 'NOM') {
                stem = noun.oblStem;
            }
            
            // –û—Å–æ–±—ã–µ –æ—Å–Ω–æ–≤—ã –¥–ª—è –∏–º–µ–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ (–ª—é–±–æ–≤—å, –º–∞—Ç—å)
            if (caseKey === 'NOM' && number === 'SG' && noun.nomSgStem) {
                stem = noun.nomSgStem;
            }
            
            // –ß–µ—Ä–µ–¥–æ–≤–∞–Ω–∏—è –≤–æ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —á–∏—Å–ª–µ (–¥—Ä—É–≥-–¥—Ä—É–∑—å—è, –±—Ä–∞—Ç-–±—Ä–∞—Ç—å—è)
            if (number === 'PL') {
                if (noun.nomPlStem && caseKey === 'NOM') {
                    return noun.nomPlStem + endings[number][caseKey];
                }
                if (noun.oblPlStem && caseKey !== 'NOM') {
                    stem = noun.oblPlStem;
                }
            }
            
            const ending = endings[number][caseKey];
            
            // –í–∏–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂ –æ–¥—É—à–µ–≤–ª—ë–Ω–Ω—ã—Ö = —Ä–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π
            if (caseKey === 'ACC' && noun.anim) {
                const genEnding = endings[number]['GEN'];
                return applyOrthography(stem, genEnding);
            }
            
            return applyOrthography(stem, ending);
        }
        
        // ========== –§–£–ù–ö–¶–ò–ò –°–ö–õ–û–ù–ï–ù–ò–Ø –ü–†–ò–õ–ê–ì–ê–¢–ï–õ–¨–ù–´–• ==========
        function declineAdjective(adj, gender, caseKey, number, anim) {
            const type = adj.type || 'hard';
            const endings = ADJ_ENDINGS[type];
            
            if (number === 'PL') {
                // –î–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —á–∏—Å–ª–∞ —Ä–æ–¥ –Ω–µ –≤–∞–∂–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ–º –º—É–∂—Å–∫–æ–π —Ä–æ–¥ –∫–∞–∫ –±–∞–∑—É
                const plEndings = endings.M.PL;
                if (caseKey === 'ACC') {
                    return applyOrthography(adj.stem, anim ? plEndings.ACC_ANIM : plEndings.ACC_INAN);
                }
                return applyOrthography(adj.stem, plEndings[caseKey]);
            }
            
            // –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ - —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –ø–æ —Ä–æ–¥—É
            const genderEndings = endings[gender].SG;
            
            if (caseKey === 'ACC') {
                // –î–ª—è –≤–∏–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø–∞–¥–µ–∂–∞ —É—á–∏—Ç—ã–≤–∞–µ–º –æ–¥—É—à–µ–≤–ª—ë–Ω–Ω–æ—Å—Ç—å
                if (gender === 'M') {
                    return applyOrthography(adj.stem, anim ? genderEndings.ACC_ANIM : genderEndings.ACC_INAN);
                }
                // –î–ª—è –∂–µ–Ω—Å–∫–æ–≥–æ –∏ —Å—Ä–µ–¥–Ω–µ–≥–æ —Ä–æ–¥–∞ –æ–¥—É—à–µ–≤–ª—ë–Ω–Ω–æ—Å—Ç—å –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –æ–∫–æ–Ω—á–∞–Ω–∏–µ
                return applyOrthography(adj.stem, genderEndings.ACC);
            }
            
            return applyOrthography(adj.stem, genderEndings[caseKey]);
        }
        
        // ========== –§–£–ù–ö–¶–ò–ò –°–ü–†–Ø–ñ–ï–ù–ò–Ø –ì–õ–ê–ì–û–õ–û–í ==========
        function conjugateVerb(verb, person, number, tense, gender) {
            if (tense === 'PAST') {
                // –ü—Ä–æ—à–µ–¥—à–µ–µ –≤—Ä–µ–º—è —Å–æ–≥–ª–∞—Å—É–µ—Ç—Å—è –ø–æ —Ä–æ–¥—É –≤ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–º —á–∏—Å–ª–µ
                if (number === 'SG') {
                    const pastEnding = VERB_ENDINGS.PAST.SG[gender || 'M'];
                    const form = verb.pastStem + pastEnding;
                    return addReflexive(form, verb.refl);
                } else {
                    const form = verb.pastStem + VERB_ENDINGS.PAST.PL;
                    return addReflexive(form, verb.refl);
                }
            }
            
            if (tense === 'FUT') {
                // –ë—É–¥—É—â–µ–µ –≤—Ä–µ–º—è
                if (verb.aspect === 'pf') {
                    // –°–æ–≤–µ—Ä—à–µ–Ω–Ω—ã–π –≤–∏–¥: –ø—Ä–æ—Å—Ç–∞—è —Ñ–æ—Ä–º–∞ (–∏—Å–ø–æ–ª—å–∑—É–µ–º –æ—Å–Ω–æ–≤—É –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ)
                    const endings = getVerbEndings(verb, number);
                    const personIndex = person - 1;
                    const form = verb.presStem + endings[personIndex];
                    return addReflexive(form, verb.refl);
                } else {
                    // –ù–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω—ã–π –≤–∏–¥: —Å–ª–æ–∂–Ω–∞—è —Ñ–æ—Ä–º–∞ (–±—É–¥—É + –∏–Ω—Ñ–∏–Ω–∏—Ç–∏–≤)
                    const budu = ['–±—É–¥—É', '–±—É–¥–µ—à—å', '–±—É–¥–µ—Ç'];
                    const budem = ['–±—É–¥–µ–º', '–±—É–¥–µ—Ç–µ', '–±—É–¥—É—Ç'];
                    const futForm = number === 'SG' ? budu[person - 1] : budem[person - 1];
                    // –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ–ª–µ inf, –µ—Å–ª–∏ –µ—Å—Ç—å, –∏–Ω–∞—á–µ —Å—Ç—Ä–æ–∏–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
                    const infinitive = verb.inf || (verb.infStem + '—Ç—å');
                    return futForm + ' ' + infinitive;
                }
            }
            
            // –ù–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è (—Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–≥–æ –≤–∏–¥–∞)
            if (tense === 'PRES' && verb.aspect === 'impf') {
                const endings = getVerbEndings(verb, number);
                const personIndex = person - 1;
                const form = verb.presStem + endings[personIndex];
                return addReflexive(form, verb.refl);
            }
            
            // –°–æ–≤–µ—Ä—à–µ–Ω–Ω—ã–π –≤–∏–¥ –Ω–µ –∏–º–µ–µ—Ç –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏, –∏—Å–ø–æ–ª—å–∑—É–µ–º –±—É–¥—É—â–µ–µ
            if (tense === 'PRES' && verb.aspect === 'pf') {
                return conjugateVerb(verb, person, number, 'FUT', gender);
            }
            
            return verb.lemma;
        }
        
        // –§—É–Ω–∫—Ü–∏—è –≤—ã–±–æ—Ä–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ–∫–æ–Ω—á–∞–Ω–∏–π –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –æ—Å–Ω–æ–≤—ã –≥–ª–∞–≥–æ–ª–∞
        function getVerbEndings(verb, number) {
            const lastChar = verb.presStem.charAt(verb.presStem.length - 1);
            const isVowel = '–∞–µ—ë–∏–æ—É—ã—ç—é—è'.includes(lastChar);
            
            if (verb.conj === 1) {
                // I —Å–ø—Ä—è–∂–µ–Ω–∏–µ
                if (number === 'SG') {
                    return isVowel ? ['—é', '–µ—à—å', '–µ—Ç'] : ['—É', '–µ—à—å', '–µ—Ç'];
                } else {
                    return isVowel ? ['–µ–º', '–µ—Ç–µ', '—é—Ç'] : ['–µ–º', '–µ—Ç–µ', '—É—Ç'];
                }
            } else {
                // II —Å–ø—Ä—è–∂–µ–Ω–∏–µ
                const isSibilant = '–∂—à—á—â'.includes(lastChar);
                if (number === 'SG') {
                    return isVowel ? ['—é', '–∏—à—å', '–∏—Ç'] : ['—É', '–∏—à—å', '–∏—Ç'];
                } else {
                    if (isSibilant) {
                        return ['–∏–º', '–∏—Ç–µ', '–∞—Ç']; // –ø–æ—Å–ª–µ —à–∏–ø—è—â–∏—Ö -–∞—Ç
                    } else {
                        return isVowel ? ['–∏–º', '–∏—Ç–µ', '—è—Ç'] : ['–∏–º', '–∏—Ç–µ', '—è—Ç'];
                    }
                }
            }
        }
        
        function addReflexive(form, isRefl) {
            if (!isRefl) return form;
            const lastChar = form.charAt(form.length - 1);
            return '–∞–µ—ë–∏–æ—É—ã—ç—é—è'.includes(lastChar) ? form + '—Å—å' : form + '—Å—è';
        }
        
        // ========== –ü–†–ò–ß–ê–°–¢–ò–Ø ==========
        function makeParticiple(verb, type) {
            let stem = '';
            let suffix = '';
            
            if (type === 'ACT_PRES') { 
                // –î–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∏—á–∞—Å—Ç–∏—è –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
                // –û—Ç –æ—Å–Ω–æ–≤—ã –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ 3 –ª. –º–Ω.—á.
                // –ù—É–∂–Ω–æ —Å–ø—Ä—è–≥–∞—Ç—å –≥–ª–∞–≥–æ–ª –≤ 3 –ª. –º–Ω.—á. –∏ –≤–∑—è—Ç—å –æ—Å–Ω–æ–≤—É
                const form3pl = conjugateVerb(verb, 3, 'PL', 'PRES', 'M');
                
                // –£–±–∏—Ä–∞–µ–º –≤–æ–∑–≤—Ä–∞—Ç–Ω—É—é —á–∞—Å—Ç–∏—Ü—É –µ—Å–ª–∏ –µ—Å—Ç—å
                let cleanForm = form3pl;
                if (verb.refl) {
                    cleanForm = cleanForm.replace(/—Å—è$/, '').replace(/—Å—å$/, '');
                }
                
                // –û—Ç—Å–µ–∫–∞–µ–º –æ–∫–æ–Ω—á–∞–Ω–∏–µ 3 –ª. –º–Ω.—á.: -—É—Ç/-—é—Ç –¥–ª—è I —Å–ø—Ä., -–∞—Ç/-—è—Ç –¥–ª—è II —Å–ø—Ä.
                if (cleanForm.endsWith('—É—Ç') || cleanForm.endsWith('—é—Ç')) {
                    stem = cleanForm.slice(0, -2);
                    const isVowel = '–∞–µ—ë–∏–æ—É—ã—ç—é—è'.includes(stem.charAt(stem.length - 1));
                    suffix = isVowel ? '—é—â' : '—É—â';
                } else if (cleanForm.endsWith('–∞—Ç') || cleanForm.endsWith('—è—Ç')) {
                    stem = cleanForm.slice(0, -2);
                    // II —Å–ø—Ä—è–∂–µ–Ω–∏–µ –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—Ñ—Ñ–∏–∫—Å '—è—â'
                    suffix = '—è—â';
                } else {
                    // Fallback –∫ —Å—Ç–∞—Ä–æ–º—É –º–µ—Ç–æ–¥—É
                    stem = verb.presStem;
                    if (verb.conj === 1) {
                        // I —Å–ø—Ä—è–∂–µ–Ω–∏–µ: –ø–æ—Å–ª–µ –≥–ª–∞—Å–Ω—ã—Ö '—é—â', –ø–æ—Å–ª–µ —Å–æ–≥–ª–∞—Å–Ω—ã—Ö '—É—â'
                        const lastChar = stem.charAt(stem.length - 1);
                        const isVowel = '–∞–µ—ë–∏–æ—É—ã—ç—é—è'.includes(lastChar);
                        suffix = isVowel ? '—é—â' : '—É—â';
                    } else {
                        // II —Å–ø—Ä—è–∂–µ–Ω–∏–µ: –≤—Å–µ–≥–¥–∞ '—è—â'
                        suffix = '—è—â';
                    }
                }
                
            } else if (type === 'ACT_PAST') { 
                // –î–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∏—á–∞—Å—Ç–∏—è –ø—Ä–æ—à–µ–¥—à–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
                // –û—Ç –æ—Å–Ω–æ–≤—ã –ø—Ä–æ—à–µ–¥—à–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
                stem = verb.pastStem;
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ–∫–æ–Ω—á–∞–Ω–∏–µ –æ—Å–Ω–æ–≤—ã
                const lastChar = stem.charAt(stem.length - 1);
                if (lastChar === '–∞' || lastChar === '—è' || lastChar === '–µ') {
                    suffix = '–≤—à'; // –ø–æ—Å–ª–µ –≥–ª–∞—Å–Ω—ã—Ö
                } else {
                    suffix = '—à'; // –ø–æ—Å–ª–µ —Å–æ–≥–ª–∞—Å–Ω—ã—Ö
                }
                
            } else if (type === 'PASS_PRES') { 
                // –°—Ç—Ä–∞–¥–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∏—á–∞—Å—Ç–∏—è –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
                // –¢–æ–ª—å–∫–æ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–Ω—ã—Ö –≥–ª–∞–≥–æ–ª–æ–≤ –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–≥–æ –≤–∏–¥–∞
                if (!verb.trans || verb.aspect === 'pf') return null;
                
                stem = verb.presStem;
                
                // I —Å–ø—Ä—è–∂–µ–Ω–∏–µ: -–µ–º
                // II —Å–ø—Ä—è–∂–µ–Ω–∏–µ: -–∏–º
                if (verb.conj === 1) {
                    suffix = '–µ–º';
                } else {
                    suffix = '–∏–º';
                }
                
            } else if (type === 'PASS_PAST') { 
                // –°—Ç—Ä–∞–¥–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∏—á–∞—Å—Ç–∏—è –ø—Ä–æ—à–µ–¥—à–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
                // –¢–æ–ª—å–∫–æ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–Ω—ã—Ö –≥–ª–∞–≥–æ–ª–æ–≤ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–≥–æ –≤–∏–¥–∞
                if (!verb.trans || verb.aspect === 'impf') return null;
                
                stem = verb.pastStem;
                
                // –û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—Ñ—Ñ–∏–∫—Å—ã: -–Ω–Ω, -–µ–Ω–Ω, -—Ç
                // –£–ø—Ä–æ—â—ë–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º -–Ω–Ω –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –≥–ª–∞–≥–æ–ª–æ–≤
                const lastChar = stem.charAt(stem.length - 1);
                if (lastChar === '–∞' || lastChar === '—è') {
                    // —É–±–∏—Ä–∞–µ–º –≥–ª–∞—Å–Ω—É—é –∏ –¥–æ–±–∞–≤–ª—è–µ–º -–Ω–Ω
                    stem = stem.slice(0, -1);
                    suffix = '–Ω–Ω';
                } else {
                    suffix = '–µ–Ω–Ω';
                }
            }
            
            return { 
                stem: stem + suffix, 
                type: type,
                isParticiple: true 
            };
        }
        
        // –°–∫–ª–æ–Ω–µ–Ω–∏–µ –ø—Ä–∏—á–∞—Å—Ç–∏–π (—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –ø–æ —Ä–æ–¥—É, —á–∏—Å–ª—É, –ø–∞–¥–µ–∂—É)
        function declineParticiple(participle, gender, caseKey, number, anim) {
            const endings = PARTICIPLE_ENDINGS[participle.type];
            if (!endings) return applyOrthography(participle.stem, '–∏–π'); // –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
            
            if (number === 'PL') {
                const plEndings = endings.M.PL; // –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —á–∏—Å–ª–∞ —Ä–æ–¥ –Ω–µ –≤–∞–∂–µ–Ω
                if (caseKey === 'ACC') {
                    return applyOrthography(participle.stem, anim ? plEndings.ACC_ANIM : plEndings.ACC_INAN);
                }
                return applyOrthography(participle.stem, plEndings[caseKey]);
            }
            
            // –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ - —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –ø–æ —Ä–æ–¥—É
            const genderEndings = endings[gender].SG;
            
            if (caseKey === 'ACC') {
                // –î–ª—è –≤–∏–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø–∞–¥–µ–∂–∞ —É—á–∏—Ç—ã–≤–∞–µ–º –æ–¥—É—à–µ–≤–ª—ë–Ω–Ω–æ—Å—Ç—å
                if (gender === 'M') {
                    return applyOrthography(participle.stem, anim ? genderEndings.ACC_ANIM : genderEndings.ACC_INAN);
                }
                // –î–ª—è –∂–µ–Ω—Å–∫–æ–≥–æ –∏ —Å—Ä–µ–¥–Ω–µ–≥–æ —Ä–æ–¥–∞ –æ–¥—É—à–µ–≤–ª—ë–Ω–Ω–æ—Å—Ç—å –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –æ–∫–æ–Ω—á–∞–Ω–∏–µ
                return applyOrthography(participle.stem, genderEndings.ACC);
            }
            
            return applyOrthography(participle.stem, genderEndings[caseKey]);
        }
        
        // ========== –î–ï–ï–ü–†–ò–ß–ê–°–¢–ò–Ø ==========
        function makeGerund(verb) {
            // –í–æ–∑–≤—Ä–∞—Ç–Ω—ã–µ –≥–ª–∞–≥–æ–ª—ã
            if (verb.refl) {
                if (verb.aspect === 'impf') {
                    // –û–±—Ä–∞–∑—É–µ–º –æ—Ç 3 –ª. –º–Ω.—á.
                    const form3pl = conjugateVerb(verb, 3, 'PL', 'PRES', 'M');
                    let cleanForm = form3pl.replace(/—Å—è$/, '').replace(/—Å—å$/, '');
                    
                    if (cleanForm.endsWith('—É—Ç') || cleanForm.endsWith('—é—Ç')) {
                        // I —Å–ø—Ä—è–∂–µ–Ω–∏–µ
                        return cleanForm.slice(0, -2) + '—è—Å—å';
                    } else if (cleanForm.endsWith('–∞—Ç') || cleanForm.endsWith('—è—Ç')) {
                        // II —Å–ø—Ä—è–∂–µ–Ω–∏–µ - –≤—Å–µ–≥–¥–∞ '—è—Å—å'
                        return cleanForm.slice(0, -2) + '—è—Å—å';
                    }
                    return verb.presStem + '—è—Å—å';
                } else {
                    return verb.pastStem + '–≤—à–∏—Å—å';
                }
            }
            
            if (verb.aspect === 'impf') {
                // –î–µ–µ–ø—Ä–∏—á–∞—Å—Ç–∏—è –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–≥–æ –≤–∏–¥–∞
                // –û—Ç 3 –ª. –º–Ω.—á. –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
                const form3pl = conjugateVerb(verb, 3, 'PL', 'PRES', 'M');
                
                // –û—Ç—Å–µ–∫–∞–µ–º –æ–∫–æ–Ω—á–∞–Ω–∏–µ -—É—Ç/-—é—Ç –∏–ª–∏ -–∞—Ç/-—è—Ç
                if (form3pl.endsWith('—É—Ç') || form3pl.endsWith('—é—Ç')) {
                    // I —Å–ø—Ä—è–∂–µ–Ω–∏–µ
                    const stem = form3pl.slice(0, -2);
                    const lastChar = stem.charAt(stem.length - 1);
                    const isVowel = '–∞–µ—ë–∏–æ—É—ã—ç—é—è'.includes(lastChar);
                    return stem + (isVowel ? '—è' : '–∞');
                } else if (form3pl.endsWith('–∞—Ç') || form3pl.endsWith('—è—Ç')) {
                    // II —Å–ø—Ä—è–∂–µ–Ω–∏–µ - –≤—Å–µ–≥–¥–∞ '—è'
                    const stem = form3pl.slice(0, -2);
                    return stem + '—è';
                }
                
                // Fallback
                let stem = verb.presStem;
                if (verb.conj === 1) {
                    const lastChar = stem.charAt(stem.length - 1);
                    const isVowel = '–∞–µ—ë–∏–æ—É—ã—ç—é—è'.includes(lastChar);
                    return stem + (isVowel ? '—è' : '–∞');
                } else {
                    // II —Å–ø—Ä—è–∂–µ–Ω–∏–µ - –≤—Å–µ–≥–¥–∞ '—è'
                    return stem + '—è';
                }
                
            } else {
                // –î–µ–µ–ø—Ä–∏—á–∞—Å—Ç–∏—è —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–≥–æ –≤–∏–¥–∞
                // –û—Ç –æ—Å–Ω–æ–≤—ã –ø—Ä–æ—à–µ–¥—à–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ + -–≤/-–≤—à–∏
                let stem = verb.pastStem;
                const lastChar = stem.charAt(stem.length - 1);
                
                // –ï—Å–ª–∏ –æ—Å–Ω–æ–≤–∞ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –≥–ª–∞—Å–Ω—É—é - –∏—Å–ø–æ–ª—å–∑—É–µ–º -–≤
                if ('–∞—è–µ—ë–∏–æ—É—ã—ç—é—è'.includes(lastChar)) {
                    return stem + '–≤';
                }
                
                // –ï—Å–ª–∏ –æ—Å–Ω–æ–≤–∞ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ —Å–æ–≥–ª–∞—Å–Ω—É—é
                // –î–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –≥–ª–∞–≥–æ–ª–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—É—Ñ—Ñ–∏–∫—Å -—à–∏
                // –ù–∞–ø—Ä–∏–º–µ—Ä: –ø—Ä–∏–Ω–µ—Å—Ç–∏ ‚Üí –ø—Ä–∏–Ω—ë—Å—à–∏ (–∞—Ä—Ö–∞–∏—á–Ω–∞—è —Ñ–æ—Ä–º–∞)
                // –£–ø—Ä–æ—â—ë–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º -—à–∏ –¥–ª—è —Å–æ–≥–ª–∞—Å–Ω—ã—Ö
                return stem + '—à–∏';
            }
        }
        
        // ========== –°–ö–õ–û–ù–ï–ù–ò–ï –ß–ò–°–õ–ò–¢–ï–õ–¨–ù–´–• ==========
        function declineNumeral(numeral, caseKey, gender, anim) {
            if (numeral.lemma === '–æ–¥–∏–Ω') {
                const forms = numeral[gender];
                if (caseKey === 'ACC') {
                    return anim ? forms.ACC_ANIM : forms.ACC_INAN;
                }
                return forms[caseKey];
            } else if (numeral.M && numeral.F) {
                // –¥–≤–∞, –¥–≤–µ
                const forms = numeral[gender];
                if (caseKey === 'ACC') {
                    return anim ? forms.ACC_ANIM : forms.ACC_INAN;
                }
                return forms[caseKey];
            } else {
                // —Ç—Ä–∏, —á–µ—Ç—ã—Ä–µ, –ø—è—Ç—å –∏ —Ç.–¥.
                if (caseKey === 'ACC' && (numeral.forms.ACC_INAN || numeral.forms.ACC_ANIM)) {
                    return anim ? numeral.forms.ACC_ANIM : numeral.forms.ACC_INAN;
                }
                return numeral.forms[caseKey] || numeral.forms.ACC;
            }
        }
        
        // –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Å —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–º
        function nounWithNumeral(numeral, noun, caseKey) {
            // –í –∏–º–µ–Ω–∏—Ç–µ–ª—å–Ω–æ–º –∏ –≤–∏–Ω–∏—Ç–µ–ª—å–Ω–æ–º –ø–∞–¥–µ–∂–∞—Ö –æ—Å–æ–±—ã–µ –ø—Ä–∞–≤–∏–ª–∞
            if (caseKey === 'NOM' || (caseKey === 'ACC' && !noun.anim)) {
                return declineNoun(noun, numeral.nounCase, numeral.nounNumber);
            }
            // –í –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –ø–∞–¥–µ–∂–∞—Ö - —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –ø–æ –ø–∞–¥–µ–∂—É –≤–æ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —á–∏—Å–ª–µ
            return declineNoun(noun, caseKey, 'PL');
        }
        
        
        // ========== –®–ê–ë–õ–û–ù–´ –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ô ==========
        const SENTENCE_PATTERNS = {
            simple: [
                // –ü—Ä–æ—Å—Ç–æ–µ (–Ω–∞—Å—Ç–æ—è—â–µ–µ)
                {
                    name: '–ü—Ä–æ—Å—Ç–æ–µ –Ω–∞—Å—Ç–æ—è—â–µ–µ',
                    generate: () => {
                        const noun = randomChoice(NOUNS);
                        const verb = randomChoice(VERBS.filter(v => v.aspect === 'impf' && !v.refl));
                        const nounForm = declineNoun(noun, 'NOM', 'SG');
                        const verbForm = conjugateVerb(verb, 3, 'SG', 'PRES', noun.gender);
                        return {
                            text: capitalize(nounForm) + ' ' + verbForm + '.',
                            info: [{label:'–ü–æ–¥–ª–µ–∂–∞—â–µ–µ',value:nounForm},{label:'–°–∫–∞–∑—É–µ–º–æ–µ',value:verbForm+' (–Ω–∞—Å—Ç.)'}]
                        };
                    }
                },
                // –ü—Ä–æ—Å—Ç–æ–µ (–ø—Ä–æ—à–µ–¥—à–µ–µ)
                {
                    name: '–ü—Ä–æ—Å—Ç–æ–µ –ø—Ä–æ—à–µ–¥—à–µ–µ',
                    generate: () => {
                        const noun = randomChoice(NOUNS);
                        const verb = randomChoice(VERBS.filter(v => !v.refl));
                        const nounForm = declineNoun(noun, 'NOM', 'SG');
                        const verbForm = conjugateVerb(verb, 3, 'SG', 'PAST', noun.gender);
                        return {
                            text: capitalize(nounForm) + ' ' + verbForm + '.',
                            info: [{label:'–ü–æ–¥–ª–µ–∂–∞—â–µ–µ',value:nounForm+' ('+noun.gender+')'},{label:'–°–∫–∞–∑—É–µ–º–æ–µ',value:verbForm+' (–ø—Ä–æ—à.)'}]
                        };
                    }
                },
                // –ü—Ä–æ—Å—Ç–æ–µ (–±—É–¥—É—â–µ–µ)
                {
                    name: '–ü—Ä–æ—Å—Ç–æ–µ –±—É–¥—É—â–µ–µ',
                    generate: () => {
                        const noun = randomChoice(NOUNS);
                        const verb = randomChoice(VERBS.filter(v => !v.refl));
                        const nounForm = declineNoun(noun, 'NOM', 'SG');
                        const verbForm = conjugateVerb(verb, 3, 'SG', 'FUT', noun.gender);
                        return {
                            text: capitalize(nounForm) + ' ' + verbForm + '.',
                            info: [{label:'–ü–æ–¥–ª–µ–∂–∞—â–µ–µ',value:nounForm},{label:'–°–∫–∞–∑—É–µ–º–æ–µ',value:verbForm+' (–±—É–¥.)'}]
                        };
                    }
                },
                // –° –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º
                {
                    name: '–° –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º',
                    generate: () => {
                        const noun = randomChoice(NOUNS);
                        const adj = randomChoice(ADJECTIVES);
                        const verb = randomChoice(VERBS.filter(v => !v.refl));
                        const tense = randomChoice(['PRES', 'PAST', 'FUT']);
                        const adjForm = declineAdjective(adj, noun.gender, 'NOM', 'SG', noun.anim);
                        const nounForm = declineNoun(noun, 'NOM', 'SG');
                        const verbForm = conjugateVerb(verb, 3, 'SG', tense, noun.gender);
                        return {
                            text: capitalize(adjForm) + ' ' + nounForm + ' ' + verbForm + '.',
                            info: [{label:'–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ',value:adjForm},{label:'–ü–æ–¥–ª–µ–∂–∞—â–µ–µ',value:nounForm},{label:'–°–∫–∞–∑—É–µ–º–æ–µ',value:verbForm}]
                        };
                    }
                },
                // –° –æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤–æ–º
                {
                    name: '–° –æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤–æ–º',
                    generate: () => {
                        const noun = randomChoice(NOUNS);
                        const verb = randomChoice(VERBS.filter(v => !v.refl));
                        const adv = randomChoice(Object.values(ADVERBS).flat());
                        const tense = randomChoice(['PRES', 'PAST', 'FUT']);
                        const nounForm = declineNoun(noun, 'NOM', 'SG');
                        const verbForm = conjugateVerb(verb, 3, 'SG', tense, noun.gender);
                        return {
                            text: capitalize(nounForm) + ' ' + verbForm + ' ' + adv + '.',
                            info: [{label:'–ü–æ–¥–ª–µ–∂–∞—â–µ–µ',value:nounForm},{label:'–°–∫–∞–∑—É–µ–º–æ–µ',value:verbForm},{label:'–û–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤–æ',value:adv}]
                        };
                    }
                },
                // –° —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–º
                {
                    name: '–° —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–º',
                    generate: () => {
                        const numeral = randomChoice(NUMERALS);
                        const noun = randomChoice(NOUNS);
                        const verb = randomChoice(VERBS.filter(v => v.aspect === 'impf' && !v.refl));
                        
                        const numeralForm = declineNumeral(numeral, 'NOM', noun.gender, noun.anim);
                        
                        // –ü—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω–æ–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, 50% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å)
                        let adjForm = '';
                        if (chance(0.5)) {
                            const adj = randomChoice(ADJECTIVES);
                            // –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω–æ–≥–æ —Å —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–º
                            if (numeral.lemma === '–æ–¥–∏–Ω') {
                                adjForm = declineAdjective(adj, noun.gender, 'NOM', 'SG', noun.anim) + ' ';
                            } else if (numeral.nounNumber === 'SG') {
                                // –î–ª—è 2, 3, 4
                                if (noun.anim) {
                                    // –æ–¥—É—à–µ–≤–ª—ë–Ω–Ω–æ–µ - —Ä–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –º–Ω.—á.
                                    adjForm = declineAdjective(adj, noun.gender, 'GEN', 'PL', noun.anim) + ' ';
                                } else {
                                    // –Ω–µ–æ–¥—É—à–µ–≤–ª—ë–Ω–Ω–æ–µ - –∏–º–µ–Ω–∏—Ç–µ–ª—å–Ω—ã–π –º–Ω.—á.
                                    adjForm = declineAdjective(adj, noun.gender, 'NOM', 'PL', noun.anim) + ' ';
                                }
                            } else {
                                // –î–ª—è 5+ - —Ä–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –º–Ω.—á.
                                adjForm = declineAdjective(adj, noun.gender, 'GEN', 'PL', noun.anim) + ' ';
                            }
                        }
                        
                        const nounForm = nounWithNumeral(numeral, noun, 'NOM');
                        
                        // –ì–ª–∞–≥–æ–ª —Å–æ–≥–ª–∞—Å—É–µ—Ç—Å—è –≤ —á–∏—Å–ª–µ: –æ–¥–∏–Ω - –µ–¥.—á., –æ—Å—Ç–∞–ª—å–Ω—ã–µ - –º–Ω.—á.
                        const verbNumber = (numeral.lemma === '–æ–¥–∏–Ω') ? 'SG' : 'PL';
                        const verbForm = conjugateVerb(verb, 3, verbNumber, 'PRES', noun.gender);
                        
                        return {
                            text: capitalize(numeralForm) + ' ' + adjForm + nounForm + ' ' + verbForm + '.',
                            info: [{label:'–ß–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ–µ',value:numeralForm},{label:'–ü—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω–æ–µ',value:adjForm||'‚Äî'},{label:'–°—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–µ',value:nounForm},{label:'–ì–ª–∞–≥–æ–ª',value:verbForm}]
                        };
                    }
                }
            ],
            
            medium: [
                // –° –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ–º
                {
                    name: '–° –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ–º',
                    generate: () => {
                        const subj = randomChoice(NOUNS.filter(n => n.anim));
                        const obj = randomChoice(NOUNS);
                        const verb = randomChoice(VERBS.filter(v => v.trans && !v.refl));
                        const tense = randomChoice(['PRES', 'PAST', 'FUT']);
                        const subjForm = declineNoun(subj, 'NOM', 'SG');
                        const verbForm = conjugateVerb(verb, 3, 'SG', tense, subj.gender);
                        const objForm = declineNoun(obj, 'ACC', 'SG');
                        return {
                            text: capitalize(subjForm) + ' ' + verbForm + ' ' + objForm + '.',
                            info: [{label:'–ü–æ–¥–ª–µ–∂–∞—â–µ–µ',value:subjForm},{label:'–°–∫–∞–∑—É–µ–º–æ–µ',value:verbForm},{label:'–î–æ–ø–æ–ª–Ω–µ–Ω–∏–µ',value:objForm}]
                        };
                    }
                },
                // –° –ø—Ä–µ–¥–ª–æ–∂–Ω—ã–º –æ–±–æ—Ä–æ—Ç–æ–º
                {
                    name: '–° –ø—Ä–µ–¥–ª–æ–∂–Ω—ã–º –æ–±–æ—Ä–æ—Ç–æ–º',
                    generate: () => {
                        const caseKey = randomChoice(['GEN','DAT','ACC','INS','PRE']);
                        const prep = randomChoice(PREPOSITIONS[caseKey]);
                        const noun1 = randomChoice(NOUNS);
                        const noun2 = randomChoice(NOUNS);
                        const verb = randomChoice(VERBS.filter(v => !v.refl));
                        const tense = randomChoice(['PRES', 'PAST', 'FUT']);
                        const noun1Form = declineNoun(noun1, caseKey, 'SG');
                        const noun2Form = declineNoun(noun2, 'NOM', 'SG');
                        const verbForm = conjugateVerb(verb, 3, 'SG', tense, noun2.gender);
                        const adjustedPrep = adjustPreposition(prep, noun1Form);
                        return {
                            text: capitalize(adjustedPrep) + ' ' + noun1Form + ' ' + noun2Form + ' ' + verbForm + '.',
                            info: [{label:'–ü—Ä–µ–¥–ª–æ–≥',value:adjustedPrep},{label:'–î–æ–ø–æ–ª–Ω–µ–Ω–∏–µ',value:noun1Form},{label:'–ü–æ–¥–ª–µ–∂–∞—â–µ–µ',value:noun2Form},{label:'–°–∫–∞–∑—É–µ–º–æ–µ',value:verbForm}]
                        };
                    }
                },
                // –° –ø—Ä–∏—á–∞—Å—Ç–Ω—ã–º –æ–±–æ—Ä–æ—Ç–æ–º
                {
                    name: '–° –ø—Ä–∏—á–∞—Å—Ç–Ω—ã–º –æ–±–æ—Ä–æ—Ç–æ–º',
                    generate: () => {
                        const noun = randomChoice(NOUNS.filter(n => n.anim));
                        const verb1 = randomChoice(VERBS.filter(v => !v.refl && v.aspect === 'impf'));
                        const verb2 = randomChoice(VERBS.filter(v => !v.refl));
                        const participle = makeParticiple(verb1, 'ACT_PRES');
                        if (!participle) return SENTENCE_PATTERNS.medium[0].generate();
                        
                        const obj = randomChoice(NOUNS);
                        const tense = randomChoice(['PRES', 'PAST']);
                        
                        const nounForm = declineNoun(noun, 'NOM', 'SG');
                        const partForm = declineParticiple(participle, noun.gender, 'NOM', 'SG', noun.anim);
                        const objForm = declineNoun(obj, 'ACC', 'SG');
                        const verbForm = conjugateVerb(verb2, 3, 'SG', tense, noun.gender);
                        
                        return {
                            text: capitalize(nounForm) + ', ' + partForm + ' ' + objForm + ', ' + verbForm + '.',
                            info: [{label:'–ü–æ–¥–ª–µ–∂–∞—â–µ–µ',value:nounForm},{label:'–ü—Ä–∏—á–∞—Å—Ç–∏–µ',value:partForm},{label:'–î–æ–ø–æ–ª–Ω–µ–Ω–∏–µ',value:objForm},{label:'–°–∫–∞–∑—É–µ–º–æ–µ',value:verbForm}]
                        };
                    }
                },
                // –° –¥–µ–µ–ø—Ä–∏—á–∞—Å—Ç–Ω—ã–º –æ–±–æ—Ä–æ—Ç–æ–º
                {
                    name: '–° –¥–µ–µ–ø—Ä–∏—á–∞—Å—Ç–Ω—ã–º –æ–±–æ—Ä–æ—Ç–æ–º',
                    generate: () => {
                        const noun = randomChoice(NOUNS.filter(n => n.anim));
                        const verb1 = randomChoice(VERBS.filter(v => v.aspect === 'impf' && !v.refl));
                        const verb2 = randomChoice(VERBS.filter(v => !v.refl));
                        const gerund = makeGerund(verb1);
                        const obj = randomChoice(NOUNS);
                        const tense = randomChoice(['PRES', 'PAST']);
                        
                        const nounForm = declineNoun(noun, 'NOM', 'SG');
                        const objForm = declineNoun(obj, 'ACC', 'SG');
                        const verbForm = conjugateVerb(verb2, 3, 'SG', tense, noun.gender);
                        
                        return {
                            text: capitalize(nounForm) + ', ' + gerund + ' ' + objForm + ', ' + verbForm + '.',
                            info: [{label:'–ü–æ–¥–ª–µ–∂–∞—â–µ–µ',value:nounForm},{label:'–î–µ–µ–ø—Ä–∏—á–∞—Å—Ç–∏–µ',value:gerund},{label:'–î–æ–ø–æ–ª–Ω–µ–Ω–∏–µ',value:objForm},{label:'–°–∫–∞–∑—É–µ–º–æ–µ',value:verbForm}]
                        };
                    }
                }
            ],
            
            complex: [
                // –°–ª–æ–∂–Ω–æ—Å–æ—á–∏–Ω—ë–Ω–Ω–æ–µ
                {
                    name: '–°–ª–æ–∂–Ω–æ—Å–æ—á–∏–Ω—ë–Ω–Ω–æ–µ',
                    generate: () => {
                        const conj = randomChoice(CONJUNCTIONS.coord);
                        const noun1 = randomChoice(NOUNS);
                        const noun2 = randomChoice(NOUNS);
                        const verb1 = randomChoice(VERBS.filter(v => !v.refl));
                        const verb2 = randomChoice(VERBS.filter(v => !v.refl));
                        const tense = randomChoice(['PRES', 'PAST', 'FUT']);
                        
                        const noun1Form = declineNoun(noun1, 'NOM', 'SG');
                        const verb1Form = conjugateVerb(verb1, 3, 'SG', tense, noun1.gender);
                        const noun2Form = declineNoun(noun2, 'NOM', 'SG');
                        const verb2Form = conjugateVerb(verb2, 3, 'SG', tense, noun2.gender);
                        
                        return {
                            text: capitalize(noun1Form) + ' ' + verb1Form + ', ' + conj + ' ' + noun2Form + ' ' + verb2Form + '.',
                            info: [{label:'–¢–∏–ø',value:'–°–ª–æ–∂–Ω–æ—Å–æ—á–∏–Ω—ë–Ω–Ω–æ–µ'},{label:'–°–æ—é–∑',value:conj},{label:'–í—Ä–µ–º—è',value:tense}]
                        };
                    }
                },
                // –°–ª–æ–∂–Ω–æ–ø–æ–¥—á–∏–Ω—ë–Ω–Ω–æ–µ
                {
                    name: '–°–ª–æ–∂–Ω–æ–ø–æ–¥—á–∏–Ω—ë–Ω–Ω–æ–µ',
                    generate: () => {
                        const conj = randomChoice(CONJUNCTIONS.subord);
                        const noun1 = randomChoice(NOUNS);
                        const noun2 = randomChoice(NOUNS);
                        const verb1 = randomChoice(VERBS.filter(v => !v.refl));
                        const verb2 = randomChoice(VERBS.filter(v => !v.refl));
                        
                        const mainTense = randomChoice(['PRES', 'PAST', 'FUT']);
                        let suborTense = mainTense;
                        
                        if (mainTense === 'PRES' || mainTense === 'FUT') {
                            suborTense = randomChoice(['PRES', 'PAST', 'FUT']);
                        } else {
                            suborTense = randomChoice(['PAST', 'FUT']);
                        }
                        
                        const noun1Form = declineNoun(noun1, 'NOM', 'SG');
                        const verb1Form = conjugateVerb(verb1, 3, 'SG', mainTense, noun1.gender);
                        const noun2Form = declineNoun(noun2, 'NOM', 'SG');
                        const verb2Form = conjugateVerb(verb2, 3, 'SG', suborTense, noun2.gender);
                        
                        return {
                            text: capitalize(noun1Form) + ' ' + verb1Form + ', ' + conj + ' ' + noun2Form + ' ' + verb2Form + '.',
                            info: [{label:'–¢–∏–ø',value:'–°–ª–æ–∂–Ω–æ–ø–æ–¥—á–∏–Ω—ë–Ω–Ω–æ–µ'},{label:'–ì–ª–∞–≤–Ω–æ–µ',value:mainTense},{label:'–ü—Ä–∏–¥–∞—Ç–æ—á–Ω–æ–µ',value:suborTense}]
                        };
                    }
                },
                // –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ
                {
                    name: '–° –ø—Ä–∏—á–∞—Å—Ç–Ω—ã–º –∏ –¥–µ–µ–ø—Ä–∏—á–∞—Å—Ç–Ω—ã–º –æ–±–æ—Ä–æ—Ç–∞–º–∏',
                    generate: () => {
                        const noun = randomChoice(NOUNS.filter(n => n.anim));
                        const verb1 = randomChoice(VERBS.filter(v => !v.refl && v.aspect === 'impf'));
                        const verb2 = randomChoice(VERBS.filter(v => !v.refl && v.aspect === 'impf'));
                        const verb3 = randomChoice(VERBS.filter(v => !v.refl));
                        
                        const participle = makeParticiple(verb1, 'ACT_PRES');
                        if (!participle) return SENTENCE_PATTERNS.complex[0].generate();
                        const gerund = makeGerund(verb2);
                        
                        const obj1 = randomChoice(NOUNS);
                        const obj2 = randomChoice(NOUNS);
                        
                        const nounForm = declineNoun(noun, 'NOM', 'SG');
                        const partForm = declineParticiple(participle, noun.gender, 'NOM', 'SG', noun.anim);
                        const obj1Form = declineNoun(obj1, 'ACC', 'SG');
                        const obj2Form = declineNoun(obj2, 'ACC', 'SG');
                        const verbForm = conjugateVerb(verb3, 3, 'SG', 'PAST', noun.gender);
                        
                        return {
                            text: capitalize(nounForm) + ', ' + partForm + ' ' + obj1Form + ', ' + gerund + ' ' + obj2Form + ', ' + verbForm + '.',
                            info: [{label:'–ü–æ–¥–ª–µ–∂–∞—â–µ–µ',value:nounForm},{label:'–ü—Ä–∏—á–∞—Å—Ç–∏–µ',value:partForm},{label:'–î–µ–µ–ø—Ä–∏—á–∞—Å—Ç–∏–µ',value:gerund},{label:'–°–∫–∞–∑—É–µ–º–æ–µ',value:verbForm}]
                        };
                    }
                }
            ]
        };
        
        // ========== –ö–û–ú–ü–û–ó–ò–¶–ò–û–ù–ù–ê–Ø –°–ò–°–¢–ï–ú–ê –ì–ï–ù–ï–†–ê–¶–ò–ò ==========
        let generationMode = 'template';
        let composComplexity = 5;
        
        function generateNounPhrase(caseKey, number, level) {
            const noun = randomChoice(NOUNS);
            let nounText = declineNoun(noun, caseKey, number);
            const context = { raw: noun, gender: noun.gender, case: caseKey, number: number, anim: noun.anim };
            
            let text = '';
            let hasNumeral = false;
            let numeral = null;
            let verbNumber = number; // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é - –∫–∞–∫ –ø–µ—Ä–µ–¥–∞–Ω–æ
            
            // –ß–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ–µ (20% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å)
            if (chance(0.2)) {
                hasNumeral = true;
                numeral = randomChoice(NUMERALS);
                const numeralForm = declineNumeral(numeral, caseKey, noun.gender, noun.anim);
                text += numeralForm + ' ';
                nounText = (caseKey === 'NOM' || (caseKey === 'ACC' && !noun.anim)) 
                    ? declineNoun(noun, numeral.nounCase, numeral.nounNumber)
                    : declineNoun(noun, caseKey, 'PL');
                
                // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —á–∏—Å–ª–æ –¥–ª—è –≥–ª–∞–≥–æ–ª–∞
                verbNumber = (numeral.lemma === '–æ–¥–∏–Ω') ? 'SG' : 'PL';
            }
            
            // –ü—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω–æ–µ (50% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å)
            if (chance(0.5)) {
                const adj = randomChoice(ADJECTIVES);
                let adjForm;
                
                if (hasNumeral) {
                    // –ü—Ä–∏ —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω–æ–µ —Å–æ–≥–ª–∞—Å—É–µ—Ç—Å—è –æ—Å–æ–±–æ:
                    // - —Å "–æ–¥–∏–Ω": —Å–æ–≥–ª–∞—Å—É–µ—Ç—Å—è —Å —Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º (–µ–¥.—á., –ø–æ —Ä–æ–¥—É)
                    // - —Å "–¥–≤–∞/–¥–≤–µ, —Ç—Ä–∏, —á–µ—Ç—ã—Ä–µ": 
                    //     * –Ω–µ–æ–¥—É—à–µ–≤–ª—ë–Ω–Ω—ã–µ: –∏–º.–ø. –º–Ω.—á. (–≤ –∏–º./–≤–∏–Ω.)
                    //     * –æ–¥—É—à–µ–≤–ª—ë–Ω–Ω—ã–µ: —Ä–æ–¥.–ø. –º–Ω.—á. (–≤ –∏–º./–≤–∏–Ω.)
                    // - —Å "–ø—è—Ç—å" –∏ –±–æ–ª—å—à–µ: —Ä–æ–¥.–ø. –º–Ω.—á. (–≤ –∏–º./–≤–∏–Ω.)
                    if (numeral.lemma === '–æ–¥–∏–Ω') {
                        adjForm = declineAdjective(adj, noun.gender, caseKey, 'SG', noun.anim);
                    } else if (caseKey === 'NOM' || (caseKey === 'ACC' && !noun.anim)) {
                        // –í –∏–º–µ–Ω–∏—Ç–µ–ª—å–Ω–æ–º –∏ –≤–∏–Ω–∏—Ç–µ–ª—å–Ω–æ–º –Ω–µ–æ–¥—É—à–µ–≤–ª–µ–Ω–Ω–æ–º
                        if (numeral.nounNumber === 'SG') {
                            // –¥–≤–∞/–¥–≤–µ, —Ç—Ä–∏, —á–µ—Ç—ã—Ä–µ
                            if (noun.anim) {
                                // –æ–¥—É—à–µ–≤–ª—ë–Ω–Ω–æ–µ - —Ä–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –º–Ω.—á.
                                adjForm = declineAdjective(adj, noun.gender, 'GEN', 'PL', noun.anim);
                            } else {
                                // –Ω–µ–æ–¥—É—à–µ–≤–ª—ë–Ω–Ω–æ–µ - –∏–º–µ–Ω–∏—Ç–µ–ª—å–Ω—ã–π –º–Ω.—á.
                                adjForm = declineAdjective(adj, noun.gender, 'NOM', 'PL', noun.anim);
                            }
                        } else {
                            // –ø—è—Ç—å+ - —Ä–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –º–Ω.—á.
                            adjForm = declineAdjective(adj, noun.gender, 'GEN', 'PL', noun.anim);
                        }
                    } else {
                        // –í –∫–æ—Å–≤–µ–Ω–Ω—ã—Ö –ø–∞–¥–µ–∂–∞—Ö - —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ —Å —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–º –≤–æ –º–Ω.—á.
                        adjForm = declineAdjective(adj, noun.gender, caseKey, 'PL', noun.anim);
                    }
                } else {
                    adjForm = declineAdjective(adj, noun.gender, caseKey, number, noun.anim);
                }
                text += adjForm + ' ';
            }
            
            text += nounText;
            
            // –ü—Ä–∏—á–∞—Å—Ç–Ω—ã–π –æ–±–æ—Ä–æ—Ç (30% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –Ω–∞ —É—Ä–æ–≤–Ω–µ 3+)
            if (level >= 3 && chance(0.3)) {
                const verb = randomChoice(VERBS.filter(v => !v.refl && v.aspect === 'impf' && v.trans));
                const participle = makeParticiple(verb, 'ACT_PRES');
                if (participle) {
                    const obj = randomChoice(NOUNS);
                    let partForm;
                    
                    if (hasNumeral) {
                        // –ü—Ä–∏—á–∞—Å—Ç–∏–µ —Å–æ–≥–ª–∞—Å—É–µ—Ç—Å—è —Ç–∞–∫ –∂–µ, –∫–∞–∫ –ø—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–∏ —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã—Ö
                        if (numeral.lemma === '–æ–¥–∏–Ω') {
                            partForm = declineParticiple(participle, noun.gender, caseKey, 'SG', noun.anim);
                        } else if (caseKey === 'NOM' || (caseKey === 'ACC' && !noun.anim)) {
                            // –í –∏–º–µ–Ω–∏—Ç–µ–ª—å–Ω–æ–º –∏ –≤–∏–Ω–∏—Ç–µ–ª—å–Ω–æ–º –Ω–µ–æ–¥—É—à–µ–≤–ª–µ–Ω–Ω–æ–º
                            if (numeral.nounNumber === 'SG') {
                                // –¥–≤–∞/–¥–≤–µ, —Ç—Ä–∏, —á–µ—Ç—ã—Ä–µ
                                if (noun.anim) {
                                    // –æ–¥—É—à–µ–≤–ª—ë–Ω–Ω–æ–µ - —Ä–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –º–Ω.—á.
                                    partForm = declineParticiple(participle, noun.gender, 'GEN', 'PL', noun.anim);
                                } else {
                                    // –Ω–µ–æ–¥—É—à–µ–≤–ª—ë–Ω–Ω–æ–µ - –∏–º–µ–Ω–∏—Ç–µ–ª—å–Ω—ã–π –º–Ω.—á.
                                    partForm = declineParticiple(participle, noun.gender, 'NOM', 'PL', noun.anim);
                                }
                            } else {
                                // –ø—è—Ç—å+ - —Ä–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –º–Ω.—á.
                                partForm = declineParticiple(participle, noun.gender, 'GEN', 'PL', noun.anim);
                            }
                        } else {
                            // –í –∫–æ—Å–≤–µ–Ω–Ω—ã—Ö –ø–∞–¥–µ–∂–∞—Ö - —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –≤–æ –º–Ω.—á.
                            partForm = declineParticiple(participle, noun.gender, caseKey, 'PL', noun.anim);
                        }
                    } else {
                        partForm = declineParticiple(participle, noun.gender, caseKey, number, noun.anim);
                    }
                    
                    const objForm = declineNoun(obj, 'ACC', 'SG');
                    text += ', ' + partForm + ' ' + objForm;
                }
            }
            return { text: text.trim(), noun: noun, verbNumber: verbNumber };
        }
        
        function generateVerbPhrase(subject, level) {
            const tense = randomChoice(['PRES', 'PAST', 'FUT']);
            let verb = randomChoice(VERBS);
            if (tense === 'PRES' && verb.aspect === 'pf') {
                verb = randomChoice(VERBS.filter(v => v.aspect === 'impf'));
            }
            // –ò—Å–ø–æ–ª—å–∑—É–µ–º verbNumber –∏–∑ subject (—É—á–∏—Ç—ã–≤–∞–µ—Ç —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–µ)
            const verbNumber = subject.verbNumber || 'SG';
            const verbText = conjugateVerb(verb, 3, verbNumber, tense, subject.noun.gender);
            let text = '';
            // –î–µ–µ–ø—Ä–∏—á–∞—Å—Ç–Ω—ã–π –æ–±–æ—Ä–æ—Ç (30% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –Ω–∞ —É—Ä–æ–≤–Ω–µ 4+)
            if (level >= 4 && chance(0.3)) {
                const gerundVerb = randomChoice(VERBS.filter(v => v.aspect === 'impf' && !v.refl));
                const gerund = makeGerund(gerundVerb);
                const obj = randomChoice(NOUNS);
                const objForm = declineNoun(obj, 'ACC', 'SG');
                text += gerund + ' ' + objForm + ', ';
            }
            text += verbText;
            // –ù–∞—Ä–µ—á–∏–µ (40% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å)
            if (chance(0.4)) {
                const adv = randomChoice(Object.values(ADVERBS).flat());
                text += ' ' + adv;
            }
            return { text: text.trim(), verb: verb, tense: tense };
        }
        
        function composeSentence(level) {
            const info = [];
            const subject = generateNounPhrase('NOM', 'SG', level);
            info.push({label: '–ü–æ–¥–ª–µ–∂–∞—â–µ–µ', value: subject.text});
            const verb = generateVerbPhrase(subject, level);
            info.push({label: '–°–∫–∞–∑—É–µ–º–æ–µ', value: verb.text + ' (' + verb.tense + ')'});
            let text = capitalize(subject.text) + ' ' + verb.text;
            // –î–æ–ø–æ–ª–Ω–µ–Ω–∏–µ (–Ω–∞ —É—Ä–æ–≤–Ω–µ 2+, –µ—Å–ª–∏ –≥–ª–∞–≥–æ–ª –ø–µ—Ä–µ—Ö–æ–¥–Ω—ã–π)
            if (level >= 2 && chance(0.6) && verb.verb.trans) {
                const object = generateNounPhrase('ACC', 'SG', level);
                text += ' ' + object.text;
                info.push({label: '–î–æ–ø–æ–ª–Ω–µ–Ω–∏–µ', value: object.text});
            }
            // –ü—Ä–µ–¥–ª–æ–∂–Ω—ã–π –æ–±–æ—Ä–æ—Ç (–Ω–∞ —É—Ä–æ–≤–Ω–µ 3+)
            if (level >= 3 && chance(0.4)) {
                const caseKey = randomChoice(['GEN', 'DAT', 'ACC', 'INS', 'PRE']);
                const prep = randomChoice(PREPOSITIONS[caseKey]);
                const prepPhrase = generateNounPhrase(caseKey, 'SG', level);
                const adjustedPrep = adjustPreposition(prep, prepPhrase.text.split(' ')[0]);
                text += ' ' + adjustedPrep + ' ' + prepPhrase.text;
                info.push({label: '–ü—Ä–µ–¥–ª–æ–∂–Ω—ã–π –æ–±–æ—Ä–æ—Ç', value: adjustedPrep + ' ' + prepPhrase.text});
            }
            // –°–ª–æ–∂–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ (–Ω–∞ —É—Ä–æ–≤–Ω–µ 4+)
            if (level >= 4 && chance(0.3)) {
                const conj = randomChoice([...CONJUNCTIONS.coord, ...CONJUNCTIONS.subord]);
                const subject2 = generateNounPhrase('NOM', 'SG', level);
                const verb2 = generateVerbPhrase(subject2, level);
                text += ', ' + conj + ' ' + subject2.text + ' ' + verb2.text;
                info.push({label: '–°–ª–æ–∂–Ω–æ–µ', value: '—Å–æ—é–∑: ' + conj});
            }
            return { text: text + '.', info: info };
        }
        
        // ========== –§–£–ù–ö–¶–ò–ò –ì–ï–ù–ï–†–ê–¶–ò–ò ==========
        function setMode(mode) {
            generationMode = mode;
            const allBtns = document.querySelectorAll('.complexity-selector:first-child .complexity-btn');
            allBtns.forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
            if (mode === 'template') {
                document.getElementById('templateComplexity').style.display = 'flex';
                document.getElementById('composLevel').style.display = 'none';
            } else {
                document.getElementById('templateComplexity').style.display = 'none';
                document.getElementById('composLevel').style.display = 'flex';
            }
        }
        
        function setComposComplexity(level) {
            composComplexity = level;
            const btns = document.querySelectorAll('#composLevel .complexity-btn');
            btns.forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
        }
        
        function setComplexity(level) {
            currentComplexity = level;
            const btns = document.querySelectorAll('#templateComplexity .complexity-btn');
            btns.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
        }
        
        function getPatterns() {
            if (currentComplexity === 'all') {
                return [...SENTENCE_PATTERNS.simple, ...SENTENCE_PATTERNS.medium, ...SENTENCE_PATTERNS.complex];
            }
            return SENTENCE_PATTERNS[currentComplexity] || SENTENCE_PATTERNS.simple;
        }
        
        function generateSentence() {
            let result;
            
            if (generationMode === 'compositional') {
                result = composeSentence(composComplexity);
            } else {
                const patterns = getPatterns();
                const pattern = randomChoice(patterns);
                result = pattern.generate();
            }
            
            document.getElementById('sentenceOutput').textContent = result.text;
            
            const infoPanel = document.getElementById('infoPanel');
            const grammarInfo = document.getElementById('grammarInfo');
            
            infoPanel.style.display = 'block';
            grammarInfo.innerHTML = result.info.map(item => 
                `<div class="grammar-item"><strong>${item.label}:</strong> ${item.value}</div>`
            ).join('');
            
            document.getElementById('statsOutput').style.display = 'none';
        }
        
        function generateMultiple(count) {
            let sentences = [];
            for (let i = 0; i < count; i++) {
                let result;
                if (generationMode === 'compositional') {
                    result = composeSentence(composComplexity);
                } else {
                    const patterns = getPatterns();
                    const pattern = randomChoice(patterns);
                    result = pattern.generate();
                }
                sentences.push(result.text);
            }
            
            document.getElementById('sentenceOutput').innerHTML = sentences.join('<br><br>');
            document.getElementById('infoPanel').style.display = 'none';
            document.getElementById('statsOutput').style.display = 'none';
        }
        
        function showStats() {
            const stats = `
                <strong>üìä –ü–æ–ª–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã:</strong><br><br>
                
                <strong>–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Å–ª–æ–≤–∞—Ä–∏:</strong><br>
                ‚Ä¢ –°—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö: ${NOUNS.length} (—Å —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ç–µ–≥–∞–º–∏)<br>
                ‚Ä¢ –ü—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω—ã—Ö: ${ADJECTIVES.length} (—Å —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ç–µ–≥–∞–º–∏)<br>
                ‚Ä¢ –ì–ª–∞–≥–æ–ª–æ–≤: ${VERBS.length} (—Å —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ç–µ–≥–∞–º–∏)<br>
                ‚Ä¢ –ß–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã—Ö: ${NUMERALS.length}<br>
                ‚Ä¢ –ù–∞—Ä–µ—á–∏–π: ${Object.values(ADVERBS).flat().length}<br>
                ‚Ä¢ –ü—Ä–µ–¥–ª–æ–≥–æ–≤: ${Object.values(PREPOSITIONS).flat().length}<br>
                ‚Ä¢ –°–æ—é–∑–æ–≤: ${CONJUNCTIONS.coord.length + CONJUNCTIONS.subord.length}<br><br>
                
                <strong>–î–≤–∞ —Ä–µ–∂–∏–º–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:</strong><br><br>
                
                <strong>1. –®–∞–±–ª–æ–Ω–Ω—ã–π —Ä–µ–∂–∏–º (–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π):</strong><br>
                ‚Ä¢ –ü—Ä–æ—Å—Ç—ã–µ: ${SENTENCE_PATTERNS.simple.length} —à–∞–±–ª–æ–Ω–æ–≤<br>
                ‚Ä¢ –°—Ä–µ–¥–Ω–∏–µ: ${SENTENCE_PATTERNS.medium.length} —à–∞–±–ª–æ–Ω–æ–≤<br>
                ‚Ä¢ –°–ª–æ–∂–Ω—ã–µ: ${SENTENCE_PATTERNS.complex.length} —à–∞–±–ª–æ–Ω–æ–≤<br>
                ‚Ä¢ –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π<br>
                ‚Ä¢ –ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏<br><br>
                
                <strong>2. –ö–æ–º–ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–π —Ä–µ–∂–∏–º (–Ω–æ–≤—ã–π):</strong><br>
                ‚Ä¢ 5 —É—Ä–æ–≤–Ω–µ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏<br>
                ‚Ä¢ –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤<br>
                ‚Ä¢ –ü—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω—ã–µ (50% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å)<br>
                ‚Ä¢ –ß–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–µ (20% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å)<br>
                ‚Ä¢ –ü—Ä–∏—á–∞—Å—Ç–Ω—ã–µ –æ–±–æ—Ä–æ—Ç—ã (30% –Ω–∞ —É—Ä–æ–≤–Ω–µ 3+)<br>
                ‚Ä¢ –ù–∞—Ä–µ—á–∏—è (40% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å)<br>
                ‚Ä¢ –î–µ–µ–ø—Ä–∏—á–∞—Å—Ç–Ω—ã–µ –æ–±–æ—Ä–æ—Ç—ã (30% –Ω–∞ —É—Ä–æ–≤–Ω–µ 4+)<br>
                ‚Ä¢ –°–ª–æ–∂–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è (30% –Ω–∞ —É—Ä–æ–≤–Ω–µ 4+)<br>
                ‚Ä¢ –ü—Ä–µ–¥–ª–æ–∂–Ω—ã–µ –æ–±–æ—Ä–æ—Ç—ã (40% –Ω–∞ —É—Ä–æ–≤–Ω–µ 3+)<br><br>
                
                <strong>–ì—Ä–∞–º–º–∞—Ç–∏–∫–∞:</strong><br>
                ‚Ä¢ –í—Ä–µ–º–µ–Ω–∞: 3 (–Ω–∞—Å—Ç–æ—è—â–µ–µ, –ø—Ä–æ—à–µ–¥—à–µ–µ, –±—É–¥—É—â–µ–µ)<br>
                ‚Ä¢ –í–∏–¥—ã: 2 (—Å–æ–≤–µ—Ä—à–µ–Ω–Ω—ã–π, –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω—ã–π)<br>
                ‚Ä¢ –ë—É–¥—É—â–µ–µ –ø—Ä–æ—Å—Ç–æ–µ (—Å–æ–≤.–≤.) –∏ —Å–ª–æ–∂–Ω–æ–µ (–Ω–µ—Å–æ–≤.–≤.)<br>
                ‚Ä¢ –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –≥–ª–∞–≥–æ–ª–æ–≤ –ø–æ —Ä–æ–¥—É –≤ –ø—Ä–æ—à–µ–¥—à–µ–º<br>
                ‚Ä¢ –ü—Ä–∏—á–∞—Å—Ç–∏—è: 4 —Ç–∏–ø–∞<br>
                ‚Ä¢ –î–µ–µ–ø—Ä–∏—á–∞—Å—Ç–∏—è: 2 —Ç–∏–ø–∞<br>
                ‚Ä¢ –ß–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–µ —Å –ø–æ–ª–Ω—ã–º —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ–º<br><br>
                
                <strong>–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ:</strong><br>
                –° —É—á—ë—Ç–æ–º –≤—Å–µ—Ö –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –∏ –∫–æ–º–±–∏–Ω–∞—Ü–∏–π, —Å–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å
                –º–∏–ª–ª–∏–æ–Ω—ã —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –≥—Ä–∞–º–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π!
            `;
            
            document.getElementById('statsOutput').innerHTML = stats;
            document.getElementById('statsOutput').style.display = 'block';
            document.getElementById('infoPanel').style.display = 'none';
        }
        
        window.onload = () => generateSentence();
    </script>
</body>
</html>
